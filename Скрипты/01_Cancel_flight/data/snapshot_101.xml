<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="101">
  <HTTPTask id="971" hostname="mc.yandex.ru" path="/metrika/tag.js" url="https://mc.yandex.ru/metrika/tag.js" ip="87.250.251.119" port="443" connectionId="10" origin="Primary" frame="1" startDateTime="2020-09-17T16:32:40.717+03:00" startTime="247927156" endTime="247927390">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly95YW5kZXgucnUv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cnUtUlU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWMueWFuZGV4LnJ1</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aT10NHp5emgzYXMzOXp6TGtJOHNQVTBmaDVBNm5kRXk4am5CZm5pTjh1M2d1RHBJN2I5cGNiYXRWVnJNUTFnK3JFYnRHYXJ5dTY4M0pKRUVtcWZXNUJnWS9LTm1BPTsgeWFuZGV4dWlkPTY3NTMwNzg2NjE2MDAzNDk0ODQ7IHlwPTE2MDA2MDg2OTUuY2xoLjIyNTY0MjgtMzA2IzE2MDI5NDE0ODYueWd1LjEjMTYxNjExNzQ5Ny5zem0uMToxNjAweDkwMDoxNjAweDc1MjsgeXM9bWNsaWQuMjI1NjQyOC0zMDY7IG1kYT0wOyB5YW5kZXhfZ2lkPTIxMzsgbXk9WXdBPTsgeW1leD0xOTE1NzA5NDk1LnlydHMuMTYwMDM0OTQ5NTsgeWFicy1mcmVxdWVuY3k9LzUvMDAwMDAwMDAwMDAwMDAwMC83QTBfUk9PMDAwMFdGSTQwLzsgX3ltX3dhc1N5bmNlZD0lN0IlMjJ0aW1lJTIyJTNBMTYwMDM0OTQ5OTM3OCUyQyUyMnBhcmFtcyUyMiUzQSU3QiUyMmV1JTIyJTNBMCU3RCUyQyUyMmJrUGFyYW1zJTIyJTNBJTdCJTdEJTdEOyBnZHByPTA7IF95bV91aWQ9MTYwMDM0OTQ5OTU3ODM2NDIxNDsgX3ltX2Q9MTYwMDM0OTQ5OTsgX3ltX2lzYWQ9MjsgeWM9MTYwMDYwODcxMy56ZW4uY2FjUyUzQTE2MDAzNTMwODY7IHlhYnMtc2lkPTU4NjMyODExNjAwMzQ5NDk5OyBzeW5jX2Nvb2tpZV9jc3JmPTMyNDMyOTIxMTRmYWtl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9tZXRyaWthL3RhZy5qcyBIVFRQLzEuMQ0KQWNjZXB0OiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCAqLyo7cT0wLjgNClJlZmVyZXI6IGh0dHBzOi8veWFuZGV4LnJ1Lw0KQWNjZXB0LUxhbmd1YWdlOiBydS1SVQ0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IG1jLnlhbmRleC5ydQ0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBpPXQ0enl6aDNhczM5enpMa0k4c1BVMGZoNUE2bmRFeThqbkJmbmlOOHUzZ3VEcEk3YjlwY2JhdFZWck1RMWcrckVidEdhcnl1NjgzSkpFRW1xZlc1QmdZL0tObUE9OyB5YW5kZXh1aWQ9Njc1MzA3ODY2MTYwMDM0OTQ4NDsgeXA9MTYwMDYwODY5NS5jbGguMjI1NjQyOC0zMDYjMTYwMjk0MTQ4Ni55Z3UuMSMxNjE2MTE3NDk3LnN6bS4xOjE2MDB4OTAwOjE2MDB4NzUyOyB5cz1tY2xpZC4yMjU2NDI4LTMwNjsgbWRhPTA7IHlhbmRleF9naWQ9MjEzOyBteT1Zd0E9OyB5bWV4PTE5MTU3MDk0OTUueXJ0cy4xNjAwMzQ5NDk1OyB5YWJzLWZyZXF1ZW5jeT0vNS8wMDAwMDAwMDAwMDAwMDAwLzdBMF9ST08wMDAwV0ZJNDAvOyBfeW1fd2FzU3luY2VkPSU3QiUyMnRpbWUlMjIlM0ExNjAwMzQ5NDk5Mzc4JTJDJTIycGFyYW1zJTIyJTNBJTdCJTIyZXUlMjIlM0EwJTdEJTJDJTIyYmtQYXJhbXMlMjIlM0ElN0IlN0QlN0Q7IGdkcHI9MDsgX3ltX3VpZD0xNjAwMzQ5NDk5NTc4MzY0MjE0OyBfeW1fZD0xNjAwMzQ5NDk5OyBfeW1faXNhZD0yOyB5Yz0xNjAwNjA4NzEzLnplbi5jYWNTJTNBMTYwMDM1MzA4NjsgeWFicy1zaWQ9NTg2MzI4MTE2MDAzNDk0OTk7IHN5bmNfY29va2llX2NzcmY9MzI0MzI5MjExNGZha2UNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="i" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dDR6eXpoM2FzMzl6ekxrSThzUFUwZmg1QTZuZEV5OGpuQmZuaU44dTNndURwSTdiOXBjYmF0VlZyTVExZytyRWJ0R2FyeXU2ODNKSkVFbXFmVzVCZ1kvS05tQT0=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="yandexuid" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Njc1MzA3ODY2MTYwMDM0OTQ4NA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="yp" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTYwMDYwODY5NS5jbGguMjI1NjQyOC0zMDYjMTYwMjk0MTQ4Ni55Z3UuMSMxNjE2MTE3NDk3LnN6bS4xOjE2MDB4OTAwOjE2MDB4NzUy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ys" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bWNsaWQuMjI1NjQyOC0zMDY=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="mda" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="yandex_gid" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MjEz</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="my" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>WXdBPQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ymex" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTkxNTcwOTQ5NS55cnRzLjE2MDAzNDk0OTU=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="yabs-frequency" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LzUvMDAwMDAwMDAwMDAwMDAwMC83QTBfUk9PMDAwMFdGSTQwLw==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="_ym_wasSynced" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>JTdCJTIydGltZSUyMiUzQTE2MDAzNDk0OTkzNzglMkMlMjJwYXJhbXMlMjIlM0ElN0IlMjJldSUyMiUzQTAlN0QlMkMlMjJia1BhcmFtcyUyMiUzQSU3QiU3RCU3RA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="gdpr" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="_ym_uid" index="11">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTYwMDM0OTQ5OTU3ODM2NDIxNA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="_ym_d" index="12">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTYwMDM0OTQ5OQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="_ym_isad" index="13">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Mg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="yc" index="14">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTYwMDYwODcxMy56ZW4uY2FjUyUzQTE2MDAzNTMwODY=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="yabs-sid" index="15">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NTg2MzI4MTE2MDAzNDk0OTk=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sync_cookie_csrf" index="16">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MzI0MzI5MjExNGZha2U=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>108841</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmdpbngvMS4xNC4y</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAxNyBTZXAgMjAyMCAxMzozMTo1OCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTA4ODQx</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjVmNjMyNDE5LTFhOTI5Ig==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAxNyBTZXAgMjAyMCAxNDozMTo1OCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zNjAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Origin" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Strict-Transport-Security" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAxNyBTZXAgMjAyMCAwODo1Mzo0NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IG5naW54LzEuMTQuMg0KRGF0ZTogVGh1LCAxNyBTZXAgMjAyMCAxMzozMTo1OCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1MZW5ndGg6IDEwODg0MQ0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KRVRhZzogIjVmNjMyNDE5LTFhOTI5Ig0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KRXhwaXJlczogVGh1LCAxNyBTZXAgMjAyMCAxNDozMTo1OCBHTVQNCkNhY2hlLUNvbnRyb2w6IG1heC1hZ2U9MzYwMA0KQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luOiAqDQpTdHJpY3QtVHJhbnNwb3J0LVNlY3VyaXR5OiBtYXgtYWdlPTMxNTM2MDAwDQpMYXN0LU1vZGlmaWVkOiBUaHUsIDE3IFNlcCAyMDIwIDA4OjUzOjQ1IEdNVA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>77u/KGZ1bmN0aW9uKG0sdCxBKXtmdW5jdGlvbiBEKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGQpe2N8fGxhKGQsYil9fX1mdW5jdGlvbiBsYShhLGIpe3ZhciBjO2lmKC4wMT5NYXRoLnJhbmRvbSgpKXRyeXt2YXIgZD1hJiZhLm1lc3NhZ2V8fCIiOyhjPS0xPGQuaW5kZXhPZigibmV0d29yayBlcnJvciBvY2N1cnJlZCIpfHwtMTxkLmluZGV4T2YoInNlbmQgYmVhY29uIikmJi0xPGQuaW5kZXhPZigiQ29udGVudCBTZWN1cml0eSBQb2xpY3kiKSl8fChuZXcgS2EpLmxvZygianNlcnJzIix6YSxhLm1lc3NhZ2UsYixMLmhyZWYsIiIsInN0cmluZyI9PT10eXBlb2YgYS5zdGFjayYmYS5zdGFjay5yZXBsYWNlKC9cbi9nLCJcXG4iKSl9Y2F0Y2goZil7fX1mdW5jdGlvbiBJKGEsYixjLGQpe3JldHVybiBtLnNldFRpbWVvdXQoRChhLGN8fCJzZXRUaW1lb3V0IixkKSxiKX1mdW5jdGlvbiBTYihhLGIsYyxkLGYpe2Z1bmN0aW9uIGwoYSwKZSl7ZT1NYXRoLm1heCgwLE1hdGgubWluKGUsNjU1MzUpKTtoLm1lcmdlQXJyYXlzKGEsW2U+PjgsZSYyNTVdKX1mdW5jdGlvbiBnKGEsZSl7aC5tZXJnZUFycmF5cyhhLFtlJjI1NV0pfWZ1bmN0aW9uIG4oYSxlKXtpZigtMT09cmEuaW5kZXhPZihlKSlyZXR1cm4hMDtnKGEsZSl9ZnVuY3Rpb24gcihhLGUpe2ZvcihlPU1hdGgubWF4KDAsZXwwKTsxMjc8ZTspaC5tZXJnZUFycmF5cyhhLFtlJjEyN3wxMjhdKSxlPj49NztoLm1lcmdlQXJyYXlzKGEsW2VdKX1mdW5jdGlvbiB3KGEsZSl7MjU1PGUubGVuZ3RoJiYoZT1lLnN1YnN0cigwLDI1NSkpO2gubWVyZ2VBcnJheXMoYSxbZS5sZW5ndGhdKTtmb3IodmFyIGI9MDtiPGUubGVuZ3RoO2IrKylsKGEsZS5jaGFyQ29kZUF0KGIpKX1mdW5jdGlvbiBwKGEsZSl7cihhLGUubGVuZ3RoKTtmb3IodmFyIGI9MDtiPGUubGVuZ3RoO2IrKylyKGEsZS5jaGFyQ29kZUF0KGIpKX1mdW5jdGlvbiBGKGEpe2lmKCFhLm5vZGVOYW1lKXJldHVybiBhW1ddPQotMSxudWxsO3ZhciBlPSthW1ddO2lmKCFpc0Zpbml0ZShlKXx8MD49ZSlyZXR1cm4gbnVsbDtpZihhLmF0dHJpYnV0ZXMpZm9yKHZhciBiPWE7Yjspe2lmKGIuYXR0cmlidXRlcy5fX3ltX3d2X2lnbilyZXR1cm4gbnVsbDtiPWIucGFyZW50RWxlbWVudH1iPTY0O3ZhciBjPTAsaz11LmdldEVsZW1lbnRQYXJlbnQoYSksZD1rJiZrW1ddP2tbV106MDswPmQmJihkPTApO3ZhciBmPWEubm9kZU5hbWUudG9VcHBlckNhc2UoKSxxPUZhW2ZdO3F8fChifD0yKTt2YXIgcD11LmdldEVsZW1lbnROZWlnaGJvclBvc2l0aW9uKGEpO3B8fChifD00KTt2YXIgQj11LmdldEVsZW1lbnRSZWdpb24oYSk7KGs9az91LmdldEVsZW1lbnRSZWdpb24oayk6bnVsbCkmJkJbMF09PWtbMF0mJkJbMV09PWtbMV0mJkJbMl09PWtbMl0mJkJbM109PWtbM10mJihifD04KTtMYVtlXS5wb3M9QlswXSsieCIrQlsxXTtMYVtlXS5zaXplPUJbMl0rIngiK0JbM107YS5pZCYmInN0cmluZyI9PXR5cGVvZiBhLmlkJiYKKGJ8PTMyKTsoaz11LmNhbGNUZXh0Q2hlY2tzdW0oYSkpJiYoYnw9MTYpO3ZhciBGPXUuY2FsY0F0dHJpYkNoZWNrc3VtKGEpO0YmJihjfD0yKTthOnt2YXIgej11LmdldEVsZW1lbnRDaGlsZHJlbih1LmdldEVsZW1lbnRQYXJlbnQoYSksYS50YWdOYW1lKTtmb3IodmFyIEg9MDtIPHoubGVuZ3RoO0grKylpZigoIXpbSF0uaWR8fCJzdHJpbmciIT10eXBlb2YgeltIXS5pZCkmJnUuY2FsY0F0dHJpYkNoZWNrc3VtKHpbSF0pPT1GJiZ1LmNhbGNUZXh0Q2hlY2tzdW0oeltIXSk9PWspe3o9ITA7YnJlYWsgYX16PSExfWlmKHope2J8PTE7dmFyIGg9dS5jYWxjQ2hpbGRyZW5DaGVja3N1bShhKX16PVtdO2lmKG4oeiwxKSlyZXR1cm4gbnVsbDtyKHosZSk7Zyh6LGIpO3IoeixkKTtxP2coeixxKTp3KHosZik7cCYmcih6LHApO2ImOHx8KHIoeixCWzBdKSxyKHosQlsxXSkscih6LEJbMl0pLHIoeixCWzNdKSk7YiYzMiYmdyh6LGEuaWQpO2smJmwoeixrKTtiJjEmJmwoeixoKTtnKHosYyk7CkYmJmwoeixGKTtyZXR1cm4gen1mdW5jdGlvbiBxKGEsZSxiLGMsayxkKXtmb3IodmFyIGY7YiYmKGY9dS5nZXRFbGVtZW50U2l6ZShiKSkmJighZlswXXx8IWZbMV0pOyliPXUuZ2V0RWxlbWVudFBhcmVudChiKTtpZighYilyZXR1cm4gbnVsbDtmPWJbV107aWYoIWZ8fDA+ZilyZXR1cm4gbnVsbDt2YXIgcT17bW91c2Vtb3ZlOjIsY2xpY2s6MzIsZGJsY2xpY2s6MzMsbW91c2Vkb3duOjQsbW91c2V1cDozMCx0b3VjaDoxMn1bZV07aWYoIXEpcmV0dXJuIG51bGw7dmFyIHA9dS5nZXRFbGVtZW50WFkoYik7Yj1bXTtpZihuKGIscSkpcmV0dXJuIG51bGw7cihiLGEpO3IoYixmKTtyKGIsTWF0aC5tYXgoMCxjWzBdLXBbMF0pKTtyKGIsTWF0aC5tYXgoMCxjWzFdLXBbMV0pKTsvXm1vdXNlKHVwfGRvd24pfGNsaWNrJC8udGVzdChlKSYmKGE9a3x8ZCxnKGIsMj5hPzE6YT09KGs/Mjo0KT80OjIpKTtyZXR1cm4gYn1mdW5jdGlvbiBrKGEsZSxiLGMsayl7dmFyIGQ9W107aWYobihkLDM4KSlyZXR1cm4gbnVsbDsKcihkLGEpO2woZCxlKTtnKGQsYik7YT1jW1ddO2lmKCFhfHwwPmEpYT0wO3IoZCxhKTtnKGQsaz8xOjApO3JldHVybiBkfWZ1bmN0aW9uIGUoYSxlKXt2YXIgYjtpZigwPT1lLmxlbmd0aCl2YXIgYz1iPSIiO2Vsc2UgMTAwPj1lLmxlbmd0aD8oYj1lLGM9IiIpOjIwMD49ZS5sZW5ndGg/KGI9ZS5zdWJzdHIoMCwxMDApLGM9ZS5zdWJzdHIoMTAwKSk6KGI9ZS5zdWJzdHIoMCw5NyksYz1lLnN1YnN0cihlLmxlbmd0aC05NykpO3ZhciBrPVtdO2lmKG4oaywyOSkpcmV0dXJuIG51bGw7cihrLGEpO3AoayxiKTtwKGssYyk7cmV0dXJuIGt9ZnVuY3Rpb24gQihhKXt2YXIgZT1bXTtpZihuKGUsMjcpKXJldHVybiBudWxsO3IoZSxhKTtyZXR1cm4gZX1mdW5jdGlvbiBIKGEpe3ZhciBlPVtdO2coZSwxNCk7cihlLGEpO3JldHVybiBlfWZ1bmN0aW9uIHooYSl7dmFyIGU9W107aWYobihlLDE1KSlyZXR1cm4gbnVsbDtyKGUsYSk7cmV0dXJuIGV9ZnVuY3Rpb24gWihhLGUpe3ZhciBiPVtdO2lmKG4oYiwKMTcpKXJldHVybiBudWxsO3IoYixhKTtyKGIsZVtXXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gVWEoYSxlKXt2YXIgYj1bXTtpZihuKGIsMTgpKXJldHVybiBudWxsO3IoYixhKTtyKGIsZVtXXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gTWEoYSxlLGIsYyl7dmFyIGs9W107aWYobihrLDM5KSlyZXR1cm4gbnVsbDtyKGssYSk7cihrLGVbV10pO3coayxTdHJpbmcoYikpO2coayxjPzE6MCk7cmV0dXJuIGt9ZnVuY3Rpb24gTmEoYSxlKXt2YXIgYj1lW1ddO2lmKDA8Yil7dmFyIGM9W10saz11LmdldEVsZW1lbnRSZWdpb24oZSksZD1MYVtiXSxnPWtbMF0rIngiK2tbMV0sZj1rWzJdKyJ4IitrWzNdO2lmKGchPWQucG9zKXtkLnBvcz1nO2lmKG4oYyw5KSlyZXR1cm4gbnVsbDtyKGMsYSk7cihjLGIpO3IoYyxrWzBdKTtyKGMsa1sxXSl9aWYoZiE9ZC5zaXplKXtkLnNpemU9ZjtpZihuKGMsMTApKXJldHVybiBudWxsO3IoYyxhKTtyKGMsYik7cihjLGtbMl0pO3IoYyxrWzNdKX1pZihjLmxlbmd0aClyZXR1cm4gY31yZXR1cm4gbnVsbH0KZnVuY3Rpb24gVmEoYSl7dmFyIGU9YVtXXTtpZighZXx8MD5lfHwhL15JTlBVVHxTRUxFQ1R8VEVYVEFSRUEkLy50ZXN0KGEubm9kZU5hbWUpfHwhYS5mb3JtfHxBKGEuZm9ybSkpcmV0dXJuIG51bGw7dmFyIGI9dS5nZXRGb3JtTnVtYmVyKGEuZm9ybSk7aWYoMD5iKXJldHVybiBudWxsO3ZhciBjPSJJTlBVVCI9PWEubm9kZU5hbWU/e3RleHQ6MCxjb2xvcjowLGRhdGU6MCxkYXRldGltZTowLCJkYXRldGltZS1sb2NhbCI6MCxlbWFpbDowLG51bWJlcjowLHJhbmdlOjAsc2VhcmNoOjAsdGVsOjAsdGltZTowLHVybDowLG1vbnRoOjAsd2VlazowLHBhc3N3b3JkOjIscmFkaW86MyxjaGVja2JveDo0LGZpbGU6NixpbWFnZTo3fVthLnR5cGVdOntTRUxFQ1Q6MSxURVhUQVJFQTo1fVthLm5vZGVOYW1lXTtpZigibnVtYmVyIiE9dHlwZW9mIGMpcmV0dXJuIG51bGw7Zm9yKHZhciBrPS0xLGQ9YS5mb3JtLmVsZW1lbnRzLGc9ZC5sZW5ndGgsZj0wLHE9MDtmPGc7ZisrKWlmKGRbZl0ubmFtZT09CmEubmFtZSl7aWYoZFtmXT09YSl7az1xO2JyZWFrfXErK31pZigwPmspcmV0dXJuIG51bGw7ZD1bXTtpZihuKGQsNykpcmV0dXJuIG51bGw7cihkLGUpO3IoZCxiKTtyKGQsYyk7cChkLGEubmFtZXx8IiIpO3IoZCxrKTtyZXR1cm4gZH1mdW5jdGlvbiBHKGEsZSl7dmFyIGI9dS5nZXRGb3JtTnVtYmVyKGUpO2lmKDA+YilyZXR1cm4gbnVsbDtmb3IodmFyIGM9ZS5lbGVtZW50cyxrPWMubGVuZ3RoLGQ9W10sZz0wO2c8aztnKyspaWYoIXUuaXNFbXB0eUZpZWxkKGNbZ10pKXt2YXIgZj1jW2ddW1ddO2YmJjA8ZiYmaC5tZXJnZUFycmF5cyhkLFtmXSl9Yz1bXTtpZihuKGMsMTEpKXJldHVybiBudWxsO3IoYyxhKTtyKGMsYik7cihjLGQubGVuZ3RoKTtmb3IoYj0wO2I8ZC5sZW5ndGg7YisrKXIoYyxkW2JdKTtyZXR1cm4gY31mdW5jdGlvbiBiYShhLGUsYil7YT1hLmFwcGx5KG0sZSk7Ty5hcHBlbmQoYSxiKX1mdW5jdGlvbiB2KGEpe2lmKGFbV10pYT1OYSh5Lm5vd0V2ZW50VGltZSgpLAphKTtlbHNle3ZhciBlPXUuZ2V0RWxlbWVudFBhcmVudChhKTtlJiZ2KGUpO2FbV109bWE7TGFbbWFdPXt9O21hKys7ZT1GKGEpO08uYXBwZW5kKGUsdm9pZCAwKTthPVZhKGEpfU8uYXBwZW5kKGEsdm9pZCAwKX1mdW5jdGlvbiB0YShhLGUpe3ZhciBiPWEmJnUuY2xhc3NOYW1lRXhpc3RzKGEsIih5bS1kaXNhYmxlLWtleXN8LW1ldHJpa2Etbm9rZXlzKSIpO2UmJmEmJihiPWJ8fCEhdS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCIoeW0tZGlzYWJsZS1rZXlzfC1tZXRyaWthLW5va2V5cykiLGEpLmxlbmd0aCk7cmV0dXJuIGJ9ZnVuY3Rpb24gQShhKXtyZXR1cm4gYSYmdS5jbGFzc05hbWVFeGlzdHMoYSwiKHltLWRpc2FibGUtc3VibWl0fC1tZXRyaWthLW5vZm9ybSkiKX1mdW5jdGlvbiBuYShhKXt2YXIgZT1TLmdldFRhcmdldChhKTtpZihlJiYiU0NST0xMQkFSIiE9ZS5ub2RlTmFtZSl7aWYoL15JTlBVVHxTRUxFQ1R8VEVYVEFSRUF8QlVUVE9OJC8udGVzdChlLnRhZ05hbWUpKWlmKGVbV10pdihlKTsKZWxzZXt2YXIgYj1lLmZvcm07aWYoYil7Yj1iLmVsZW1lbnRzO2Zvcih2YXIgYz1iLmxlbmd0aCxrPTA7azxjO2srKykvXklOUFVUfFNFTEVDVHxURVhUQVJFQXxCVVRUT04kLy50ZXN0KGJba10udGFnTmFtZSkmJiFiW2tdW1ddJiZ2KGJba10pfWVsc2UgdihlKX1lbHNlIHYoZSk7YmEocSxbeS5ub3dFdmVudFRpbWUoKSxhLnR5cGUsZSxTLmdldFBvcyhhKSxhLndoaWNoLGEuYnV0dG9uXSl9fWZ1bmN0aW9uIEFhKGEpe25hKGEpO2NhKCl9ZnVuY3Rpb24gdGIoYSl7cmV0dXJuKGEuc2hpZnRLZXk/MjowKXwoYS5jdHJsS2V5PzQ6MCl8KGEuYWx0S2V5PzE6MCl8KGEubWV0YUtleT84OjApfChhLmN0cmxLZXl8fGEuYWx0S2V5PzE2OjApfWZ1bmN0aW9uIG9hKGEpe2lmKCFhKXJldHVybntpZ25vcmU6ITAsZm9yY2VSZWNvcmQ6ITEsaXNQcml2YXRlOiExLHByaXZhdGVGbGFnOiExLHJlY29yZERhdGE6ITB9O3ZhciBlPSJwYXNzd29yZCI9PT1hLnR5cGV8fHVhLnRlc3QoYS5uYW1lKXx8CnVhLnRlc3QoYS5pZCksYj1oLnJlZHVjZShmdW5jdGlvbihlLGIpe3JldHVybiBlfHxlYS5nZW5lcmFsUmVnZXgudGVzdChhW2JdKX0sITEsWyJjbGFzc05hbWUiLCJpZCIsIm5hbWUiXSl8fGVhLnBsYWNlaG9sZGVyUmVnZXgudGVzdChhLnBsYWNlaG9sZGVyKSxjPWVhLmZvcmNlUmVjb3JkUmVnZXgudGVzdChhLmNsYXNzTmFtZSk7cmV0dXJue2ZvcmNlUmVjb3JkOmMsaWdub3JlOmUsaXNQcml2YXRlOmIscHJpdmF0ZUZsYWc6IWMmJihifHxlKSxyZWNvcmREYXRhOmN8fCEoYiYmZi5nZXQoImlzRVUiKXx8ZSl9fWZ1bmN0aW9uIHNhKGEpe3JldHVybiJJTlBVVCI9PWEudGFnTmFtZT8icGFzc3dvcmQiPT1hLnR5cGV8fGEubmFtZSYmdWEudGVzdChhLm5hbWUpfHxhLmlkJiZ1YS50ZXN0KGEuaWQpOiExfWZ1bmN0aW9uIEUoYSxlLGIpe2E9Uy5nZXRUYXJnZXQoYSk7dmFyIGM9b2EoYSk7Yy5pZ25vcmV8fCFjLmZvcmNlUmVjb3JkJiYoYy5pc1ByaXZhdGUmJmYuZ2V0KCJpc0VVIil8fAp0YShhKSl8fCh2KGEpLGJhKGssW3kubm93RXZlbnRUaW1lKCksZSxiLGEsYy5wcml2YXRlRmxhZ10pKX1mdW5jdGlvbiBQKGEpe3ZhciBlPWEua2V5Q29kZSxiPXRiKGEpO2lmKHszOjEsODoxLDk6MSwxMzoxLDE2OjEsMTc6MSwxODoxLDE5OjEsMjA6MSwyNzoxLDMzOjEsMzQ6MSwzNToxLDM2OjEsMzc6MSwzODoxLDM5OjEsNDA6MSw0NToxLDQ2OjEsOTE6MSw5MjoxLDkzOjEsMTA2OjEsMTEwOjEsMTExOjEsMTQ0OjEsMTQ1OjF9W2VdfHwxMTI8PWUmJjEyMz49ZXx8OTY8PWUmJjEwNT49ZXx8YiYxNikxOT09ZSYmND09KGImLTE3KSYmKGU9MTQ0KSxFKGEsZSxifDE2KSxHYT0hMSxoLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtHYT0hMH0sMSwiZnZsLmtleURvd24iKSwhKDY3PT1lJiZiJjQpfHxiJjF8fGImMnx8VSgpfWZ1bmN0aW9uIGZhKGEpe0dhJiYhSGEmJjAhPT1hLndoaWNoJiYoRShhLGEuY2hhckNvZGV8fGEua2V5Q29kZSx0YihhKSksSGE9ITAsaC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7SGE9CiExfSwxLCJmdmwua2V5UHJlc3MiKSl9ZnVuY3Rpb24gY2EoKXtpZihtLmdldFNlbGVjdGlvbil7dHJ5e3ZhciBhPW0uZ2V0U2VsZWN0aW9uKCl9Y2F0Y2goVGIpe3JldHVybn12YXIgYj1hLnRvU3RyaW5nKCk7dmFyIGM9YS5hbmNob3JOb2RlfWVsc2UgdC5zZWxlY3Rpb24mJnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlJiYoYT10LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLGI9YS50ZXh0LGM9YS5wYXJlbnRFbGVtZW50KCkpO2lmKCJzdHJpbmciPT10eXBlb2YgYil7dHJ5e2Zvcig7YyYmMSE9Yy5ub2RlVHlwZTspYz1jLnBhcmVudE5vZGV9Y2F0Y2goVGIpe3JldHVybn1pZihjKXthPW9hKGMpLnByaXZhdGVGbGFnfHx0YShjLCEwKTtjPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKTtmb3IodmFyIGs9MDtrPGMubGVuZ3RoJiYhYTspYT1vYShjW2tdKS5wcml2YXRlRmxhZ3x8dGEoY1trXSwhMCksaysrO2IhPXBhJiYocGE9YixiPWE/aC5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZWEub2JmdXNjYXRlZFN5bWJvbH0sCmIuc3BsaXQoIiIpKS5qb2luKCIiKTpiLGJhKGUsW3kubm93RXZlbnRUaW1lKCksYl0pKX19fWZ1bmN0aW9uIFUoKXtPYXx8KE9hPSEwLHBhJiZiYShCLFt5Lm5vd0V2ZW50VGltZSgpXSksaC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7T2E9ITF9LDEsImZ2bC5jb3B5IikpfWZ1bmN0aW9uIFEoKXtxYXx8KHFhPSEwLGJhKEgsW3kubm93RXZlbnRUaW1lKCldKSl9ZnVuY3Rpb24gQygpe3FhJiYocWE9ITEsYmEoeixbeS5ub3dFdmVudFRpbWUoKV0pKX1mdW5jdGlvbiBEKGEpeyghcWF8fGEmJiFhLmZyb21FbGVtZW50KSYmUSgpfWZ1bmN0aW9uIEkoYSl7YSYmIWEudG9FbGVtZW50JiZDKCl9ZnVuY3Rpb24gUihhKXtpZigoYT1TLmdldFRhcmdldChhKSkmJi9eSU5QVVR8U0VMRUNUfFRFWFRBUkVBfEJVVFRPTiQvLnRlc3QoYS50YWdOYW1lKSl7aWYoYVtXXSl2KGEpO2Vsc2V7dmFyIGU9YS5mb3JtO2lmKGUpe2U9ZS5lbGVtZW50cztmb3IodmFyIGI9ZS5sZW5ndGgsYz0wO2M8YjtjKyspL15JTlBVVHxTRUxFQ1R8VEVYVEFSRUF8QlVUVE9OJC8udGVzdChlW2NdLnRhZ05hbWUpJiYKIWVbY11bV10mJnYoZVtjXSl9ZWxzZSB2KGEpfWJhKFosW3kubm93RXZlbnRUaW1lKCksYV0pfX1mdW5jdGlvbiBLKGEpeyhhPVMuZ2V0VGFyZ2V0KGEpKSYmL15JTlBVVHxTRUxFQ1R8VEVYVEFSRUF8QlVUVE9OJC8udGVzdChhLnRhZ05hbWUpJiYodihhKSxiYShVYSxbeS5ub3dFdmVudFRpbWUoKSxhXSkpfWZ1bmN0aW9uIEwoYSl7aWYoKGE9Uy5nZXRUYXJnZXQoYSkpJiYhc2EoYSkmJiF0YShhKSYmL15JTlBVVHxTRUxFQ1R8VEVYVEFSRUEkLy50ZXN0KGEudGFnTmFtZSkpe3ZhciBlPW9hKGEpLGI9L14oY2hlY2tib3h8cmFkaW8pJC8udGVzdChhLnR5cGUpP2EuY2hlY2tlZDphLnZhbHVlO2I9ZS5yZWNvcmREYXRhP2I6aC5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZWEub2JmdXNjYXRlZFN5bWJvbH0sYi5zcGxpdCgiIikpLmpvaW4oIiIpO3YoYSk7YmEoTWEsW3kubm93RXZlbnRUaW1lKCksYSxiLGUucHJpdmF0ZUZsYWddKX19ZnVuY3Rpb24gSihhKXtpZigoYT1TLmdldFRhcmdldChhKSkmJgohQShhKSYmIkZPUk0iPT1hLm5vZGVOYW1lKXtmb3IodmFyIGU9YS5lbGVtZW50cyxiPTA7YjxlLmxlbmd0aDtiKyspdS5pc0VtcHR5RmllbGQoZVtiXSl8fHYoZVtiXSk7YmEoRyxbeS5ub3dFdmVudFRpbWUoKSxhXSwhMCl9fWZ1bmN0aW9uIE4oYSl7KGE9Uy5nZXRUYXJnZXQoYSkpJiYiQk9EWSI9PWEudGFnTmFtZSYmTy5hcHBlbmQoW10sITApfXZhciBPPW5ldyB1Yih7cHJvdG9jb2w6YSxjb3VudGVySWQ6YixnbG9iYWxDb25maWc6Zixjb3VudGVyVHlwZTpjLG1ldGE6e3VybDpNKCkuaHJlZixoaXRJZDpkLHRpbWV6b25lOmhiLHRpbWVzdGFtcDppYn19KSxGYT17QToxLEFCQlI6MixBQ1JPTllNOjMsQUREUkVTUzo0LEFQUExFVDo1LEFSRUE6NixCOjcsQkFTRTo4LEJBU0VGT05UOjksQkRPOjEwLEJJRzoxMSxCTE9DS1FVT1RFOjEyLEJPRFk6MTMsQlI6MTQsQlVUVE9OOjE1LENBUFRJT046MTYsQ0VOVEVSOjE3LENJVEU6MTgsQ09ERToxOSxDT0w6MjAsQ09MR1JPVVA6MjEsREQ6MjIsCkRFTDoyMyxERk46MjQsRElSOjI1LERJVjoyNixETDoyNyxEVDoyOCxFTToyOSxGSUVMRFNFVDozMCxGT05UOjMxLEZPUk06MzIsRlJBTUU6MzMsRlJBTUVTRVQ6MzQsSDE6MzUsSDI6MzYsSDM6MzcsSDQ6MzgsSDU6MzksSDY6NDAsSEVBRDo0MSxIUjo0MixIVE1MOjQzLEk6NDQsSUZSQU1FOjQ1LElNRzo0NixJTlBVVDo0NyxJTlM6NDgsSVNJTkRFWDo0OSxLQkQ6NTAsTEFCRUw6NTEsTEVHRU5EOjUyLExJOjUzLExJTks6NTQsTUFQOjU1LE1FTlU6NTYsTUVUQTo1NyxOT0ZSQU1FUzo1OCxOT1NDUklQVDo1OSxPQkpFQ1Q6NjAsT0w6NjEsT1BUR1JPVVA6NjIsT1BUSU9OOjYzLFA6NjQsUEFSQU06NjUsUFJFOjY2LFE6NjcsUzo2OCxTQU1QOjY5LFNDUklQVDo3MCxTRUxFQ1Q6NzEsU01BTEw6NzIsU1BBTjo3MyxTVFJJS0U6NzQsU1RST05HOjc1LFNUWUxFOjc2LFNVQjo3NyxTVVA6NzgsVEFCTEU6NzksVEJPRFk6ODAsVEQ6ODEsVEVYVEFSRUE6ODIsVEZPT1Q6ODMsVEg6ODQsVEhFQUQ6ODUsClRJVExFOjg2LFRSOjg3LFRUOjg4LFU6ODksVUw6OTAsVkFSOjkxLE5PSU5ERVg6MTAwfSxyYT1bMTcsMTgsMzgsMzIsMzksMTUsMTEsNywxXSxlYT1mdW5jdGlvbigpe3ZhciBhPSJmaXJzdCgtfFxcLnxffFxccyl7MCwyfW5hbWUgbGFzdCgtfFxcLnxffFxccyl7MCwyfW5hbWUgemlwIHBvc3RhbCBwaG9uZSBhZGRyZXNzIHBhc3Nwb3J0IChiYW5rfGNyZWRpdCkoLXxcXC58X3xcXHMpezAsMn1jYXJkIGNhcmQoLXxcXC58X3xcXHMpezAsMn1udW1iZXIgY2FyZCgtfFxcLnxffFxccyl7MCwyfWhvbGRlciBjdnYgY2FyZCgtfFxcLnxffFxccyl7MCwyfWV4cCBjYXJkKC18XFwufF98XFxzKXswLDJ9bmFtZSBjYXJkLiptb250aCBjYXJkLip5ZWFyIGNhcmQuKm1vbnRoIGNhcmQuKnllYXIgcGFzc3dvcmQgZW1haWwgYmlydGgoLXxcXC58X3xcXHMpezAsMn0oZGF5fGRhdGUpIHNlY29uZCgtfFxcLnxffFxccyl7MCwyfW5hbWUgdGhpcmQoLXxcXC58X3xcXHMpezAsMn1uYW1lIHBhdHJvbnltaWMgbWlkZGxlKC18XFwufF98XFxzKXswLDJ9bmFtZSBiaXJ0aCgtfFxcLnxffFxccyl7MCwyfXBsYWNlIGhvdXNlIHN0cmVldCBjaXR5IGZsYXQgc3RhdGUiLnNwbGl0KCIgIik7CnJldHVybntnZW5lcmFsUmVnZXg6bmV3IFJlZ0V4cCgiKCIrYS5qb2luKCJ8IikrIikiLCJpIikscGxhY2Vob2xkZXJSZWdleDpuZXcgUmVnRXhwKCIoIithLmNvbmNhdCgiXHUwNDM4XHUwNDNjXHUwNDRmO1x1MDQ0NFx1MDQzMFx1MDQzY1x1MDQzOFx1MDQzYlx1MDQzOFx1MDQ0ZjtcdTA0M2VcdTA0NDJcdTA0NDdcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzJcdTA0M2U7XHUwNDM4XHUwNDNkXHUwNDM0XHUwNDM1XHUwNDNhXHUwNDQxO1x1MDQ0Mlx1MDQzNVx1MDQzYlx1MDQzNVx1MDQ0NFx1MDQzZVx1MDQzZDtcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzVcdTA0NDE7XHUwNDNmXHUwNDMwXHUwNDQxXHUwNDNmXHUwNDNlXHUwNDQwXHUwNDQyO1x1MDQxZFx1MDQzZVx1MDQzY1x1MDQzNVx1MDQ0MCgtfFxcLnxffFxccyl7MCwyfVx1MDQzYVx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQ0YjtcdTA0MzRcdTA0MzBcdTA0NDJcdTA0MzAoLXxcXC58X3xcXHMpezAsMn0gXHUwNDQwXHUwNDNlXHUwNDM2XHUwNDM0XHUwNDM1XHUwNDNkXHUwNDM4XHUwNDRmO1x1MDQzNFx1MDQzZVx1MDQzYztcdTA0NDNcdTA0M2JcdTA0MzhcdTA0NDZcdTA0MzA7XHUwNDNhXHUwNDMyXHUwNDMwXHUwNDQwXHUwNDQyXHUwNDM4XHUwNDQwXHUwNDMwO1x1MDQzM1x1MDQzZVx1MDQ0MFx1MDQzZVx1MDQzNDtcdTA0M2VcdTA0MzFcdTA0M2JcdTA0MzBcdTA0NDFcdTA0NDJcdTA0NGMiLnNwbGl0KCI7IikpLmpvaW4oInwiKSsKIikiLCJpIiksZm9yY2VSZWNvcmRSZWdleDoveW0tcmVjb3JkLWtleXMvaSxvYmZ1c2NhdGVkU3ltYm9sOlN0cmluZy5mcm9tQ2hhckNvZGUoODIyNiksb2JmdXNjYXRlZEtleUNvZGU6ODh9fSgpLG1hPTEsdWE9L14ocGFzc3dvcmR8cGFzc3dkfHBzd2QpJC8sR2E9ITAsSGE9ITEscGE9IiIsT2E9ITEscWE9ITA7eS5pbml0Q29ycmVjdG9yKCk7eS5ub3dUaW1lKCk7dmFyIFc9Im1ldHJpa2FJZF8iK01hdGgucmFuZG9tKCksTGE9e30sV2E9IjpzdWJtaXQiK01hdGgucmFuZG9tKCk7aWYoIWguaXNNZXRyaWthUGxheWVyKCkpe3gub24odCwiY2xpY2ssZGJsY2xpY2ssbW91c2Vkb3duIixuYSk7eC5vbih0LCJtb3VzZXVwIixBYSk7eC5vbih0LCJrZXlkb3duIixQKTt4Lm9uKHQsImtleXByZXNzIixmYSk7eC5vbih0LCJjb3B5IixVKTtpZih1LmdldEJvZHkoKSl4Lm9uKHQsIm1vdXNlbGVhdmUiLE4pO3QuYXR0YWNoRXZlbnQmJiFtLm9wZXJhPyh4Lm9uKHQsImZvY3VzaW4iLEQpLHgub24odCwKImZvY3Vzb3V0IixJKSk6KHgub24obSwiZm9jdXMiLFEpLHgub24obSwiYmx1ciIsQykseC5vbih0LCJibHVyIixDKSk7dC5hZGRFdmVudExpc3RlbmVyPyh4Lm9uKHQsImZvY3VzIixSKSx4Lm9uKHQsImJsdXIiLEspLHgub24odCwiY2hhbmdlIixMKSx4Lm9uKHQsInN1Ym1pdCIsSikpOnQuYXR0YWNoRXZlbnQmJih4Lm9uKHQsImZvY3VzaW4iLFIpLHgub24odCwiZm9jdXNvdXQiLEspLGZ1bmN0aW9uKCl7Zm9yKHZhciBhPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImZvcm0iKSxlPTA7ZTxhLmxlbmd0aDtlKyspe2Zvcih2YXIgYj1hW2VdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksYz0wO2M8Yi5sZW5ndGg7YysrKWlmKC9eSU5QVVR8U0VMRUNUfFRFWFRBUkVBJC8udGVzdChiW2NdLnRhZ05hbWUpKXgub24oYltjXSwiY2hhbmdlIixMKTt4Lm9uKGFbZV0sInN1Ym1pdCIsSil9fSgpKTsoZnVuY3Rpb24oKXt2YXIgYT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJmb3JtIik7aWYoYS5sZW5ndGgpZm9yKHZhciBlPQowO2U8YS5sZW5ndGg7ZSsrKXt2YXIgYj1hW2VdLnN1Ym1pdDtpZigiZnVuY3Rpb24iPT10eXBlb2YgYnx8Im9iamVjdCI9PXR5cGVvZiBiJiYvXlxzKmZ1bmN0aW9uIHN1Ym1pdFwoXCkvLnRlc3QoU3RyaW5nKGIpKSlhW2VdW1dhXT1iLGFbZV0uc3VibWl0PWZ1bmN0aW9uKCl7Sih7dGFyZ2V0OnRoaXN9KTtyZXR1cm4gdGhpc1tXYV0oKX19fSkoKX1yZXR1cm57c3RhcnQ6ZnVuY3Rpb24oKXtPLmFjdGl2YXRlKCl9LHN0b3A6ZnVuY3Rpb24oKXtPLmNsZWFyKCk7eC51bih0LCJjbGljayIsbmEpO3gudW4odCwiZGJsY2xpY2siLG5hKTt4LnVuKHQsIm1vdXNlZG93biIsbmEpO3gudW4odCwibW91c2V1cCIsQWEpO3gudW4odCwia2V5ZG93biIsUCk7eC51bih0LCJrZXlwcmVzcyIsZmEpO3gudW4odCwiY29weSIsVSk7eC51bih0LCJmb2N1c2luIixEKTt4LnVuKHQsImZvY3Vzb3V0IixJKTt4LnVuKG0sImZvY3VzIixRKTt4LnVuKG0sImJsdXIiLEMpO3gudW4odCwiYmx1ciIsQyk7dC5yZW1vdmVFdmVudExpc3RlbmVyPwooeC51bih0LCJmb2N1cyIsUikseC51bih0LCJibHVyIixLKSx4LnVuKHQsImNoYW5nZSIsTCkseC51bih0LCJzdWJtaXQiLEopKTp0LmRldGFjaEV2ZW50JiYoeC51bih0LCJmb2N1c2luIixSKSx4LnVuKHQsImZvY3Vzb3V0IixLKSxmdW5jdGlvbigpe2Zvcih2YXIgYT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJmb3JtIiksZT0wO2U8YS5sZW5ndGg7ZSsrKXtmb3IodmFyIGI9YVtlXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLGM9MDtjPGIubGVuZ3RoO2MrKykvXklOUFVUfFNFTEVDVHxURVhUQVJFQSQvLnRlc3QoYltjXS50YWdOYW1lKSYmeC51bihiW2NdLCJjaGFuZ2UiLEwpO3gudW4oYVtlXSwic3VibWl0IixKKX19KCkpOyhmdW5jdGlvbigpe2Zvcih2YXIgYT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJmb3JtIiksZT0wO2U8YS5sZW5ndGg7ZSsrKWFbZV1bV2FdJiYoYVtlXS5zdWJtaXQ9YVtlXVtXYV0pfSkoKX19fWZ1bmN0aW9uIE0oKXtmb3IodmFyIGE9e30sYj0iaGFzaCBob3N0IGhvc3RuYW1lIGhyZWYgcGF0aG5hbWUgcG9ydCBwcm90b2NvbCBzZWFyY2giLnNwbGl0KCIgIiksCmM9Yi5sZW5ndGgsZD1jLGYsbDtkLS07KWFbYltkXV09IiI7dHJ5e2ZvcihmPW0ubG9jYXRpb24sZD1jO2QtLTspbD1iW2RdLGFbbF09IiIrZltsXX1jYXRjaChnKXtMJiYoYT1MKX1yZXR1cm4gYX1mdW5jdGlvbiBCYSgpe3JldHVybiAwPT1NKCkuaG9zdG5hbWUuc2VhcmNoKC9eKC4qXC4pPygoeWFuZGV4KC10ZWFtKT8pXC4oY29tP1wuKT9bYS16XSt8KGF1dG98a2lub3BvaXNrfGJlcnV8YnJpbmdseSlcLnJ1fHlhXC4ocnV8Y2MpfHlhZGlcLnNrfHlhc3RhdGljXC5uZXR8LipcLnlhbmRleHx0dXJib3BhZ2VzXC5vcmd8dHVyYm9cLnNpdGUpJC8pfWZ1bmN0aW9uIGpiKGEpe3JldHVybi0xIT09KCIiK20ubmF2aWdhdG9yLnVzZXJBZ2VudCkudG9Mb3dlckNhc2UoKS5zZWFyY2goYSl9ZnVuY3Rpb24gdmIoYSl7cmV0dXJuKGE9YSYmYS5pbm5lckhUTUwmJmEuaW5uZXJIVE1MLnJlcGxhY2UoLzxcLz9bXj5dKz4vZ2ksIiIpKT8oIiIrYSkucmVwbGFjZSgvXlxzKy8sIiIpLnJlcGxhY2UoL1xzKyQvLAoiIik6IiJ9ZnVuY3Rpb24gd2IoYSxiKXt2YXIgYztpZighYXx8IWIpcmV0dXJuITE7dmFyIGQ9W107Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKylkLnB1c2goYltjXS5yZXBsYWNlKC9cXi9nLCJcXF4iKS5yZXBsYWNlKC9cJC9nLCJcXCQiKS5yZXBsYWNlKC9cLi9nLCJcXC4iKS5yZXBsYWNlKC9cWy9nLCJcXFsiKS5yZXBsYWNlKC9cXS9nLCJcXF0iKS5yZXBsYWNlKC9cfC9nLCJcXHwiKS5yZXBsYWNlKC9cKC9nLCJcXCgiKS5yZXBsYWNlKC9cKS9nLCJcXCkiKS5yZXBsYWNlKC9cPy9nLCJcXD8iKS5yZXBsYWNlKC9cKi9nLCJcXCoiKS5yZXBsYWNlKC9cKy9nLCJcXCsiKS5yZXBsYWNlKC9cey9nLCJcXHsiKS5yZXBsYWNlKC9cfS9nLCJcXH0iKSk7cmV0dXJuKG5ldyBSZWdFeHAoIlxcLigiK2Quam9pbigifCIpKyIpJCIsImkiKSkudGVzdChhKX1mdW5jdGlvbiBWYihhLGIpe2Z1bmN0aW9uIGMoYSl7YT1hLnNwbGl0KCI6Iik7YT1hWzFdfHwiIjthPWEucmVwbGFjZSgvXlwvKi8sIiIpLnJlcGxhY2UoL153d3dcLi8sCiIiKTtyZXR1cm4gYS5zcGxpdCgiLyIpWzBdfXJldHVybiBhJiZiP2MoYSk9PWMoYik6YXx8Yj8hMTohMH1mdW5jdGlvbiB4Yigpe3ZhciBhPW0ucGVyZm9ybWFuY2V8fG0ud2Via2l0UGVyZm9ybWFuY2UsYj1hJiZhLnRpbWluZyxjLGQ9W107aWYoYiYmKGM9Yi5uYXZpZ2F0aW9uU3RhcnQpKWZvcihkPVtiLmRvbWFpbkxvb2t1cEVuZC1iLmRvbWFpbkxvb2t1cFN0YXJ0LGIuY29ubmVjdEVuZC1iLmNvbm5lY3RTdGFydCxiLnJlc3BvbnNlU3RhcnQtYi5yZXF1ZXN0U3RhcnQsYi5yZXNwb25zZUVuZC1iLnJlc3BvbnNlU3RhcnQsYi5mZXRjaFN0YXJ0LWMsYi5yZWRpcmVjdEVuZC1iLnJlZGlyZWN0U3RhcnQsYi5yZWRpcmVjdENvdW50fHxhLm5hdmlnYXRpb24mJmEubmF2aWdhdGlvbi5yZWRpcmVjdENvdW50XSxkLnB1c2goYi5kb21JbnRlcmFjdGl2ZSYmYi5kb21Mb2FkaW5nP2IuZG9tSW50ZXJhY3RpdmUtYi5kb21Mb2FkaW5nOm51bGwpLGQucHVzaChiLmRvbUNvbnRlbnRMb2FkZWRFdmVudFN0YXJ0JiYKYi5kb21Db250ZW50TG9hZGVkRXZlbnRFbmQ/Yi5kb21Db250ZW50TG9hZGVkRXZlbnRFbmQtYi5kb21Db250ZW50TG9hZGVkRXZlbnRTdGFydDpudWxsKSxkLnB1c2goYi5kb21Db21wbGV0ZT9iLmRvbUNvbXBsZXRlLWM6bnVsbCksZC5wdXNoKGIubG9hZEV2ZW50U3RhcnQ/Yi5sb2FkRXZlbnRTdGFydC1jOm51bGwpLGQucHVzaChiLmxvYWRFdmVudFN0YXJ0JiZiLmxvYWRFdmVudEVuZD9iLmxvYWRFdmVudEVuZC1iLmxvYWRFdmVudFN0YXJ0Om51bGwpLGQucHVzaChiLmRvbUNvbnRlbnRMb2FkZWRFdmVudFN0YXJ0P2IuZG9tQ29udGVudExvYWRlZEV2ZW50U3RhcnQtYzpudWxsKSxhPTA7YTxkLmxlbmd0aDthKyspYj1kW2FdLG51bGwhPT1iJiYoMD5ifHwzNkU1PGIpJiYoZFthXT1udWxsKTtyZXR1cm4gZH1mdW5jdGlvbiBXYihhKXt2YXIgYj1bXSxjPWEuX2xhc3RQZXJmb3JtYW5jZVRpbWluZyxkPXhiKCksZjtpZihjKXt2YXIgbD0wO2ZvcihmPWMubGVuZ3RoO2w8ZjtsKyspbnVsbD09PQpkW2xdP2IucHVzaChkW2xdKTpiLnB1c2goY1tsXT09PWRbbF0/IiI6ZFtsXSl9ZWxzZSBiPWQ7YS5fbGFzdFBlcmZvcm1hbmNlVGltaW5nPWQ7cmV0dXJuIGIuam9pbigiLCIpfWZ1bmN0aW9uIFhiKGEpe3JldHVybiJmaXJzdC1jb250ZW50ZnVsLXBhaW50Ij09PWEubmFtZX1mdW5jdGlvbiBZYigpe3ZhciBhPW0ucGVyZm9ybWFuY2UmJm0ucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZSxiPWE/aC5maWx0ZXIoWGIsbS5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKCJwYWludCIpKTpbXTtpZihiLmxlbmd0aClyZXR1cm4gYj1iWzBdLE1hdGgucm91bmQoYi5zdGFydFRpbWUpO2lmKGEpcmV0dXJuIDA7aWYoIm9iamVjdCI9PXR5cGVvZiBtLmNocm9tZSYmbS5jaHJvbWUubG9hZFRpbWVzKXtpZihiPW0uY2hyb21lLmxvYWRUaW1lcygpLGIucmVxdWVzdFRpbWUmJmIuZmlyc3RQYWludFRpbWUmJm0ucGVyZm9ybWFuY2UmJm0ucGVyZm9ybWFuY2UudGltaW5nKXJldHVybiBNYXRoLnJvdW5kKDFFMyoKYi5maXJzdFBhaW50VGltZS1tLnBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQpfWVsc2UgaWYobS5wZXJmb3JtYW5jZSYmbS5wZXJmb3JtYW5jZS50aW1pbmcmJihiPW0ucGVyZm9ybWFuY2UudGltaW5nLGIubmF2aWdhdGlvblN0YXJ0JiZiLm1zRmlyc3RQYWludCkpcmV0dXJuIGIubXNGaXJzdFBhaW50LWIubmF2aWdhdGlvblN0YXJ0O3JldHVybiBudWxsfXZhciBRYT0hMSx5Yj0idW5kZWZpbmVkIiE9PXR5cGVvZiBPYmplY3QmJiJmdW5jdGlvbiI9PT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5O3RyeXtpZih5Yil2YXIgWmI9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihkKXtpZihjW2RdKXJldHVybiBjW2RdLmV4cG9ydHM7dmFyIGY9Y1tkXT17aTpkLGw6ITEsZXhwb3J0czp7fX07YVtkXS5jYWxsKGYuZXhwb3J0cyxmLGYuZXhwb3J0cyxiKTtmLmw9ITA7cmV0dXJuIGYuZXhwb3J0c312YXIgYz17fTtiLm09YTtiLmM9YztiLmQ9ZnVuY3Rpb24oYSxjLGwpe2IubyhhLApjKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyx7ZW51bWVyYWJsZTohMCxnZXQ6bH0pfTtiLnI9ZnVuY3Rpb24oYSl7InVuZGVmaW5lZCIhPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9O2IudD1mdW5jdGlvbihhLGMpe2MmMSYmKGE9YihhKSk7aWYoYyY4fHxjJjQmJiJvYmplY3QiPT09dHlwZW9mIGEmJmEmJmEuX19lc01vZHVsZSlyZXR1cm4gYTt2YXIgZD1PYmplY3QuY3JlYXRlKG51bGwpO2IucihkKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZCwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6YX0pO2lmKGMmMiYmInN0cmluZyIhPXR5cGVvZiBhKWZvcih2YXIgZyBpbiBhKWIuZChkLGcsZnVuY3Rpb24oYil7cmV0dXJuIGFbYl19LmJpbmQobnVsbCxnKSk7CnJldHVybiBkfTtiLm49ZnVuY3Rpb24oYSl7dmFyIGM9YSYmYS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGFbImRlZmF1bHQiXX06ZnVuY3Rpb24oKXtyZXR1cm4gYX07Yi5kKGMsImEiLGMpO3JldHVybiBjfTtiLm89ZnVuY3Rpb24oYSxiKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYil9O2IucD0iIjtyZXR1cm4gYihiLnM9NjUpfShbZnVuY3Rpb24oYSxiLGMpe2MucihiKTtjLmQoYiwiSXRlcmFibGVVdGlscyIsZnVuY3Rpb24oKXtyZXR1cm4gRn0pO3ZhciBkPWMoMjkpLGY9YygyMCksbD1jKDI3KSxnPWMoOCksbj1jKDEyKTthPWMoOSk7dmFyIHI9YygyKSx3PWEuYS5NYXAscD1hLmEuU2V0LEY9e2JpbmFyeVNlYXJjaDpmdW5jdGlvbihhLGIsZSl7dmFyIGM9MCxrPWEubGVuZ3RoLTE7Zm9yKGU9ImZ1bmN0aW9uIj09PXR5cGVvZiBlP2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O2M8PWs7KXt2YXIgZD1NYXRoLnJvdW5kKChjK2spLwoyKSxnPWUoYVtkXSk7aWYoZz09PWIpe3ZhciBmPWFbZF07YnJlYWt9ZWxzZSBiPmc/Yz1kKzE6az1kLTF9cmV0dXJuIGZ9LGZvcm9mOmZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIGcuTGlzdD9hLmZvckVhY2goYik6YSBpbnN0YW5jZW9mIG4uS2V5VmFsdWU/YS5mb3JFYWNoKGIpOk9iamVjdChkLmEpKGEsYil9LGZvcmluOmZ1bmN0aW9uKGEsYil7T2JqZWN0KGYuYSkoYSxiKX0sZmFzdEl0ZXJhdGU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGU9MCxjPWEubGVuZ3RoO2U8YztlKyspYihlLGFbZV0pfSx0b0FycmF5OmZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgZy5MaXN0fHxhIGluc3RhbmNlb2Ygbi5LZXlWYWx1ZT9wJiZhIGluc3RhbmNlb2YgcHx8dyYmYSBpbnN0YW5jZW9mIHc/T2JqZWN0KGwuYSkoYSk6YS50b0FycmF5KCk6T2JqZWN0KGwuYSkoYSl9LHRvTGlzdDpmdW5jdGlvbihhKXthPXRoaXMuaXNBcnJheShhKT9hOnRoaXMudG9BcnJheShhKTtmb3IodmFyIGI9Cm5ldyBnLkxpc3QsZT0wO2U8YS5sZW5ndGg7ZSsrKWIuYWRkKGFbZV0pO3JldHVybiBifSxhZGRUb0FycmF5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixlPWFyZ3VtZW50cy5sZW5ndGgsYz1BcnJheSgxPGU/ZS0xOjApLGQ9MTtkPGU7ZCsrKWNbZC0xXT1hcmd1bWVudHNbZF07cmV0dXJuKGI9W10pLmNvbmNhdC5hcHBseShiLGMpLnJlZHVjZShmdW5jdGlvbihhLGUpezA+YS5pbmRleE9mKGUpJiZhLnB1c2goZSk7cmV0dXJuIGF9LGEpfSxyZW1vdmVGcm9tQXJyYXk6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGU9YXJndW1lbnRzLmxlbmd0aCxjPUFycmF5KDE8ZT9lLTE6MCksZD0xO2Q8ZTtkKyspY1tkLTFdPWFyZ3VtZW50c1tkXTtyZXR1cm4oYj1bXSkuY29uY2F0LmFwcGx5KGIsYykucmVkdWNlKGZ1bmN0aW9uKGEsZSl7dmFyIGI9YS5pbmRleE9mKGUpOzA8PWImJmEuc3BsaWNlKGIsMSk7cmV0dXJuIGF9LGEpfSxpc0FycmF5OmZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgQXJyYXkuaXNBcnJheT8KQXJyYXkuaXNBcnJheShhKToiW29iamVjdCBBcnJheV0iPT09e30udG9TdHJpbmcuY2FsbChhKX0saW5BcnJheTpmdW5jdGlvbihhLGIpe3JldHVybiBhPyJmdW5jdGlvbiI9PT10eXBlb2YgYS5pbmNsdWRlcz9hLmluY2x1ZGVzKGIpOjA8PWEuaW5kZXhPZihiKTohMX0sZmlsbDpmdW5jdGlvbihhLGIpe2lmKEFycmF5LnByb3RvdHlwZS5maWxsKXJldHVybiBhLmZpbGwoYik7Zm9yKHZhciBlPWEubGVuZ3RoOzA8ZS0tOylhW2VdPWI7cmV0dXJuIGF9LHJlZHVjZTpmdW5jdGlvbihhLGIsZSl7cmV0dXJuIHRoaXMudG9BcnJheShhKS5yZWR1Y2UoYixlKX0scmVkdWNlUmlnaHQ6ZnVuY3Rpb24oYSxiLGUpe3JldHVybiB0aGlzLnRvQXJyYXkoYSkucmVkdWNlUmlnaHQoYixlKX0sbWFwOmZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcy50b0FycmF5KGEpO2lmKHIuT2JqZWN0VXRpbHMuaXNOYXRpdmUoZS5tYXAsIm1hcCIpKXJldHVybiBlLm1hcChiKTtmb3IodmFyIGM9W10saz0wO2s8ZS5sZW5ndGg7aysrKWNba109CmIoZVtrXSxrLGUpO3JldHVybiBjfSxmaW5kOmZ1bmN0aW9uKGEsYil7aWYoQXJyYXkucHJvdG90eXBlLmZpbmQpcmV0dXJuIGEuZmluZChiKTt2YXIgZTt0aGlzLmZvcm9mKGEsZnVuY3Rpb24oYyxrKXtyZXR1cm4hMD09PSEhYihjLGssYSk/KGU9YywhMSk6ITB9KTtyZXR1cm4gZX0sa2V5czpmdW5jdGlvbihhKXtpZigiZnVuY3Rpb24iPT09dHlwZW9mIGEua2V5cylyZXR1cm4gYS5rZXlzKCk7dmFyIGI9W107dGhpcy5mb3JvZihhLGZ1bmN0aW9uKGEsYyl7Yi5wdXNoKGMpfSk7cmV0dXJuIGJ9LHZhbHVlczpmdW5jdGlvbihhKXtpZihhLmhhc093blByb3BlcnR5KCJ2YWx1ZXMiKSlyZXR1cm4gYS52YWx1ZXMoKTt2YXIgYj1bXTt0aGlzLmZvcm9mKGEsZnVuY3Rpb24oYSxjKXtiLnB1c2goYSl9KTtyZXR1cm4gYn0saW5jbHVkZXM6ZnVuY3Rpb24oYSxiLGUpe3ZvaWQgMD09PWUmJihlPTApO2lmKHIuT2JqZWN0VXRpbHMuaXNOYXRpdmUoQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzLAoiaW5jbHVkZXMiKSlyZXR1cm4gYS5pbmNsdWRlcyhiLGUpO2Zvcih2YXIgYz1hLmxlbmd0aDtlPGM7ZSsrKWlmKGFbZV09PT1iKXJldHVybiEwO3JldHVybiExfX19LGZ1bmN0aW9uKGEsYil7YS5leHBvcnRzPWZ1bmN0aW9uKGEsYixmKXtiIGluIGE/T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7dmFsdWU6ZixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmFbYl09ZjtyZXR1cm4gYX19LGZ1bmN0aW9uKGEsYixjKXtjLnIoYik7YT1jKDUpO3ZhciBkPWMubihhKSxmPWMoOSksbD1mLmEuT2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKyl7dmFyIGM9YXJndW1lbnRzW2JdLGQ9Zi5hLk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuYmluZChjKSxnO2ZvcihnIGluIGMpZChnKSYmKGFbZ109Y1tnXSl9cmV0dXJuIGF9LGc9YygyMCk7Yy5kKGIsIk9iamVjdFV0aWxzIixmdW5jdGlvbigpe3JldHVybiBufSk7CnZhciBuPXthc3NpZ246ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWFyZ3VtZW50cy5sZW5ndGgsYz1BcnJheSgxPGI/Yi0xOjApLGQ9MTtkPGI7ZCsrKWNbZC0xXT1hcmd1bWVudHNbZF07cmV0dXJuIGwuYXBwbHkodm9pZCAwLFthXS5jb25jYXQoYykpfSxjb21iaW5lOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWFyZ3VtZW50cy5sZW5ndGgsYj1BcnJheShhKSxjPTA7YzxhO2MrKyliW2NdPWFyZ3VtZW50c1tjXTtyZXR1cm4gYi5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9Yj9kKCkoe30sYSxiKTphfSx7fSl9LGZpbmROYXRpdmVJbXBsZW1lbnRhdGlvbjpmdW5jdGlvbihhKXtpZih0aGlzLmlzTmF0aXZlKGYuYVthXSxhKSlyZXR1cm4gZi5hW2FdO3ZhciBiPVsid2Via2l0IiwibW96IiwibXMiLCJvIl07YT0iIithLnNsaWNlKDAsMSkudG9VcHBlckNhc2UoKSthLnNsaWNlKDEpO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD0iIitiW2NdK2E7aWYodGhpcy5pc05hdGl2ZShmLmFbZF0sCmQpKXJldHVybiBmLmFbZF19cmV0dXJuIG51bGx9LGlzTmF0aXZlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/KG5ldyBSZWdFeHAoImZ1bmN0aW9uXFxzKiIrYisiXFxzKlxcKFxcKVxccypcXHtcXHMqXFxbbmF0aXZlW1xccy1dY29kZVxcXVxccypcXH0iLCJpIikpLnRlc3QoYS50b1N0cmluZygpKTohMX0saXNNb25rZXlQYXRjaGVkT3JVbmRlZmluZWQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1mLmE7aWYoY1thXT09PUF8fCF0aGlzLmlzTmF0aXZlKGNbYV0sYSkpcmV0dXJuITA7aWYoYilmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKylpZighdGhpcy5pc05hdGl2ZShjW2FdLnByb3RvdHlwZVtiW2RdXSxiW2RdKSlyZXR1cm4hMDtyZXR1cm4hMX0sb2JqZWN0S2V5czpmdW5jdGlvbihhKXt2YXIgYj1bXTtPYmplY3QoZy5hKShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnB1c2goYSl9KTtyZXR1cm4gYn0sb2JqZWN0VmFsdWVzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO09iamVjdChnLmEpKGEsZnVuY3Rpb24oYSwKYyl7cmV0dXJuIGIucHVzaChjKX0pO3JldHVybiBifSxzYWZlQWNjZXNzOmZ1bmN0aW9uKGEsYil7aWYobnVsbD09YXx8InN0cmluZyIhPT10eXBlb2YgYilyZXR1cm4gQTtmb3IodmFyIGM9Yi5zcGxpdCgiLiIpLGQ9YSxnPTAsaz1jLmxlbmd0aDtnPGs7ZysrKWlmKGQ9ZFtjW2ddXSxudWxsPT1kKXJldHVybiBBO3JldHVybiBkfSxvYmplY3RJc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4idW5kZWZpbmVkIiE9PXR5cGVvZiBXaW5kb3cmJmEmJmEud2luZG93JiZhLndpbmRvdz09PWF9fX0sZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7dmFyIGI9e307InN0cmluZyI9PT10eXBlb2YgYSYmMDxhLmxlbmd0aCYmIj8iIT09YSYmKGE9YS5yZXBsYWNlKC9eXD8vLCIiKS5zcGxpdCgiXHgyNiIpLE9iamVjdChsLmEpKGEsZnVuY3Rpb24oYSl7dmFyIGU9YS5zcGxpdCgiXHgzZCIpO2E9ZVswXTtlPWVbMV07dHJ5e2JbYV09ZGVjb2RlVVJJQ29tcG9uZW50KGUpfWNhdGNoKEgpe2JbYV09CiIifX0pKTtyZXR1cm4gYn1jLnIoYik7dmFyIGY9YygyKSxsPWMoMjkpO2E9YygyMCk7dmFyIGc9Yyg0KSxuPWMoOSk7Zi5PYmplY3RVdGlscy5vYmplY3RJc1dpbmRvdyhnLmEpJiZkKGcuYS5sb2NhdGlvbi5zZWFyY2gpO2M9Zi5PYmplY3RVdGlscy5vYmplY3RJc1dpbmRvdyhnLmEpJiZnLmEhPT1nLmEudG9wO3ZhciByPW4uYS5jb25zb2xlfHxnLmEuY29uc29sZTsidW5kZWZpbmVkIj09PWcuYS5XVl9ERUJVRyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGcuYSwiV1ZfREVCVUciLHt2YWx1ZTp7fX0pO3ZhciB3PWZ1bmN0aW9uKCl7dmFyIGE9ITEsYj0hMTtpZihmLk9iamVjdFV0aWxzLm9iamVjdElzV2luZG93KGcuYSkpe2E9IjEiPT09ZChnLmEubG9jYXRpb24uc2VhcmNoKS5feW1fZGVidWc7dHJ5e2I9L3ltX2RlYnVnPTEvLnRlc3QoZy5hLmRvY3VtZW50LmNvb2tpZSl9Y2F0Y2goZSl7cmV0dXJuIGF9fXJldHVybiBhfHxifSgpLHA9e19fbmF0aXZlOnIsX19kZWJ1Z01vZGU6dywKX19hZGREZWJ1ZzpmdW5jdGlvbihhLGIpe30sZGV2TG9nOmZ1bmN0aW9uKCl7fX0sRj1bIiVjV1Y6IiwiZm9udC13ZWlnaHQ6IGJvbGQ7Il07YyYmRi5sZW5ndGgmJihGWzFdKz0iY29sb3I6IHB1cnBsZSIpO09iamVjdChhLmEpKHIsZnVuY3Rpb24oYSl7dmFyIGIsZT1yW2FdaW5zdGFuY2VvZiBuLmEuRnVuY3Rpb247cFthXT13P2U/KGI9clthXSkuYmluZC5hcHBseShiLFtyXS5jb25jYXQoRikpOnJbYV06ZT9mdW5jdGlvbigpe306clthXX0sITApO3cmJihwLmRldkxvZz1yLmxvZyk7YlsiZGVmYXVsdCJdPXB9LGZ1bmN0aW9uKGEsYixjKXtiLmE9InVuZGVmaW5lZCIhPT10eXBlb2YgbT9tOiJ1bmRlZmluZWQiIT09dHlwZW9mIHNlbGY/c2VsZjpnbG9iYWx9LGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jKDEpO2EuZXhwb3J0cz1mdW5jdGlvbihhKXtmb3IodmFyIGI9MTtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKXt2YXIgYz1udWxsIT1hcmd1bWVudHNbYl0/YXJndW1lbnRzW2JdOnt9LApmPU9iamVjdC5rZXlzKGMpOyJmdW5jdGlvbiI9PT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmKGY9Zi5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhjKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYyxhKS5lbnVtZXJhYmxlfSkpKTtmLmZvckVhY2goZnVuY3Rpb24oYil7ZChhLGIsY1tiXSl9KX1yZXR1cm4gYX19LGZ1bmN0aW9uKGEsYil7YS5leHBvcnRzPWZ1bmN0aW9uKGEpe2lmKHZvaWQgMD09PWEpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gYX19LGZ1bmN0aW9uKGEsYixjKXtjLnIoYik7Yy5kKGIsIkRPX05PVF9UUkFDSyIsZnVuY3Rpb24oKXtyZXR1cm4gbH0pO2MuZChiLCJJU19JTkNPR05JVE8iLGZ1bmN0aW9uKCl7cmV0dXJuIGd9KTtjLmQoYiwiSVNfTU9CSUxFX0RFVklDRSIsCmZ1bmN0aW9uKCl7cmV0dXJuIG59KTtjLmQoYiwiSVNfREVWRUxPUE1FTlQiLGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KTthPWMoNSk7dmFyIGQ9Yy5uKGEpO2E9YygxMyk7dmFyIGY9Yyg0KTtjPWQoKSh7fSxjKDI4KS5Ccm93c2VyVXRpbHMsYygzNikuRG9jdW1lbnRVdGlscyxjKDEwKS5ET01VdGlscyxjKDIzKS5GdW5jdGlvblV0aWxzLGMoMCkuSXRlcmFibGVVdGlscyxjKDg5KS5NYXBVdGlscyxjKDIpLk9iamVjdFV0aWxzLGMoMTkpLlN0cmluZ1V0aWxzLGMoMzcpLlRpbWVVdGlscyxjKDE2KS5Ub29scyx7bWF0aDpjKDkwKS5NYXRoVXRpbHN9KTt0cnl7dmFyIGw9YS5hLnJlc3BlY3REb05vdFRyYWNrJiYhMD09PW5hdmlnYXRvci5kb05vdFRyYWNrfWNhdGNoKHcpe2w9ITF9dmFyIGc9ZnVuY3Rpb24oKXt0cnl7Zi5hLmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0ZXN0IiwidGVzdCIpO3ZhciBhPSJ0ZXN0IiE9PWYuYS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidGVzdCIpO2YuYS5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidGVzdCIpOwpyZXR1cm4gYX1jYXRjaChwKXtyZXR1cm4hMH19KCk7dHJ5e3ZhciBuPS9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxXaW5kb3dzIFBob25lL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT8hMDohMX1jYXRjaCh3KXtuPSExfXZhciByPSJkZXZlbG9wbWVudCI9PT1hLmEuZW52aXJvbm1lbnQ7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYyx7RE9fTk9UX1RSQUNLOnt2YWx1ZTpsfSxJU19JTkNPR05JVE86e3ZhbHVlOmd9LElTX01PQklMRV9ERVZJQ0U6e3ZhbHVlOm59LElTX0RFVkVMT1BNRU5UOnt2YWx1ZTpyfX0pO2JbImRlZmF1bHQiXT1jfSxmdW5jdGlvbihhLGIsYyl7Yy5yKGIpO2MuZChiLCJMaXN0IixmdW5jdGlvbigpe3JldHVybiBufSk7YT1jKDE0KTt2YXIgZD1jLm4oYSk7YT1jKDEpO3ZhciBmPWMubihhKSxsPWMoOSk7YT1jKDIpO3ZhciBnPWMoMCk7Yz1sLmEuU2V0O2E9YS5PYmplY3RVdGlscy5pc01vbmtleVBhdGNoZWRPclVuZGVmaW5lZCgiU2V0IiwKImFkZCBoYXMgY2xlYXIgZGVsZXRlIGZvckVhY2ggdG9TdHJpbmciLnNwbGl0KCIgIikpO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtmKCkodGhpcywibGlzdCIsW10pO2ImJihiIGluc3RhbmNlb2YgYT90aGlzLmNyZWF0ZShnLkl0ZXJhYmxlVXRpbHMudG9BcnJheShiKSk6YiBpbnN0YW5jZW9mIEFycmF5JiZ0aGlzLmNyZWF0ZShiKSl9dmFyIGI9YS5wcm90b3R5cGU7Yi5hZGQ9ZnVuY3Rpb24oYSl7ITE9PT10aGlzLmhhcyhhKSYmdGhpcy5saXN0LnB1c2goYSk7cmV0dXJuIHRoaXN9O2IuaGFzPWZ1bmN0aW9uKGEpe3JldHVybiAwPD10aGlzLmxpc3QuaW5kZXhPZihhKX07Yi5jbGVhcj1mdW5jdGlvbigpe3RoaXMubGlzdC5sZW5ndGg9MDtyZXR1cm4gdGhpc307YlsiZGVsZXRlIl09ZnVuY3Rpb24oYSl7YT10aGlzLmxpc3QuaW5kZXhPZihhKTtyZXR1cm4gMDw9YT8odGhpcy5saXN0LnNwbGljZShhLDEpLCEwKTohMX07Yi5lYWNoPWZ1bmN0aW9uKGEpe2lmKCJmdW5jdGlvbiI9PT0KdHlwZW9mIGEpZm9yKHZhciBiPTA7Yjx0aGlzLmxpc3QubGVuZ3RoOyl7dmFyIGM9dGhpcy5saXN0W2JdOzI9PT1hLmxlbmd0aD9hKGMsYyk6YShjKTtiKyt9fTtiLmZvckVhY2g9ZnVuY3Rpb24oYSl7dGhpcy5lYWNoKGEpfTtiLnZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpc3Quc2xpY2UoMCl9O2Iua2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpc3Quc2xpY2UoMCl9O2IudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpc3Quc2xpY2UoMCl9O2IudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iTGlzdCgiK3RoaXMuc2l6ZSsiKSJ9O2IuY3JlYXRlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KXRoaXMuYWRkKGFbYl0pLGIrK307ZCgpKGEsW3trZXk6InNpemUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxpc3QubGVuZ3RofX1dKTtyZXR1cm4gYX0oKTtiWyJkZWZhdWx0Il09YT9uOmN9LGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jKDEzKSwKZj1mdW5jdGlvbihhLGIpe3ZhciBjPWEuY29udGVudFdpbmRvdztyZXR1cm4gYz9iLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhJiZjLmhhc093blByb3BlcnR5KGIpfSwhMCk6ITF9O2IuYT1mdW5jdGlvbigpe3ZhciBhPSJ1bmRlZmluZWQiIT09dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPT10eXBlb2Ygc2VsZj9zZWxmOm07aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgdCYmdC5ib2R5KXt2YXIgYj10LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO2IubmFtZT1kLmEuTkFUSVZFX0lGUkFNRV9OQU1FO2IudGl0bGU9ZC5hLk5BVElWRV9JRlJBTUVfTkFNRTtiLmZyYW1lQm9yZGVyPSIwIjtiLnN0eWxlLnNldFByb3BlcnR5KCJvcGFjaXR5IiwiMCIsImltcG9ydGFudCIpO2Iuc3R5bGUuc2V0UHJvcGVydHkoIndpZHRoIiwiMHB4IiwiaW1wb3J0YW50Iik7Yi5zdHlsZS5zZXRQcm9wZXJ0eSgiaGVpZ2h0IiwiMHB4IiwiaW1wb3J0YW50Iik7Yi5zdHlsZS5zZXRQcm9wZXJ0eSgicG9zaXRpb24iLAoiYWJzb2x1dGUiLCJpbXBvcnRhbnQiKTtiLnN0eWxlLnNldFByb3BlcnR5KCJsZWZ0IiwiMTAwJSIsImltcG9ydGFudCIpO2Iuc3R5bGUuc2V0UHJvcGVydHkoImJvdHRvbSIsIjEwMCUiLCJpbXBvcnRhbnQiKTtiLnN0eWxlLnNldFByb3BlcnR5KCJib3JkZXIiLCIwIiwiaW1wb3J0YW50Iik7Yi5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwidHJ1ZSIpO3RyeXsvVHJpZGVudHxNU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP3QuYm9keS5wYXJlbnROb2RlJiZ0LmJvZHkucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChiKTp0LmJvZHkuYXBwZW5kQ2hpbGQoYiksZihiLFsiU2V0IiwiTWFwIl0pJiYoYT1iLmNvbnRlbnRXaW5kb3d8fGEpfWNhdGNoKG4pe2IucGFyZW50RWxlbWVudCYmYi5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGIpfX1yZXR1cm4gYX0oKX0sZnVuY3Rpb24oYSxiLGMpe2MucihiKTtjLmQoYiwiRE9NVXRpbHMiLGZ1bmN0aW9uKCl7cmV0dXJuIG59KTt2YXIgZD0KYyg0KSxmPWMoMCksbD1jKDIpLGc9YygxOSksbj17Tm9kZVR5cGVzOntFTEVNRU5UX05PREU6MSxBVFRSSUJVVEVfTk9ERToyLFRFWFRfTk9ERTozLENEQVRBX1NFQ1RJT05fTk9ERTo0LEVOVElUWV9SRUZFUkVOQ0VfTk9ERTo1LEVOVElUWV9OT0RFOjYsUFJPQ0VTU0lOR19JTlNUUlVDVElPTl9OT0RFOjcsQ09NTUVOVF9OT0RFOjgsRE9DVU1FTlRfTk9ERTo5LERPQ1VNRU5UX1RZUEVfTk9ERToxMCxET0NVTUVOVF9GUkFHTUVOVF9OT0RFOjExLE5PVEFUSU9OX05PREU6MTJ9LGJhc2U6ZnVuY3Rpb24oKXt2YXIgYT10LmNyZWF0ZUVsZW1lbnQoImEiKTthLmhyZWY9Ii8iO3ZhciBiPXQucXVlcnlTZWxlY3RvcigiYmFzZSIpO2ImJmIuaHJlZiYmKGEuaHJlZj1iLmhyZWYpO3JldHVybiBhLmhyZWZ9LGdldFNjcm9sbDpmdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybntsZWZ0OjAsdG9wOjB9O2lmKGEud2luZG93PT09YSlyZXR1cm57dG9wOmEuc2Nyb2xsWXx8MCxsZWZ0OmEuc2Nyb2xsWHx8CjB9O3ZhciBiPWEub3duZXJEb2N1bWVudHx8YSxjPWEuZG9jdW1lbnRFbGVtZW50LGQ9Yi5kZWZhdWx0Vmlld3x8Yi5wYXJlbnRXaW5kb3csZz1iLmJvZHk7YT09PWImJihhPXRoaXMuc2Nyb2xsaW5nRWxlbWVudChiKSk7cmV0dXJuLTEhPT1bYyxnXS5pbmRleE9mKGEpP3t0b3A6YS5zY3JvbGxUb3B8fGQuc2Nyb2xsWSxsZWZ0OmEuc2Nyb2xsTGVmdHx8ZC5zY3JvbGxYfTp7dG9wOmEuc2Nyb2xsVG9wfHwwLGxlZnQ6YS5zY3JvbGxMZWZ0fHwwfX0sZG9jdW1lbnRWaXNpYmxlOmZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgdCl7dmFyIGE9InVuZGVmaW5lZCIhPT10eXBlb2YgdC5tc0hpZGRlbj8ibXNIaWRkZW4iOiJ1bmRlZmluZWQiIT09dHlwZW9mIHQud2Via2l0SGlkZGVuPyJ3ZWJraXRIaWRkZW4iOiJoaWRkZW4iO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0W2FdfX19KCksaXNET01Ob2RlOmZ1bmN0aW9uKGEpe2lmKGEpdHJ5e3ZhciBiPWEub3duZXJEb2N1bWVudDsKaWYobnVsbD09PWIpcmV0dXJuITE7aWYoYi5kZWZhdWx0VmlldylyZXR1cm4gYSBpbnN0YW5jZW9mIGIuZGVmYXVsdFZpZXcuTm9kZX1jYXRjaChwKXtyZXR1cm4ib2JqZWN0Ij09PXR5cGVvZiBhJiYib2JqZWN0Ij09PXR5cGVvZiBhLnN0eWxlJiYib2JqZWN0Ij09PXR5cGVvZiBhLm93bmVyRG9jdW1lbnR9cmV0dXJuITF9LGlzU2Nyb2xsYWJsZTpmdW5jdGlvbihhKXt2YXIgYj1hLnNjcm9sbEhlaWdodCE9PWEuY2xpZW50SGVpZ2h0O3JldHVybiBhLnNjcm9sbFdpZHRoIT09YS5jbGllbnRXaWR0aHx8Yn0sc2Nyb2xsaW5nRWxlbWVudDpmdW5jdGlvbihhKXthPWF8fHQ7cmV0dXJuIGEuc2Nyb2xsaW5nRWxlbWVudHx8KGEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodD49YS5ib2R5LnNjcm9sbEhlaWdodCYmMD09PWEuY29tcGF0TW9kZS5pbmRleE9mKCJDU1MxIik/YS5kb2N1bWVudEVsZW1lbnQ6YS5ib2R5KX0sY29udmVydE5vZGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXZvaWQgMD09PQpjP3tkb2M6dCxzYXZlQ2hpbGRyZW46ITB9OmM7Yz1kLmRvYztkPWQuc2F2ZUNoaWxkcmVuO2M9Y3x8YS5vd25lckRvY3VtZW50O3ZhciBnPWMuY3JlYXRlRWxlbWVudChiKTtmLkl0ZXJhYmxlVXRpbHMuZm9yb2YoYS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGEpe2cuc2V0QXR0cmlidXRlKGEubmFtZSxhLnZhbHVlKX0pO2QmJmYuSXRlcmFibGVVdGlscy5mb3JvZihhLmNoaWxkTm9kZXMsZnVuY3Rpb24oYSl7Zy5hcHBlbmRDaGlsZChhLmNsb25lTm9kZSghMCkpfSk7cmV0dXJuIGd9LGlzQmxhbmtPclNhbWVPcmlnaW5JZnJhbWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgic3JjIiksZD1hLmdldEF0dHJpYnV0ZSgic2FuZGJveCIpO3JldHVybiBkJiYhZC5tYXRjaCgvYWxsb3ctc2FtZS1vcmlnaW4vKXx8YyYmImFib3V0OmJsYW5rIiE9PWMmJihjPWcuU3RyaW5nVXRpbHMucGFyc2VVUkxOYXRpdmUoYykuaG9zdCkmJihifHxtKS5sb2NhdGlvbi5ob3N0IT09Yz8hMToKITB9LG5vZGVJc1JlY29yZGFibGU6ZnVuY3Rpb24oYSl7aWYobnVsbCE9PWEpe3ZhciBiPW51bGwhPWEuZ2V0QXR0cmlidXRlKCJtZXRyaWthLWlnbm9yZSIpfHwvLW1ldHJpa2EtaWdub3JlLy50ZXN0KGEuY2xhc3NOYW1lKSxjPW51bGwhPWEuZ2V0QXR0cmlidXRlKCJtZXRyaWthLWZvcmNlIil8fC8tbWV0cmlrYS1mb3JjZS8udGVzdChhLmNsYXNzTmFtZSk7YT1hLmdldEF0dHJpYnV0ZSgidHlwZSIpO3JldHVybiBjPyEwOiFiJiYicGFzc3dvcmQiIT09YX1yZXR1cm4hMX0sY29udGVudFNpemVDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5vd25lckRvY3VtZW50P2Eub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldzptLGQ9e3N0b3BwZWQ6ITEsaGVpZ2h0Om51bGwsd2lkdGg6bnVsbCxydW5uZXI6ZnVuY3Rpb24oKXtpZighdGhpcy5zdG9wcGVkKXt2YXIgZD1udWxsPT1hP3t9OiJmdW5jdGlvbiI9PT10eXBlb2YgYT9hKCl8fHt9OmE7dmFyIGs9ZC5zY3JvbGxIZWlnaHQ7ZD1kLnNjcm9sbFdpZHRoOwppZihrIT09dGhpcy5oZWlnaHR8fGQhPT10aGlzLndpZHRoKXRoaXMuaGVpZ2h0PWssdGhpcy53aWR0aD1kLGIoe3dpZHRoOmQsaGVpZ2h0Omt9KTtjJiZjLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJ1bm5lci5iaW5kKHRoaXMpKX19LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLnN0b3BwZWQ9ITB9fTtkLnJ1bm5lcigpO3JldHVybiBkfSxlbGVtZW50c0Zyb21Qb2ludDpmdW5jdGlvbihhLGIsYyl7Yz1jfHx0O3ZhciBkPWMuZWxlbWVudHNGcm9tUG9pbnQ7aWYoZClyZXR1cm4gZC5jYWxsKGMsYSxiKTtkPVtdO2Zvcih2YXIgZz1bXSxrOyhrPWMuZWxlbWVudEZyb21Qb2ludChhLGIpKSYmLTE9PT1kLmluZGV4T2Yoayk7KXtkLnB1c2goayk7dmFyIGU9ay5zdHlsZTtnLnB1c2goe3ZhbHVlOmUuZ2V0UHJvcGVydHlWYWx1ZSgicG9pbnRlci1ldmVudHMiKSxwcmlvcml0eTplLmdldFByb3BlcnR5UHJpb3JpdHkoInBvaW50ZXItZXZlbnRzIil9KTtlLnNldFByb3BlcnR5KCJwb2ludGVyLWV2ZW50cyIsCiJub25lIiwiaW1wb3J0YW50Iil9Zm9yKGE9Zy5sZW5ndGg7Yj1nWy0tYV07KWRbYV0uc3R5bGUuc2V0UHJvcGVydHkoInBvaW50ZXItZXZlbnRzIixiLnZhbHVlP2IudmFsdWU6IiIsYi5wcmlvcml0eSk7cmV0dXJuIGR9LG5vZGVJbmRlbnRMZXZlbDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDthLnBhcmVudE5vZGU7KWE9YS5wYXJlbnROb2RlLGIrKztyZXR1cm4gYn0sb2Zmc2V0czpmdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMD09PWI/e306YixkPWMuZXhjbHVkZUJvcmRlcixnPXZvaWQgMD09PWQ/ITE6ZDtjPWMuZXhjbHVkZVBhZGRpbmc7dmFyIGs9dm9pZCAwPT09Yz8hMTpjOyExPT09ImdldEJvdW5kaW5nQ2xpZW50UmVjdCJpbiBhJiYoImRvY3VtZW50RWxlbWVudCJpbiBhP2E9YS5kb2N1bWVudEVsZW1lbnQ6ImRvY3VtZW50ImluIGEmJihhPWEuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSk7dmFyIGU9KGEub3duZXJEb2N1bWVudHx8dCkuZGVmYXVsdFZpZXd8fG0sZj1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwpjPWYudG9wO2Q9Zi5yaWdodDt2YXIgbD1mLmJvdHRvbTtmPWYubGVmdDtpZihnfHxrKXtlPWUuZ2V0Q29tcHV0ZWRTdHlsZShhKTtpZihnKXtnPWUuYm9yZGVyUmlnaHRXaWR0aDt2YXIgcj1lLmJvcmRlckJvdHRvbVdpZHRoLG49ZS5ib3JkZXJMZWZ0V2lkdGg7Yys9cGFyc2VJbnQoZS5ib3JkZXJUb3BXaWR0aHx8IjAiLDEwKTtkKz1wYXJzZUludChnfHwiMCIsMTApO2wrPXBhcnNlSW50KHJ8fCIwIiwxMCk7Zis9cGFyc2VJbnQobnx8IjAiLDEwKX1rJiYoaz1lLnBhZGRpbmdSaWdodCxnPWUucGFkZGluZ0JvdHRvbSxyPWUucGFkZGluZ0xlZnQsYys9cGFyc2VJbnQoZS5wYWRkaW5nVG9wfHwiMCIsMTApLGQrPXBhcnNlSW50KGt8fCIwIiwxMCksbCs9cGFyc2VJbnQoZ3x8IjAiLDEwKSxmKz1wYXJzZUludChyfHwiMCIsMTApKX1yZXR1cm57dG9wOmMscmlnaHQ6ZCxib3R0b206bCxsZWZ0OmZ9fSxub2RlSXNJblRyZWU6ZnVuY3Rpb24oYSl7aWYodGhpcy5pc0RPTU5vZGUoYSkpe3ZhciBiPQphLm93bmVyRG9jdW1lbnQ7aWYobnVsbCE9YilyZXR1cm4gYi5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYSl9cmV0dXJuITF9LHdhaXRGb3JOb2RlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzO3ZvaWQgMD09PWMmJihjPTUwMCk7dmFyIGc9e2Rpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt9fTtpZihkLm5vZGVJc0luVHJlZShhKSliKCEwKTtlbHNle3ZhciBrPWEub3duZXJEb2N1bWVudHx8dCxlPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKCl7ZC5ub2RlSXNJblRyZWUoYSkmJihiKCEwKSxlLmRpc2Nvbm5lY3QoKSl9KTtlLm9ic2VydmUoay5kb2N1bWVudEVsZW1lbnQse3N1YnRyZWU6ITAsY2hpbGRMaXN0OiEwfSk7dmFyIGY9aXNGaW5pdGUoYyk/SShmdW5jdGlvbigpe2Qubm9kZUlzSW5UcmVlKGEpfHwoYighMSksZS5kaXNjb25uZWN0KCkpfSxjKTpBO2cuZGlzY29ubmVjdD1mdW5jdGlvbigpe2YmJmNsZWFyVGltZW91dChmKTtlLmRpc2Nvbm5lY3QoKX19cmV0dXJuIGd9LApjcmVhdGVFbGVtZW50OmZ1bmN0aW9uKGEsYixjKXtjPWN8fHQ7dmFyIGQ9Yy5jcmVhdGVFbGVtZW50KGEpO2YuSXRlcmFibGVVdGlscy5mb3JpbihiLGZ1bmN0aW9uKGEpe3ZhciBjPWJbYV07InN0eWxlIj09PWE/bC5PYmplY3RVdGlscy5hc3NpZ24oZFthXSxjKTpkW2FdPWN9KTtyZXR1cm4gZH0sbWF0Y2hlc1NlbGVjdG9yOmZ1bmN0aW9uKGEsYil7dmFyIGM9Zi5JdGVyYWJsZVV0aWxzLmZpbmQoWyJtYXRjaGVzIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIl0sZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW4gdC5ib2R5fSk7dGhpcy5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtpZihjKXtpZihudWxsPT1hfHxudWxsPT1hLm93bmVyRG9jdW1lbnQpcmV0dXJuITE7dHJ5e2lmKGMgaW4gYSlyZXR1cm4gYVtjXShiKX1jYXRjaChrKXt9fXJldHVybiExfTtyZXR1cm4gdGhpcy5tYXRjaGVzU2VsZWN0b3IoYSwKYil9LGNsb3Nlc3RQYXJlbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZvaWQgMD09PWMmJihjPSExKTtmb3IoYT1jJiYhdGhpcy5pc1RleHROb2RlKGEpP2E6YS5wYXJlbnROb2RlO2E7KXtpZihhJiZ0aGlzLm1hdGNoZXNTZWxlY3RvcihhLGIpKXJldHVybiBhO2E9YS5wYXJlbnROb2RlfXJldHVybiBudWxsfSxpc1RleHROb2RlOmZ1bmN0aW9uKGEpe3JldHVybiAwPD1bdGhpcy5Ob2RlVHlwZXMuVEVYVF9OT0RFLHRoaXMuTm9kZVR5cGVzLkNPTU1FTlRfTk9ERV0uaW5kZXhPZihhLm5vZGVUeXBlKX0saXNDaGlsZE9mOmZ1bmN0aW9uKGEsYixjKXt2b2lkIDA9PT1jJiYoYz0hMSk7cmV0dXJuIG51bGwhPXRoaXMuY2xvc2VzdFBhcmVudChhLGIsYyl9LGNvcHlBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7Zi5JdGVyYWJsZVV0aWxzLmZvcm9mKGEuYXR0cmlidXRlcyxmdW5jdGlvbihjKXt0cnl7Yi5zZXRBdHRyaWJ1dGUoYy5uYW1lLGMudmFsdWUpfWNhdGNoKEYpe2QuYS5jb25zb2xlLndhcm4oIkNhbid0IGNvcHkgYXR0cmlidXRlIFsiKwpjLm5hbWUrIlx4M2QiK2MudmFsdWUrIl0iLHtzb3VyY2VOb2RlOmF9KX19KTtyZXR1cm4gYn0saXNIaWRkZW5Db250ZW50OmZ1bmN0aW9uKGEpe2lmKG51bGw9PWEpcmV0dXJuITE7aWYoIiN0ZXh0Ij09PWEubm9kZU5hbWUpcmV0dXJuIHRoaXMuaXNIaWRkZW5Db250ZW50KGEucGFyZW50Tm9kZSk7aWYoL3ltLWhpZGRlbi1jb250ZW50Ly50ZXN0KGEuY2xhc3NOYW1lKSlyZXR1cm4hMTtpZigveW0taGlkZS1jb250ZW50Ly50ZXN0KGEuY2xhc3NOYW1lKSlyZXR1cm4hMDt2YXIgYj10aGlzLm1hdGNoZXNTZWxlY3RvcihhLCIueW0taGlkZS1jb250ZW50ICoiKTtyZXR1cm4gYiYmKC95bS1zaG93LWNvbnRlbnQvLnRlc3QoYS5jbGFzc05hbWUpfHx0aGlzLm1hdGNoZXNTZWxlY3RvcihhLCIueW0taGlkZS1jb250ZW50IC55bS1zaG93LWNvbnRlbnQgKiIpKT8hMTpifX19LGZ1bmN0aW9uKGEsYixjKXtjLmQoYiwiYiIsZnVuY3Rpb24oKXtyZXR1cm4gcH0pO2MuZChiLCJhIixmdW5jdGlvbigpe3JldHVybiBGfSk7CmE9YygzMik7dmFyIGQ9Yy5uKGEpO2E9Yyg1KTt2YXIgZj1jLm4oYSk7YT1jKDEzKTt2YXIgbD1jKDIpLGc9YygwKSxuPWMoMTApLHI9YygxNiksdz1jKDMpO2M9YS5hLkRPTUluZGV4ZXI7dmFyIHA9Yy5JR05PUkVEX05PREVTLEY9Yy5JR05PUkVEX0FUVFJJQlVURVMscT1jLlNLSVBQRURfQVRUUklCVVRFUyxrPWMuRVhUUkFfQVRUUklCVVRFUyxlPVtdLEI9e30sSD17SU5QVVQ6ZnVuY3Rpb24oYSxiKXt2YXIgZT1mKCkoe30sYik7ImNoZWNrYm94Ij09PWIudHlwZXx8InJhZGlvIj09PWIudHlwZT9hLmNoZWNrZWQ/Yi5jaGVja2VkPSJjaGVja2VkIjpkZWxldGUgYi5jaGVja2VkOmUudmFsdWU9YS52YWx1ZTtyZXR1cm4gZX0sSU1HOmZ1bmN0aW9uKGEsYil7dmFyIGU9ZigpKHt9LGIpO2EuY3VycmVudFNyYyYmKGUuc3JjPWEuY3VycmVudFNyY3x8Yi5zcmMpO3JldHVybiBlfX0sej1mdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiExO2E9YS5ub2RlVHlwZTtyZXR1cm4gYT09PQpuLkRPTVV0aWxzLk5vZGVUeXBlcy5URVhUX05PREV8fGE9PT1uLkRPTVV0aWxzLk5vZGVUeXBlcy5DT01NRU5UX05PREV9LGg9ZnVuY3Rpb24gb2EoYSxiKXt2YXIgZT1bXTtpZigiZnVuY3Rpb24iPT09dHlwZW9mIGIpe3ZhciBjPWIoYSk7bnVsbCE9YyYmYyE9PU5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVHx8ZS5wdXNoKGEpfWVsc2UgZS5wdXNoKGEpO2lmKGEuY2hpbGROb2RlcyYmMDxhLmNoaWxkTm9kZXMubGVuZ3RoKXtjPWEuY2hpbGROb2Rlcztmb3IodmFyIGs9MCxkPWMubGVuZ3RoO2s8ZDtrKyspZS5wdXNoLmFwcGx5KGUsb2EoY1trXSkpfXJldHVybiBlfSxtPWZ1bmN0aW9uKGEsYixlKXt2YXIgYz1mdW5jdGlvbihhKXtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIGU/ZShhKT9Ob2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ6Tm9kZUZpbHRlci5GSUxURVJfUkVKRUNUOk5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVH07aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBiJiZjKGEpPT09Tm9kZUZpbHRlci5GSUxURVJfQUNDRVBUJiYKKGIoYSksITE9PT16KGEpKSlmb3IoYT10LmNyZWF0ZVRyZWVXYWxrZXIoYSwtMSxlP3thY2NlcHROb2RlOmN9Om51bGwsITEpO2EubmV4dE5vZGUoKSYmITEhPT1iKGEuY3VycmVudE5vZGUpOyk7fSxNYT1mdW5jdGlvbihhLGIpe3ZhciBlPVtdO2EmJihuLkRPTVV0aWxzLm5vZGVJc0luVHJlZShhKT9tKG51bGw9PWE/dC5kb2N1bWVudEVsZW1lbnQ6YSxmdW5jdGlvbihhKXtlLnB1c2goYSl9LGIpOmUucHVzaC5hcHBseShlLGgoYSxiKSkpO3JldHVybiBlfSxOYT1mdW5jdGlvbihhKXt2YXIgYj1hWyIqIl0sZT1kKCkoYSxbIioiXSksYz17fSxrPW5ldyBSZWdFeHAoYi5qb2luKCJ8IiksImkiKTtnLkl0ZXJhYmxlVXRpbHMuZm9yaW4oZSxmdW5jdGlvbihhKXt2YXIgayxkPShrPVtdKS5jb25jYXQuYXBwbHkoayxlW2FdLmNvbmNhdChiKSk7Y1thXT1uZXcgUmVnRXhwKGQuam9pbigifCIpLCJpIil9KTtyZXR1cm4gZnVuY3Rpb24oYSxiKXtpZihhJiZiKXt2YXIgZT0ic3RyaW5nIj09PQp0eXBlb2YgYT9hOmEubm9kZU5hbWU7aWYoZSlyZXR1cm4oZT1jW2UudG9Mb3dlckNhc2UoKV0pJiYhIWIubWF0Y2goZSl8fCEhYi5tYXRjaChrKX1yZXR1cm4hMX19KEYpLFZhPVtmdW5jdGlvbihhLGIsZSl7cmV0dXJuIG51bGw9PWV8fC9eamF2YXNjcmlwdC8udGVzdChlKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4iU0NSSVBUIj09PWEubm9kZU5hbWUmJiJzcmMiPT09Yn0sZnVuY3Rpb24oYSxiKXtyZXR1cm4iQSI9PT1hLm5vZGVOYW1lJiYiaHJlZiI9PT1ifV0sRz1mdW5jdGlvbihhLGIsZSl7Zm9yKHZhciBjPTAsaz1WYS5sZW5ndGg7YzxrO2MrKylpZighMD09PVZhW2NdKGEsYixlKSlyZXR1cm4hMTtyZXR1cm4hMH0sYmE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBrPWM7aWYoRyhhLGIsYykpe2s9ZS5yZWR1Y2UoZnVuY3Rpb24oZSxjKXt0cnl7dmFyIGs9YyhhLGIsZSk7cmV0dXJuIG51bGwhPWs/azplfWNhdGNoKGNhKXtyZXR1cm4gd1siZGVmYXVsdCJdLndhcm4oIkZpbHRlcmluZyBlcnJvciIsCmNhKSxlfX0sayk7aWYoInN0cmluZyI9PT10eXBlb2YgaylyZXR1cm4oYz1CW2JdKT9jKGEsYixrKXx8azprO2lmKG51bGwhPWsmJiExIT09aylyZXR1cm4gay5iYXNlVmFsfXJldHVybiBudWxsfSx2PWZ1bmN0aW9uKGEsYil7YTp7dHJ5e3QuY3JlYXRlQXR0cmlidXRlKGIpfWNhdGNoKHNhKXt2YXIgZT0hMTticmVhayBhfWU9ITB9cmV0dXJuIWV8fE5hKHtub2RlTmFtZTphfSxiKT8hMTpifSx1PWZ1bmN0aW9uKGEsYixlKXtpZihlJiZlLm5hbWUpe2lmKCExIT09dihiLGUubmFtZSkpdHJ5e3ZhciBjLGs9YmEoYSxlLm5hbWUsZS52YWx1ZSk7cmV0dXJuIGM9e30sY1tlLm5hbWVdPWt8fCIiLGN9Y2F0Y2goUCl7d1siZGVmYXVsdCJdLndhcm4oIkVycm9yIHdoaWxlIHJlYWRpbmcgYXR0cmlidXRlIixlLGEpLHdbImRlZmF1bHQiXS53YXJuKFApfX1lbHNlIHdbImRlZmF1bHQiXS53YXJuKCJFcnJvciB3aGlsZSByZWFkaW5nIGF0dHJpYnV0ZSIsZSxhKTtyZXR1cm4gbnVsbH07Yz1mdW5jdGlvbihhKXt2YXIgYj0KbmV3IFJlZ0V4cChhLmpvaW4oInwiKSwiZ2kiKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEmJiEhYS5ub2RlTmFtZS5tYXRjaChiKX19KHApO3ZhciB4PWZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLm5hbWVzcGFjZVVSST8vc3ZnLy50ZXN0KGEubmFtZXNwYWNlVVJJKTohMX07Yz17YWxsOk1hLG1hcDpmdW5jdGlvbihhLGIsZSl7dmFyIGM9W107YT1NYShhLGUpO2cuSXRlcmFibGVVdGlscy5mYXN0SXRlcmF0ZShhLGZ1bmN0aW9uKGEsZSl7Yy5wdXNoKGIoZSkpfSk7cmV0dXJuIGN9LHdhbGs6bSxlYWNoOmZ1bmN0aW9uKGEsYixlKXthJiYoYT1NYShhLGUpLGcuSXRlcmFibGVVdGlscy5mYXN0SXRlcmF0ZShhLGIpKX0sZ2V0QXR0cmlidXRlczpmdW5jdGlvbihhKXt2YXIgYj17fSxlPWEubm9kZU5hbWUsYz1nLkl0ZXJhYmxlVXRpbHMudG9BcnJheShhLmF0dHJpYnV0ZXMpO2MmJmMubGVuZ3RoJiYoZy5JdGVyYWJsZVV0aWxzLmZhc3RJdGVyYXRlKGMsZnVuY3Rpb24oYyxrKXt2YXIgZD0KdShhLGUsayk7ZCYmbC5PYmplY3RVdGlscy5hc3NpZ24oYixkKX0pLChjPWtbZV18fEEpJiZnLkl0ZXJhYmxlVXRpbHMuZmFzdEl0ZXJhdGUoYyxmdW5jdGlvbihjLGspe3UoYixlLHtuYW1lOmssdmFsdWU6YVtrXX0pfSkpO3JldHVybihjPUhbZV0pP2MoYSxiKTpifSxnZXRDb250ZW50OmZ1bmN0aW9uKGEpe2lmKG51bGwhPWEmJnooYSkpcmV0dXJuIGEudGV4dENvbnRlbnR9LGdldE5hbWVzcGFjZTpmdW5jdGlvbihhKXtpZih4KGEpKXJldHVybiBhLm5hbWVzcGFjZVVSSX0sbm9ybWFsaXplQXR0cmlidXRlVmFsdWU6YmEsY2xvbmVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7dmFyIGU9Zy5JdGVyYWJsZVV0aWxzLnRvQXJyYXkoYS5hdHRyaWJ1dGVzKTtnLkl0ZXJhYmxlVXRpbHMuZmFzdEl0ZXJhdGUoZSxmdW5jdGlvbihhLGUpe3ZhciBjPSExPT09ci5Ub29scy5pc05VTEwoZS5uYW1lc3BhY2VVUkkpLGs9ZS5jbG9uZU5vZGUoKTtjP2IuYXR0cmlidXRlcy5zZXROYW1lZEl0ZW1OUyhrKToKYi5hdHRyaWJ1dGVzLnNldE5hbWVkSXRlbShrKX0pO3JldHVybiBifSxpc1NWRzp4LGlzVGV4dE5vZGU6eixpc0lnbm9yZWROb2RlOmMsaXNJZ25vcmVkQXR0cjpOYSxpc0F0dHJpYnV0ZU5hbWVWYWxpZDp2LGlzU2tpcHBlZEF0dHJpYnV0ZTpmdW5jdGlvbihhKXtyZXR1cm4gZy5JdGVyYWJsZVV0aWxzLmluY2x1ZGVzKHEsYSl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYywiYWRkQXR0cmlidXRlc0ZpbHRlciIse3ZhbHVlOmZ1bmN0aW9uKGEpeyJmdW5jdGlvbiI9PT10eXBlb2YgYSYmZS5wdXNoKGEpfX0pO2IuYz1jfSxmdW5jdGlvbihhLGIsYyl7Yy5yKGIpO2MuZChiLCJLZXlWYWx1ZSIsZnVuY3Rpb24oKXtyZXR1cm4gbn0pO2E9YygxNCk7dmFyIGQ9Yy5uKGEpO2E9YygxKTt2YXIgZj1jLm4oYSk7YT1jKDIpO3ZhciBsPWMoOSksZz1jKDApO2M9bC5hLk1hcDthPWEuT2JqZWN0VXRpbHMuaXNNb25rZXlQYXRjaGVkT3JVbmRlZmluZWQoIk1hcCIsInNldCBnZXQgaGFzIGNsZWFyIGRlbGV0ZSBmb3JFYWNoIHRvU3RyaW5nIi5zcGxpdCgiICIpKTsKdmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe2YoKSh0aGlzLCJsYXN0SW5kZXgiLDApO2YoKSh0aGlzLCJsaXN0IixbXSk7ZigpKHRoaXMsImluZGV4IixbXSk7YiBpbnN0YW5jZW9mIGE/dGhpcy5jcmVhdGUoZy5JdGVyYWJsZVV0aWxzLnRvQXJyYXkoYikpOmIgaW5zdGFuY2VvZiBBcnJheSYmdGhpcy5jcmVhdGUoYil9dmFyIGI9YS5wcm90b3R5cGU7Yi5hbGxvY2F0ZT1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT0wKTt0aGlzLmxpc3QubGVuZ3RoPWE7dGhpcy5pbmRleC5sZW5ndGg9YX07Yi5zZXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmluZGV4T2YodGhpcy5pbmRleCxhKTstMSE9PWM/dGhpcy5saXN0W2NdLnZhbHVlPWI6KHRoaXMubGlzdFt0aGlzLmxhc3RJbmRleF09e2tleTphLHZhbHVlOmJ9LHRoaXMuaW5kZXhbdGhpcy5sYXN0SW5kZXhdPWEsdGhpcy5sYXN0SW5kZXgrKyk7cmV0dXJuIHRoaXN9O2IuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuZmluZChhKSk/CmEudmFsdWU6QX07Yi5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEua2V5fSl9O2IudmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudmFsdWV9KX07Yi5oYXM9ZnVuY3Rpb24oYSl7cmV0dXJuLTEhPT10aGlzLmluZGV4T2YodGhpcy5pbmRleCxhKX07Yi5jbGVhcj1mdW5jdGlvbigpe3RoaXMubGFzdEluZGV4PTA7dGhpcy5saXN0Lmxlbmd0aD0wO3RoaXMuaW5kZXgubGVuZ3RoPTA7cmV0dXJuIHRoaXN9O2JbImRlbGV0ZSJdPWZ1bmN0aW9uKGEpe2lmKGE9dGhpcy5maW5kKGEpKWlmKGE9dGhpcy5pbmRleE9mKHRoaXMubGlzdCxhKSwtMSE9PWEpcmV0dXJuIHRoaXMubGlzdC5zcGxpY2UoYSwxKSx0aGlzLmluZGV4LnNwbGljZShhLDEpLHRoaXMubGFzdEluZGV4LS0sITA7cmV0dXJuITF9O2IuZWFjaD1mdW5jdGlvbihhKXsiZnVuY3Rpb24iPT09dHlwZW9mIGEmJnRoaXMubG9vcChmdW5jdGlvbihiKXt2YXIgYz0KYi5rZXk7Yj1iLnZhbHVlOzI9PT1hLmxlbmd0aD9hKGMsYik6YShbYyxiXSl9KX07Yi5mb3JFYWNoPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ImZ1bmN0aW9uIj09PXR5cGVvZiBhJiZ0aGlzLmxvb3AoZnVuY3Rpb24oYyl7YShjLnZhbHVlLGMua2V5LGIpfSl9O2IudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpc3QubWFwKGZ1bmN0aW9uKGEpe3JldHVyblthLmtleSxhLnZhbHVlXX0pfTtiLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIktleVZhbHVlKCIrdGhpcy5zaXplKyIpIn07Yi5sb29wPWZ1bmN0aW9uKGEpe2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgYSlmb3IodmFyIGI9MDtiPHRoaXMubGlzdC5sZW5ndGg7KWEuY2FsbCh0aGlzLHRoaXMubGlzdFtiXSksYisrfTtiLmNyZWF0ZT1mdW5jdGlvbihhKXt2YXIgYj0wO2lmKGEmJjA8YS5sZW5ndGgpZm9yKDtiPGEubGVuZ3RoOyl7dmFyIGM9YVtiXTt0aGlzLnNldChjWzBdLGNbMV0pO2IrK319O2IuZmluZD1mdW5jdGlvbihhKXthPQp0aGlzLmluZGV4T2YodGhpcy5pbmRleCxhKTtpZigtMSE9PWEpcmV0dXJuIHRoaXMubGlzdFthXX07Yi5pbmRleE9mPWZ1bmN0aW9uKGEsYil7cmV0dXJuW10uaW5kZXhPZi5jYWxsKGEsYil9O2QoKShhLFt7a2V5OiJzaXplIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXN0SW5kZXh9fV0pO3JldHVybiBhfSgpO2JbImRlZmF1bHQiXT1hP246Y30sZnVuY3Rpb24oYSxiLGMpe2E9Yyg1KTthPWMubihhKTtjLmQoYiwiYSIsZnVuY3Rpb24oKXtyZXR1cm4gZH0pO3ZhciBkPWEoKSh7fSx7TkFUSVZFX0lGUkFNRV9OQU1FOiJ5bS1uYXRpdmUtZnJhbWUifSx7ZW52aXJvbm1lbnQ6InByb2R1Y3Rpb24iLCJwYWNrYWdlIjp7dmVyc2lvbjoiMi42LjIifSxyZXNwZWN0RG9Ob3RUcmFjazohMCxleHBlcmltZW50YWxXZWJTb2NrZXQ6ITAsY2FwdG9yczp7aW5wdXQ6ITAsa2V5c3Ryb2tlczohMCxtZWRpYTohMSxtb3VzZTohMCxmb2N1czohMCxtdXRhdGlvbnM6ITAscmVzaXplOiEwLGRldmljZVJvdGF0aW9uOiEwLApzZWxlY3Rpb246ITAsc2Nyb2xsOiEwLHRvdWNoOiEwLHpvb206ITAsd2luZG93OiEwLHNyY3NldDohMH0sY2FwdG9yc0NvbmZpZzp7aW5wdXQ6e1BEOmZ1bmN0aW9uKCl7cmV0dXJue2RlbGltaXRlcjoiKC18XFwufF98XFxzKXswLDJ9IixzdXNwaWNpb3VzV29yZHM6ImZpcnN0KC18XFwufF98XFxzKXswLDJ9bmFtZSBsYXN0KC18XFwufF98XFxzKXswLDJ9bmFtZSB6aXAgcG9zdGFsIHBob25lIGFkZHJlc3MgcGFzc3BvcnQgKGJhbmt8Y3JlZGl0KSgtfFxcLnxffFxccyl7MCwyfWNhcmQgY2FyZCgtfFxcLnxffFxccyl7MCwyfW51bWJlciBjYXJkKC18XFwufF98XFxzKXswLDJ9aG9sZGVyIGN2diBjYXJkKC18XFwufF98XFxzKXswLDJ9ZXhwIGNhcmQoLXxcXC58X3xcXHMpezAsMn1uYW1lIGNhcmQuKm1vbnRoIGNhcmQuKnllYXIgY2FyZC4qbW9udGggY2FyZC4qeWVhciBwYXNzd29yZCBlbWFpbCBiaXJ0aCgtfFxcLnxffFxccyl7MCwyfShkYXl8ZGF0ZSkgc2Vjb25kKC18XFwufF98XFxzKXswLDJ9bmFtZSB0aGlyZCgtfFxcLnxffFxccyl7MCwyfW5hbWUgcGF0cm9ueW1pYyBtaWRkbGUoLXxcXC58X3xcXHMpezAsMn1uYW1lIGJpcnRoKC18XFwufF98XFxzKXswLDJ9cGxhY2UgaG91c2Ugc3RyZWV0IGNpdHkgZmxhdCBzdGF0ZSBjb250YWN0LioiLnNwbGl0KCIgIiksCnBsYWNlaG9sZGVyU3VzcGljaW91c1dvcmRzOiJcdTA0MzhcdTA0M2NcdTA0NGYgXHUwNDQ0XHUwNDMwXHUwNDNjXHUwNDM4XHUwNDNiXHUwNDM4XHUwNDRmIFx1MDQzZVx1MDQ0Mlx1MDQ0N1x1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzMlx1MDQzZSBcdTA0MzhcdTA0M2RcdTA0MzRcdTA0MzVcdTA0M2FcdTA0NDEgXHUwNDQyXHUwNDM1XHUwNDNiXHUwNDM1XHUwNDQ0XHUwNDNlXHUwNDNkIFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MSBcdTA0M2ZcdTA0MzBcdTA0NDFcdTA0M2ZcdTA0M2VcdTA0NDBcdTA0NDIgXHUwNDNkXHUwNDNlXHUwNDNjXHUwNDM1XHUwNDQwKC18XFwufF98XFxzKXswLDJ9XHUwNDNhXHUwNDMwXHUwNDQwXHUwNDQyXHUwNDRiIFx1MDQzNFx1MDQzMFx1MDQ0Mlx1MDQzMCgtfFxcLnxffFxccyl7MCwyfVx1MDQ0MFx1MDQzZVx1MDQzNlx1MDQzNFx1MDQzNVx1MDQzZFx1MDQzOFx1MDQ0ZiBcdTA0MzRcdTA0M2VcdTA0M2MgXHUwNDQzXHUwNDNiXHUwNDM4XHUwNDQ2XHUwNDMwIFx1MDQzYVx1MDQzMlx1MDQzMFx1MDQ0MFx1MDQ0Mlx1MDQzOFx1MDQ0MFx1MDQzMCBcdTA0MzNcdTA0M2VcdTA0NDBcdTA0M2VcdTA0MzQgXHUwNDNlXHUwNDMxXHUwNDNiXHUwNDMwXHUwNDQxXHUwNDQyXHUwNDRjIi5zcGxpdCgiICIpfX19fSwKRE9NSW5kZXhlcjp7SUdOT1JFRF9OT0RFUzpbInNjcmlwdCIsIm5vc2NyaXB0IiwiYXVkaW8iXSxJR05PUkVEX0FUVFJJQlVURVM6eyIqIjpbIl5vbi4rIiwic3Jjc2V0IiwiaW50ZWdyaXR5IiwiY3Jvc3NvcmlnaW4iXSxpZnJhbWU6WyJzcmMiXSxzY3JpcHQ6WyJzcmMiLCJ0eXBlIl19LFNLSVBQRURfQVRUUklCVVRFUzpbXSxFWFRSQV9BVFRSSUJVVEVTOntWSURFTzpbIndpZHRoIiwiaGVpZ2h0Il19LFVSTF9OT0RFUzpbImxpbmsiLCJpbWciLCJzdmciXSxVUkxfQVRUUklCVVRFUzoiaHJlZiBsaW5rIGNvbnRlbnQgcG9zdGVyIHN0eWxlIHNyYyBzcmNzZXQiLnNwbGl0KCIgIiksSUdOT1JFX05PREVTX09SREVSOlsiSEVBRCJdLEhJREFCTEVfTk9ERVM6IiN0ZXh0IElNRyBJTlBVVCBCVVRUT04gU0VMRUNUIFRFWFRBUkVBIi5zcGxpdCgiICIpLFJFUExBQ0VfQVRUUklCVVRFUzp7YTp7aHJlZjoiIyJ9fX19KX0sZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYil7Zm9yKHZhciBjPQowO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2QuZW51bWVyYWJsZT1kLmVudW1lcmFibGV8fCExO2QuY29uZmlndXJhYmxlPSEwOyJ2YWx1ZSJpbiBkJiYoZC53cml0YWJsZT0hMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsZC5rZXksZCl9fWEuZXhwb3J0cz1mdW5jdGlvbihhLGIsbCl7YiYmYyhhLnByb3RvdHlwZSxiKTtsJiZjKGEsbCk7cmV0dXJuIGF9fSxmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGEsZil7dmFyIGQ9Yyg4KSxnPWMoMCksbj1jKDIpLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyl7dmFyIGs9dm9pZCAwPT09Yz97fTpjLGU9ay5jb250ZXh0O2U9dm9pZCAwPT09ZT9udWxsOmU7az1rLmV4cG9zZTtrPXZvaWQgMD09PWs/ITE6azt0aGlzLmFsbG93ZWRFdmVudHM9Zy5JdGVyYWJsZVV0aWxzLnRvTGlzdCgodGhpcy5ldmVudHNMaXN0fHxifHxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnNwbGl0KCI6IilbMF19KSk7dGhpcy5jb250ZXh0PWV8fHRoaXM7CnRoaXMuX2RlZmluZSgiX2V2ZW50cyIsbmV3IGEpLl9kZWZpbmUoIl9tZW1vcnkiLG5ldyBhKS5fZGVmaW5lKCJfbmFtZXNwYWNlcyIsbmV3IGEpLl9kZWZpbmUoIl9vcHRpb25zIixuZXcgYSkuX2RlZmluZSgiX29uY2UiLG5ldyBhKTt0aGlzLl9zZXR1cEV2ZW50cygpO3RoaXMuX2V4cG9zZUV2ZW50cyhlLGspfXZhciBjPWIucHJvdG90eXBlO2MuZW1pdD1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcyxjPWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheSgxPGM/Yy0xOjApLGQ9MTtkPGM7ZCsrKWVbZC0xXT1hcmd1bWVudHNbZF07cmV0dXJuIG5ldyBmKGZ1bmN0aW9uKGMsayl7dmFyIGQ9YS5zcGxpdCgiICIpO2cuSXRlcmFibGVVdGlscy5mb3JvZihkLGZ1bmN0aW9uKGEpe2IuX2ludm9rZUV2ZW50KGEsZSxjLGspfSk7cmV0dXJuIGJ9KX07Yy5vbj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBiKXt2YXIgZT1hLnNwbGl0KCIgIik7Zy5JdGVyYWJsZVV0aWxzLmZvcm9mKGUsCmZ1bmN0aW9uKGEpe2MuX3NhdmVFdmVudChhLGIpfSl9ZWxzZSB0aHJvdyBFcnJvcigiQ2FsbGJhY2sgc291bGQgYmUgYSBmdW5jdGlvbiIpO3JldHVybiB0aGlzfTtjLm9mZj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dmFyIGU9YT9hLnNwbGl0KCIgIik6Zy5JdGVyYWJsZVV0aWxzLmtleXMoYy5fZXZlbnRzKTtnLkl0ZXJhYmxlVXRpbHMuZm9yb2YoZSxmdW5jdGlvbihhKXtjLl9yZW1vdmVFdmVudChhLGIpfSk7cmV0dXJuIHRoaXN9O2MuX2RlZmluZT1mdW5jdGlvbihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGEse3ZhbHVlOmIsd3JpdGFibGU6ITF9KTtyZXR1cm4gdGhpc307Yy5fZXhwb3NlRXZlbnRzPWZ1bmN0aW9uKGEsYil7YiYmbi5PYmplY3RVdGlscy5hc3NpZ24oYSx7b246dGhpcy5vbi5iaW5kKHRoaXMpLG9mZjp0aGlzLm9mZi5iaW5kKHRoaXMpLGVtaXQ6dGhpcy5lbWl0LmJpbmQodGhpcyl9KX07Yy5fZ2V0TmFtZXNwYWNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9CnRoaXMuX25hbWVzcGFjZXMuZ2V0KGEpO3JldHVybiBjP2MuZ2V0KGIpfHx0aGlzLl9ldmVudHMuZ2V0KGEpOnRoaXMuX2V2ZW50cy5nZXQoYSl9O2MuX2hhc09wdGlvbj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX29wdGlvbnMuZ2V0KGEpO3JldHVybiEhYyYmYy5oYXMoYil9O2MuX2ludm9rZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXt2YXIgZT10aGlzO2E9YS5zcGxpdCgiLiIpO3ZhciBrPWFbMF07YT1hWzFdO3ZhciBkPXRoaXMuX2hhc09wdGlvbihrLCJzdG9wIik7aWYoKGE9dGhpcy5fZ2V0TmFtZXNwYWNlKGssYSkpJiYwPGEuc2l6ZSl7dmFyIHE9Zi5yZXNvbHZlKCk7Yj10aGlzLl9zYXZlTWVtb3J5KGssYik7Zy5JdGVyYWJsZVV0aWxzLmZvcm9mKGEsZnVuY3Rpb24oYSl7aWYoZS5faXNBbHJlYWR5Q2FsbGVkKGssYSkpcmV0dXJuITA7cT1xLnRoZW4oZnVuY3Rpb24oZyl7cmV0dXJuITEhPT1nPyhnPWUuX3J1bkNhbGxiYWNrKGssYSxiKSxjKGcpLGQ/ZzpudWxsKTohMX0pfSl9fTsKYy5faXNBbHJlYWR5Q2FsbGVkPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5faGFzT3B0aW9uKGEsIm9uY2UiKSl7dmFyIGM9dGhpcy5fb25jZS5nZXQoYSl8fG5ldyBkWyJkZWZhdWx0Il07aWYoYy5oYXMoYikpcmV0dXJuITA7Yy5hZGQoYik7dGhpcy5fb25jZS5zZXQoYSxjKX1yZXR1cm4hMX07Yy5fcnVuQ2FsbGJhY2s9ZnVuY3Rpb24oYSxiLGMpe2M9dGhpcy5fc2F2ZU1lbW9yeShhLGMpO3JldHVybiBiLmNhbGwuYXBwbHkoYixbdGhpcy5jb250ZXh0XS5jb25jYXQoYykpfTtjLl9zYXZlRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnNwbGl0KCI6IiksZT1jWzBdO2M9Yy5zbGljZSgxKTt2YXIgZj1lLnNwbGl0KCIuIik7ZT1mWzBdO2Y9ZlsxXTt2YXIgbD10aGlzLl9ldmVudHMuZ2V0KGUpfHxuZXcgZFsiZGVmYXVsdCJdO2M9dGhpcy5fb3B0aW9ucy5nZXQoZSl8fGcuSXRlcmFibGVVdGlscy50b0xpc3QoYyk7dmFyIHE9dGhpcy5fbWVtb3J5LmdldChlKXx8ITE7bC5oYXMoYil8fAoobC5hZGQoYiksdGhpcy5fZXZlbnRzLnNldChlLGwpLHRoaXMuX29wdGlvbnMuc2V0KGUsYyksdGhpcy5fc2F2ZU5hbWVzcGFjZShlLGYsYikscSYmdGhpcy5fcnVuQ2FsbGJhY2soZSxiLHEpKX07Yy5fc2F2ZU1lbW9yeT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9oYXNPcHRpb24oYSwibWVtb3J5Iik/dGhpcy5fbWVtb3J5LmhhcyhhKT90aGlzLl9tZW1vcnkuZ2V0KGEpfHxbXTp0aGlzLl9tZW1vcnkuc2V0KGEsYikmJmI6Yn07Yy5fc2F2ZU5hbWVzcGFjZT1mdW5jdGlvbihiLGMsayl7dmFyIGU9dGhpcy5fbmFtZXNwYWNlcy5nZXQoYil8fG5ldyBhLGc9ZS5nZXQoY3x8Il9fZ2xvYmFsIil8fG5ldyBkWyJkZWZhdWx0Il07Zy5hZGQoayk7ZS5zZXQoY3x8Il9fZ2xvYmFsIixnKTt0aGlzLl9uYW1lc3BhY2VzLnNldChiLGUpfTtjLl9zZXR1cEV2ZW50cz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5hbGxvd2VkRXZlbnRzLnNpemUmJmcuSXRlcmFibGVVdGlscy5mb3JvZih0aGlzLmFsbG93ZWRFdmVudHMsCmZ1bmN0aW9uKGIpe3ZhciBjPWIuc3BsaXQoIjoiKTtiPWNbMF07Yz1jLnNsaWNlKDEpO2EuX29wdGlvbnMuc2V0KGIsZy5JdGVyYWJsZVV0aWxzLnRvTGlzdChjKSk7YS5fZXZlbnRzLnNldChiLG5ldyBkWyJkZWZhdWx0Il0pfSl9O2MuX3JlbW92ZUNhbGxiYWNrcz1mdW5jdGlvbihhLGIpe2lmKGIgaW5zdGFuY2VvZiBkWyJkZWZhdWx0Il0pe3ZhciBjPXRoaXMuX2V2ZW50cy5nZXQoYSk7Zy5JdGVyYWJsZVV0aWxzLmZvcm9mKGIsZnVuY3Rpb24oYSl7YyYmY1siZGVsZXRlIl0oYSl9KX19O2MuX3JlbW92ZUV2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zcGxpdCgiLiIpLGU9Y1swXTtjPWNbMV07dmFyIGc9dGhpcy5fZXZlbnRzLmdldChlKXx8bmV3IGRbImRlZmF1bHQiXTtnLmhhcyhiKT8oY3x8Z1siZGVsZXRlIl0oYiksdGhpcy5fcmVtb3ZlTmFtZXNwYWNlKGUsYyxiKSk6KGN8fCh0aGlzLl9ldmVudHNbImRlbGV0ZSJdKGUpLHRoaXMuX29wdGlvbnNbImRlbGV0ZSJdKGUpKSwKdGhpcy5fcmVtb3ZlTmFtZXNwYWNlKGUsYykpfTtjLl9yZW1vdmVOYW1lc3BhY2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGU9dGhpcy5fbmFtZXNwYWNlcy5nZXQoYSk7ZSYmKGI/KHRoaXMuX3JlbW92ZUNhbGxiYWNrcyhhLGUuZ2V0KGIpKSxlWyJkZWxldGUiXShiKSk6KGcuSXRlcmFibGVVdGlscy5mb3JvZihlLGZ1bmN0aW9uKGIpe2MuX3JlbW92ZUNhbGxiYWNrcyhhLGIpfSksdGhpcy5fbmFtZXNwYWNlc1siZGVsZXRlIl0oYSkpKX07cmV0dXJuIGJ9KCk7Yi5hPXJ9KS5jYWxsKHRoaXMsYygxMilbImRlZmF1bHQiXSxjKDIyKS5Qcm9taXNlKX0sZnVuY3Rpb24oYSxiLGMpe2MucihiKTsoZnVuY3Rpb24oYSl7Yy5kKGIsIlRvb2xzIixmdW5jdGlvbigpe3JldHVybiB3fSk7dmFyIGQ9Yyg0KSxsPWMoNDApLGc9YygyKSxuPWMoMykscj17Im51bGwiOm51bGwsdW5kZWZpbmVkOkEsInRydWUiOiEwLCJmYWxzZSI6ITF9LHc9e2RlbGF5OmZ1bmN0aW9uKGIsYyl7dm9pZCAwPT09CmMmJihjPTApO3JldHVybiBuZXcgYShmdW5jdGlvbihhKXtJKGZ1bmN0aW9uKCl7YShiKCkpfSxjKX0pfSxjb3B5VGV4dDpmdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoZnVuY3Rpb24oYSl7dmFyIGM9dC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpLGQ9dC5ib2R5O2MudmFsdWU9YjtjLnN0eWxlLm9wYWNpdHk9IjAiO2Muc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtjLnN0eWxlLnRvcD0iLTk5OTk5cHgiO2Muc3R5bGUubGVmdD0iLTk5OTk5cHgiO2Mub25zZWxlY3Q9ZnVuY3Rpb24oKXt0cnl7Yy5vbnNlbGVjdD1udWxsLHQuZXhlY0NvbW1hbmQmJnQuZXhlY0NvbW1hbmQoImNvcHkiKSxhKCl9Y2F0Y2goZSl7blsiZGVmYXVsdCJdLndhcm4oIkVycm9yIHdoaWxlIGNvcHlpbmcgdGV4dCAiK2IsZSl9ZC5yZW1vdmVDaGlsZChjKX07ZC5hcHBlbmRDaGlsZChjKTtjLnNlbGVjdCgpfSl9LGdsb2JhbGl6ZTpmdW5jdGlvbihhLGIpeyJ1bmRlZmluZWQiIT09dHlwZW9mIGQuYSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGQuYSwKYix7dmFsdWU6YX0pfSxndWlkOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcig2NTUzNiooMStNYXRoLnJhbmRvbSgpKSkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKX07cmV0dXJuIGEoKSthKCkrIi0iK2EoKSsiLSIrYSgpKyItIithKCkrIi0iK2EoKSthKCkrYSgpfSxtZWFzdXJlOmZ1bmN0aW9uKGEsYixjKXtpZihudWxsIT1iKXJldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgYj9iKCk6Yn0sYXBpTW9jazpmdW5jdGlvbihhKXt2YXIgYj17cHJvcGVydGllczpbXSxtZXRob2RzOltdfTthPWEucHJvdG90eXBlO2Zvcih2YXIgYyBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoYykpdHJ5e2FbY11pbnN0YW5jZW9mIEZ1bmN0aW9uP2IubWV0aG9kcy5wdXNoKGMpOmIucHJvcGVydGllcy5wdXNoKGMpfWNhdGNoKGspe2IucHJvcGVydGllcy5wdXNoKGMpfXJldHVybiBifSxjYXN0OmZ1bmN0aW9uKGEpe2lmKHIuaGFzT3duUHJvcGVydHkoYSkpcmV0dXJuIHJbYV07CnZhciBiPU51bWJlcihhKTtyZXR1cm4gU3RyaW5nKGIpPT09YT9iOmF9LCJjYXRjaCI6ZnVuY3Rpb24oYSl7dHJ5e2EoKX1jYXRjaChGKXtyZXR1cm4gblsiZGVmYXVsdCJdLndhcm4oRiksRn19LGZldGNoOmwuYSxwcm9taXNlOmZ1bmN0aW9uKGIpe3JldHVybihuZXcgYShmdW5jdGlvbihhLGMpe2IoYSxjKX0pKVsiY2F0Y2giXShmdW5jdGlvbihhKXtyZXR1cm4gblsiZGVmYXVsdCJdLndhcm4oYSl9KX0saXNOVUxMOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hfSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgYX0scHJvbWlzZUVycm9yOmZ1bmN0aW9uKGIpe25bImRlZmF1bHQiXS53YXJuKGIpO3JldHVybiBhLnJlamVjdChiKX0scHJvbWlzZUV4ZWM6ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGZ1bmN0aW9uKGEpe2EoYigpKX0pfSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWU6ZnVuY3Rpb24oYSl7dmFyIGI9Zy5PYmplY3RVdGlscy5maW5kTmF0aXZlSW1wbGVtZW50YXRpb24oInJlcXVlc3RBbmltYXRpb25GcmFtZSIpLApjPWcuT2JqZWN0VXRpbHMuZmluZE5hdGl2ZUltcGxlbWVudGF0aW9uKCJjYW5jZWxBbmltYXRpb25GcmFtZSIpO2lmKGImJmMpcmV0dXJuIHRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWIuYmluZChtKSx0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZShhKTt0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZT1iPWZ1bmN0aW9uKGEpe3JldHVybiBJKGEsNCl9O3JldHVybiBiKGEpfSxjYW5jZWxBbmltYXRpb25GcmFtZTpmdW5jdGlvbihhKXt2YXIgYj1nLk9iamVjdFV0aWxzLmZpbmROYXRpdmVJbXBsZW1lbnRhdGlvbigicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiksYz1nLk9iamVjdFV0aWxzLmZpbmROYXRpdmVJbXBsZW1lbnRhdGlvbigiY2FuY2VsQW5pbWF0aW9uRnJhbWUiKTtiJiZjPyh0aGlzLmNhbmNlbEFuaW1hdGlvbkZyYW1lPWMuYmluZChtKSx0aGlzLmNhbmNlbEFuaW1hdGlvbkZyYW1lKGEpKToodGhpcy5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbihhKXtjbGVhclRpbWVvdXQoYSl9LApjbGVhclRpbWVvdXQoYSkpfSx0aHJvd0Vycm9yOmZ1bmN0aW9uKGEpe3Rocm93IEVycm9yKGEpO30sZXJyb3JQcm94eTpmdW5jdGlvbihhLGIsYyl7dm9pZCAwPT09YiYmKGI9ITEpO3RyeXtyZXR1cm4gYSgpfWNhdGNoKGspe3JldHVybiBtLmNvbnNvbGUud2FybigiRXJyb3Igd2hpbGUgcnVubmluZyAiKyhjfHxhLm5hbWUpLGspLGJ9fX19KS5jYWxsKHRoaXMsYygyMikuUHJvbWlzZSl9LGZ1bmN0aW9uKGEsYixjKXtjLmQoYiwiYSIsZnVuY3Rpb24oKXtyZXR1cm4gcH0pO2E9YygxMyk7Yj1jKDEyKTt2YXIgZD1jKDEwKSxmPWMoMTkpLGw9bmV3IGIuS2V5VmFsdWUsZz1TdHJpbmcuZnJvbUNoYXJDb2RlKDgyMjYpO2E9YS5hLmNhcHRvcnNDb25maWcuaW5wdXQuUEQoKTtjPWEuc3VzcGljaW91c1dvcmRzO2E9YS5wbGFjZWhvbGRlclN1c3BpY2lvdXNXb3Jkczt2YXIgbj1uZXcgUmVnRXhwKCIoIitjLmpvaW4oInwiKSsiKSIsImkiKSxyPW5ldyBSZWdFeHAoIigiK2MuY29uY2F0KGEpLmpvaW4oInwiKSsKIikiLCJpIiksdz0vY29sb3J8cmFkaW98Y2hlY2tib3h8ZGF0ZXxkYXRldGltZS1sb2NhbHxlbWFpbHxtb250aHxudW1iZXJ8cGFzc3dvcmR8cmFuZ2V8c2VhcmNofHRlbHx0ZXh0fHRpbWV8dXJsfHdlZWsvaSxwPXtpc1ZhbGlkVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdy50ZXN0KGEpfSxpc1ZhbGlkTm9kZTpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lO2E9YS50eXBlO3JldHVybiJJTlBVVCI9PT1iPyFhfHxwLmlzVmFsaWRUeXBlKGEpOi90ZXh0YXJlYXxzZWxlY3R8cHJvZ3Jlc3MvaS50ZXN0KGIpfSxpc1ByaXZhdGVJbmZvcm1hdGlvbkZpZWxkOmZ1bmN0aW9uKGEpe3ZhciBiPWEucGxhY2Vob2xkZXI7cmV0dXJuW2EuY2xhc3NOYW1lLGEuaWQsYS5uYW1lXS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXx8bi50ZXN0KGIpfSwhMSl8fHIudGVzdChiKX0saXNJZ25vcmVkOmZ1bmN0aW9uKGEpe3JldHVybi9wYXNzd29yZC9pLnRlc3QoYS50eXBlKXx8L3ltLWRpc2FibGUta2V5cy9pLnRlc3QoYS5jbGFzc05hbWUpfHwKZC5ET01VdGlscy5pc0hpZGRlbkNvbnRlbnQoYSk/ITA6ITF9LGlzUmVjb3JkYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXRjaGVzQ2xhc3MoYS5jbGFzc05hbWUsInltLXJlY29yZC1rZXlzIik/ITA6ITF9LG1hdGNoZXNDbGFzczpmdW5jdGlvbihhLGIpe3JldHVybihuZXcgUmVnRXhwKGIsImkiKSkudGVzdChhKX0saXNBbGxvd2VkOmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9ITEpO3JldHVybiBiPyEwPT09cC5pc1JlY29yZGFibGUoYSk6ITE9PT1wLmlzSWdub3JlZChhKX0saXNDaGFuZ2VkOmZ1bmN0aW9uKGEsYil7dmFyIGM9ITA7aWYobC5oYXMoYSkpe3ZhciBlPWwuZ2V0KGEpO2UmJihjPWIhPT1lWzBdKX1jJiZsLnNldChhLFtiXSk7cmV0dXJuIGN9LHZhbGlkYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8e30sZT1jLmlzRVUsZD1jLnJlY29yZGluZy5rZXlzTW9kZTtjPXAuaXNSZWNvcmRhYmxlKGEpO3ZhciBnPXAuaXNQcml2YXRlSW5mb3JtYXRpb25GaWVsZChhKTsKZT1wLmlzQWxsb3dlZChhLCJleHBsaWNpdCI9PT1kKSYmKCFlfHwhZyk7cmV0dXJue2ZvcmNlUmVjb3JkOmMsaXNQcml2YXRlOmcsaXNBbGxvd2VkOmV9fSxlbmNvZGU6ZnVuY3Rpb24oYSl7dm9pZCAwPT09YSYmKGE9IiIpO3JldHVybiBhJiYwPGEubGVuZ3RoP2Euc3BsaXQoL1xuLykubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBmLlN0cmluZ1V0aWxzLnJlcGVhdFN0cmluZyhnLGEubGVuZ3RoKX0pLmpvaW4oIlxuIik6YX19fSxmdW5jdGlvbihhLGIpe2EuZXhwb3J0cz1mdW5jdGlvbihhLGIpe2EucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7YS5fX3Byb3RvX189Yn19LGZ1bmN0aW9uKGEsYixjKXtjLnIoYik7Yy5kKGIsIlN0cmluZ1V0aWxzIixmdW5jdGlvbigpe3JldHVybiBsfSk7dmFyIGQ9Yyg0KSxmPWMoMCksbD17ZGFzaGVyaXplOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYiwKYyl7dmFyIGQ9L1tBLVpdL2cudGVzdChhW2MtMV0pO3JldHVybigwPT09Y3x8ZD8iIjoiLSIpK2IudG9Mb3dlckNhc2UoKX0pfSxwYWQ6ZnVuY3Rpb24oYSxiLGMsZCl7dm9pZCAwPT09YiYmKGI9Mik7dm9pZCAwPT09YyYmKGM9IiAiKTt2b2lkIDA9PT1kJiYoZD0hMSk7YT1TdHJpbmcoYSk7Yj1mLkl0ZXJhYmxlVXRpbHMuZmlsbChBcnJheShNYXRoLm1heCgwLE1hdGgubWluKGItYS5sZW5ndGgsYikpKSxjKTtyZXR1cm4gZD8iIithK2Iuam9pbigiIik6IiIrYi5qb2luKCIiKSthfSxzdHJpbmdUb0Jsb2JVUkw6ZnVuY3Rpb24oYSxiLGMpe3ZvaWQgMD09PWMmJihjPWQuYS5sb2NhdGlvbik7dmFyIGc9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBCbG9iKFthXSx7dHlwZTpifSl9Y2F0Y2gocSl7dmFyIGM9ZC5hO2M9bmV3IChjLkJsb2JCdWlsZGVyfHxjLldlYktpdEJsb2JCdWlsZGVyfHxjLk1vekJsb2JCdWlsZGVyfHxjLk1TQmxvYkJ1aWxkZXIpO2MuYXBwZW5kKGEpO3JldHVybiBjLmdldEJsb2IoYil9fSgpLApmPWZ1bmN0aW9uKGEpe3JldHVybiBhPyhhPShVUkx8fHdlYmtpdFVSTCkuY3JlYXRlT2JqZWN0VVJMKGEpLC9ibG9iOig/IWh0dHBbc10/KS4qLy50ZXN0KGEpP2EucmVwbGFjZSgiYmxvYjoiLCJibG9iOiIrKGMucHJvdG9jb2wrIi8vIitjLmhvc3QpKyIvIik6YSk6QX0oZyk7cmV0dXJuIGc/e2Jsb2I6Zyx1cmw6Zn06bnVsbH0scmVwZWF0U3RyaW5nOmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9MSk7cmV0dXJuIEFycmF5KGIrMSkuam9pbihhKX0scGFyc2VVUkxOYXRpdmU6ZnVuY3Rpb24oYSl7dmFyIGI9dC5jcmVhdGVFbGVtZW50KCJhIik7Yi5ocmVmPWE7cmV0dXJue3Byb3RvY29sOmIucHJvdG9jb2wsaG9zdG5hbWU6Yi5ob3N0bmFtZSxob3N0OmIuaG9zdCxwb3J0OmIucG9ydCxwYXRobmFtZTpiLnBhdGhuYW1lLHNlYXJjaDpiLnNlYXJjaCx1cmw6YX19LHBhcnNlVVJMOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiBBO2lmKCJzdHJpbmciIT09dHlwZW9mIGEpcmV0dXJuIGQuYS5jb25zb2xlLndhcm4oIlVSTCB3YXMgZXhwZWN0ZWQgdG8gYmUgYSBzdHJpbmciLAphKSxBO3ZhciBiPWEubWF0Y2goL14oaHR0cFtzXT98ZmlsZSk6XC9cLyhbXi9cbl0qKShbXj9cbl0qKShcP1teXG5dKik/Lyk7aWYoYil7dmFyIGM9Yi5zbGljZSgxKTtiPWNbMF07dmFyIGc9Y1sxXSxmPWNbMl07Yz1jWzNdO3ZhciBsPWc/KGcubWF0Y2goLyhbXjpcc10rKSg6WzAtOV0qKT8vKXx8W10pLnNsaWNlKDEpOltdLHE9bFswXTtxPXZvaWQgMD09PXE/QTpxO2w9bFsxXTtsPXZvaWQgMD09PWw/QTpsO3ZhciBrPXE/KHEubWF0Y2goL1wuKFteLl0rKSQvKXx8W10pWzFdOkEsZT1mP2Z1bmN0aW9uKCl7dmFyIGE9Zi5tYXRjaCgvKFteL10rKVwuKFteL10qKSQvKTtyZXR1cm4gYT9hWzBdOkF9KCk6QSxCPWYmJmU/Zi5yZXBsYWNlKCIvIitlLCIiKTpmfHwiLyI7cmV0dXJue3Byb3RvY29sOmI/YisiOiI6QSxob3N0bmFtZTpnLGhvc3Q6cSxwb3J0OihsfHwiODAiKS5yZXBsYWNlKC86LywiIikscGF0aDpmfHwiLyIsdGxkOmssZmlsZTplLHBhdGhuYW1lOkIsc2VhcmNoOmM/Yy5yZXBsYWNlKC9eXD8vLAoiIik6QSx1cmw6YSxhc3NlbWJsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBhP2EucmVwbGFjZSgvKFx7KFtefV0rKVx9KS9nLGZ1bmN0aW9uKCl7cmV0dXJuIGJbMj49YXJndW1lbnRzLmxlbmd0aD9BOmFyZ3VtZW50c1syXV19KTp0aGlzLnVybH19fXJldHVybiBBfX19LGZ1bmN0aW9uKGEsYixjKXtiLmE9ZnVuY3Rpb24oYSxiLGMpe3ZvaWQgMD09PWMmJihjPSExKTt2YXIgZD0yPT09Yi5sZW5ndGg7aWYoYSYmYiBpbnN0YW5jZW9mIEZ1bmN0aW9uKWZvcih2YXIgZiBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoZil8fCEwPT09Yyl7dmFyIGw9ZD9iKGYsYVtmXSk6YihmKTtpZighMCE9PWwmJiExPT09bClicmVha319fSxmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGEsYyl7dmFyIGQ9bmV3IGE7Yi5hPXt0aHJvdHRsZWRGdW5jdGlvbnM6ZCxpbnZva2VBbGw6ZnVuY3Rpb24oYSl7Yy5mYXN0SXRlcmF0ZShkLGZ1bmN0aW9uKGIsYyl7Yy5pbnZva2UuY2FsbChhKX0pfSwKY3JlYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGc9dm9pZCAwPT09Yj97fTpiLGY9Zy50aW1lb3V0LGw9dm9pZCAwPT09Zj8wOmY7Zj1nLmltbWVkaWF0ZUZpcnN0UnVuO3ZhciBuPXZvaWQgMD09PWY/ITE6ZjtnPWcuY29udGV4dDt2YXIgcT0hMCxrPW51bGwsZT1udWxsLEI9bnVsbCxIPW51bGwsej0hMSxoPW51bGwsbT1udWxsO2c9e2ludm9rZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuY29udGV4dHx8dGhpcztCIT09ayYmKEg9Yy5ub3coKSxCPWssYS5jYWxsKGIse29iamVjdDprLHByZXZPYmplY3Q6bnVsbCx0aW1lRGlmZmY6MCxhcmdzOm19KSl9LHJ1bjpmdW5jdGlvbihiKXt2YXIgZD10aGlzLmNvbnRleHR8fHRoaXM7biYmKGNsZWFyVGltZW91dChoKSxoPUkoZnVuY3Rpb24oKXtyZXR1cm4gcT0hMH0sbCkpO2lmKCF6KXtrPWI7Zm9yKHZhciBnPWFyZ3VtZW50cy5sZW5ndGgsZj1BcnJheSgxPGc/Zy0xOjApLHI9MTtyPGc7cisrKWZbci0xXT1hcmd1bWVudHNbcl07bT1mO3EmJm4/CihxPSExLEI9YixhLmNhbGwoZCx7b2JqZWN0OmIscHJldk9iamVjdDpudWxsLHRpbWVEaWZmZjowLGFyZ3M6bX0pKTooSD1jLm5vdygpLHo9ITAsSShmdW5jdGlvbiB0YSgpe3ZhciBiPXBhcnNlSW50KGMubm93KCktSCwxMCk7Yj49bD8oej0hMSxIPWMubm93KCksQiE9PWsmJihlPUIsQj1rLGEuY2FsbChkLHtvYmplY3Q6ayxwcmV2T2JqZWN0OmUsdGltZURpZmY6YixhcmdzOm19KSkpOkkodGEpfSkpfX0sY29udGV4dDp2b2lkIDA9PT1nP251bGw6ZyxjYWxsOmZ1bmN0aW9uKCl7dmFyIGE7KGE9dGhpcy5ydW4pLmNhbGwuYXBwbHkoYSxhcmd1bWVudHMpfX07ZC5zZXQoYSxnKTtyZXR1cm4gZ30sc2V0Q29udGV4dDpmdW5jdGlvbihhLGIpe2lmKGQuaGFzKGEpKXt2YXIgYz1kLmdldChhKTtudWxsPT1jLmNvbnRleHQmJihjLmNvbnRleHQ9Yil9fX19KS5jYWxsKHRoaXMsYygxMilbImRlZmF1bHQiXSxjKDcpWyJkZWZhdWx0Il0pfSxmdW5jdGlvbihhLGIsYyl7Yy5yKGIpO2MuZChiLAoiUHJvbWlzZSIsZnVuY3Rpb24oKXtyZXR1cm4gZH0pO3ZhciBkPWMoNCkuYS5Qcm9taXNlfHxjKDg1KS5Qcm9taXNlfSxmdW5jdGlvbihhLGIsYyl7Yy5yKGIpO2MuZChiLCJGdW5jdGlvblV0aWxzIixmdW5jdGlvbigpe3JldHVybiBkfSk7dmFyIGQ9e2ludm9rZTpmdW5jdGlvbihhLGIsYyl7dm9pZCAwPT09YiYmKGI9W10pO3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgYT8oYyYmKGE9YS5iaW5kKGMpKSxhLmFwcGx5KHZvaWQgMCxiKSk6YX0sbGF6eTpmdW5jdGlvbihhLGIpe3ZvaWQgMD09PWImJihiPTApO3ZhciBjO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZD1hcmd1bWVudHMubGVuZ3RoLGc9QXJyYXkoZCksZj0wO2Y8ZDtmKyspZ1tmXT1hcmd1bWVudHNbZl07Y2xlYXJUaW1lb3V0KGMpO2M9SShmdW5jdGlvbigpe2EuYXBwbHkodm9pZCAwLGcpfSxiKX19LG9uY2U6ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oKXt2YXIgYz1hLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpOwpiPWZ1bmN0aW9uKCl7cmV0dXJuIGN9O3JldHVybiBjfTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYi5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX19LG5vb3A6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fSx0b0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgYT9hOnRoaXMubm9vcCgpfSxyZXBlYXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz12b2lkIDA9PT1iP3t9OmIsZD1jLmNvbnRleHQsZj12b2lkIDA9PT1kP251bGw6ZDtkPWMuYXJnczt2YXIgbD12b2lkIDA9PT1kP1tdOmQ7ZD1jLmRlbGF5O3ZhciBwPXZvaWQgMD09PWQ/MDpkO2M9Yy5yYWY7Yz12b2lkIDA9PT1jPyEwOmM7dmFyIGg9RGF0ZS5ub3coKSxxPSExLGs9bnVsbCxlPWM/dGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYmluZCh0aGlzKTpJLEI9Yz90aGlzLmNhbmNlbEFuaW1hdGlvbkZyYW1lLmJpbmQodGhpcyk6Y2xlYXJUaW1lb3V0O2M9ZnVuY3Rpb24geigpe3E/QihrKToKKERhdGUubm93KCktaD49cCYmKGg9RGF0ZS5ub3coKSxhLmFwcGx5KGYsbCkpLGs9ZSh6KSl9O2Muc3RvcD1mdW5jdGlvbigpe3E9ITB9O2MoKTtyZXR1cm4gY319fSxmdW5jdGlvbihhLGIsYyl7YS5leHBvcnRzPWMoODcpfSxmdW5jdGlvbihhLGIsYyl7Yy5yKGIpO2E9Yyg0KS5hLlN5bWJvbDtjPWEgaW5zdGFuY2VvZiBGdW5jdGlvbiYmYS5pdGVyYXRvcj9hOmMoNjYpO2JbImRlZmF1bHQiXT1jfSxmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yyg0KSxmPWMoMiksbD1mdW5jdGlvbigpe3ZhciBhPSExO2lmKGYuT2JqZWN0VXRpbHMub2JqZWN0SXNXaW5kb3coZC5hKSl0cnl7ZC5hLmFkZEV2ZW50TGlzdGVuZXIoInRlc3QiLGZ1bmN0aW9uKCl7fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh7fSx7cGFzc2l2ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGE9ITB9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfX0pKX1jYXRjaChyKXt9cmV0dXJuIGF9KCksZz1mdW5jdGlvbihhLGIsCmMsZCxnKXt2b2lkIDA9PT1nJiYoZz17fSk7YSs9IkV2ZW50TGlzdGVuZXIiO2lmKGImJmJbYV0pcmV0dXJuIGw/YlthXShjLGQsZyk6YlthXShjLGQsImJvb2xlYW4iPT09dHlwZW9mIGc/ZzpnLmNhcHR1cmV8fCExKX07YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt9YS5vbj1mdW5jdGlvbihhLGIsYyxkKXt2b2lkIDA9PT1kJiYoZD17fSk7cmV0dXJuIGcoImFkZCIsYSxiLGMsZCl9O2Eub2ZmPWZ1bmN0aW9uKGEsYixjLGQpe3ZvaWQgMD09PWQmJihkPXt9KTtyZXR1cm4gZygicmVtb3ZlIixhLGIsYyxkKX07cmV0dXJuIGF9KCk7Yi5hPWF9LGZ1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oYSl7dmFyIGQ9Yyg5KSxsPWMoMik7Yi5hPWZ1bmN0aW9uKGIpe3ZhciBjPVtdO2lmKCFiKXJldHVybiBjO2lmKGIgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm5bXS5zbGljZS5jYWxsKGIsMCk7aWYobC5PYmplY3RVdGlscy5pc05hdGl2ZShkLmEuQXJyYXkuZnJvbSwiZnJvbSIpKXJldHVybiBkLmEuQXJyYXkuZnJvbShiKTsKdmFyIGc9Imxlbmd0aCJpbiBiP2IubGVuZ3RoOiJzaXplImluIGI/Yi5zaXplOjA7dmFyIGY9Yy5zbGljZS5jYWxsKGIsMCk7aWYoZi5sZW5ndGg9PT1nKXJldHVybiBmO3RyeXtpZihiLmZvckVhY2gpYi5mb3JFYWNoKGZ1bmN0aW9uKGEsYil7dmFyIGU9YTtiJiZhJiZiIT09YSYmKGU9W2IsYV0pO2MucHVzaChlKX0pO2Vsc2UgZm9yKHZhciBwPWJbYS5pdGVyYXRvcl0oKSxoLHE7aD1wLm5leHQoKSxxPWgudmFsdWUsIWguZG9uZTspYy5wdXNoKHEpO3JldHVybiBjfWNhdGNoKGspe3JldHVybltdfX19KS5jYWxsKHRoaXMsYygyNSlbImRlZmF1bHQiXSl9LGZ1bmN0aW9uKGEsYixjKXtjLnIoYik7Yy5kKGIsIkJyb3dzZXJVdGlscyIsZnVuY3Rpb24oKXtyZXR1cm4gbH0pO3ZhciBkPWMoNCksZj1jKDEwKSxsPXtpc01TSUU6ZnVuY3Rpb24oKXt2YXIgYT1kLmEubmF2aWdhdG9yLnVzZXJBZ2VudCxiPWEuaW5kZXhPZigiTVNJRSAiKTtpZigwPGIpcmV0dXJuIHBhcnNlSW50KGEuc3Vic3RyaW5nKGIrCjUsYS5pbmRleE9mKCIuIixiKSksMTApO2lmKDA8YS5pbmRleE9mKCJUcmlkZW50LyIpKXJldHVybiBiPWEuaW5kZXhPZigicnY6IikscGFyc2VJbnQoYS5zdWJzdHJpbmcoYiszLGEuaW5kZXhPZigiLiIsYikpLDEwKTtiPWEuaW5kZXhPZigiRWRnZS8iKTtyZXR1cm4gMDxiP3BhcnNlSW50KGEuc3Vic3RyaW5nKGIrNSxhLmluZGV4T2YoIi4iLGIpKSwxMCk6ITF9LGlzSWZyYW1lOmZ1bmN0aW9uKGEpe3JldHVybiBhLnRvcCE9PWF9LGlzTW9iaWxlOmZ1bmN0aW9uKGEpe2E9YXx8bSYmbS5uYXZpZ2F0b3I/bmF2aWdhdG9yLnVzZXJBZ2VudDpudWxsO2lmKG51bGw9PWEpcmV0dXJuITE7dmFyIGI9ITE7aWYoLyhhbmRyb2lkfGJiXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2kudGVzdChhKXx8Ci8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3LShufHUpfGM1NVwvfGNhcGl8Y2N3YXxjZG0tfGNlbGx8Y2h0bXxjbGRjfGNtZC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGMtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2YtNXxnLW1vfGdvKFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZC0obXxwfHQpfGhlaS18aGkocHR8dGEpfGhwKCBpfGlwKXxocy1jfGh0KGMoLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGktKDIwfGdvfG1hKXxpMjMwfGlhYyggfC18XC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XC8pfGtsb258a3B0IHxrd2MtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcLyhrfGx8dSl8NTB8NTR8LVthLXddKXxsaWJ3fGx5bnh8bTEtd3xtM2dhfG01MFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bS1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dCgtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSktfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3wtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdC1nfHFhLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8LVsyLTddfGktKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoLXxvb3xwLSl8c2RrXC98c2UoYygtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaC18c2hhcnxzaWUoLXxtKXxzay0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGgtfHYtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsLXx0ZGctfHRlbChpfG0pfHRpbS18dC1tb3x0byhwbHxzaCl8dHMoNzB8bS18bTN8bTUpfHR4LTl8dXAoXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118LXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhcy18eW91cnx6ZXRvfHp0ZS0vaS50ZXN0KGEuc3Vic3RyKDAsCjQpKSliPSEwO3JldHVybiBifSxpc0FuZHJvaWQ6ZnVuY3Rpb24oKXtyZXR1cm4vYW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGlzSU9TOmZ1bmN0aW9uKCl7cmV0dXJuL2lwYWR8aXBob25lfGlwb2QvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxvcmllbnRhdGlvbjpmdW5jdGlvbihhKXthPWF8fGQuYTtyZXR1cm4gbnVsbCE9YT9hOihhPWEuc2NyZWVuLm9yaWVudGF0aW9ufHxhLnNjcmVlbi5tb3pPcmllbnRhdGlvbnx8YS5zY3JlZW4ubXNPcmllbnRhdGlvbikmJmEuYW5nbGV8fDB9LGRldmljZVBpeGVsUmF0aW86ZnVuY3Rpb24oKXtyZXR1cm4gZC5hLmRldmljZVBpeGVsUmF0aW98fDF9LG1ldGE6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWVceDNkInltOicrYSsnIl0nKSk/YS5jb250ZW50Om51bGx9LHNjYWxlRmFjdG9yOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5jbGllbnRXaWR0aCxkPWEuY2xpZW50SGVpZ2h0LApnPWIuY2xpZW50V2lkdGgsZj1iLmNsaWVudEhlaWdodDtyZXR1cm4gZz5jfHxmPmQ/KGMvPWcsZC89ZixNYXRoLm1pbigxLE1hdGgubWF4KGM+ZD8uMTouMzUsTWF0aC5taW4oYyxkKSkpKToxfSx2aWV3cG9ydEdldHRlcjpmdW5jdGlvbihhKXthPWF8fG0uZG9jdW1lbnQ7dmFyIGI9YS5kZWZhdWx0VmlldyxjPWZ1bmN0aW9uKGMpey9UcmlkZW50fE1TSUUvLnRlc3QoYi5uYXZpZ2F0b3IudXNlckFnZW50KT9hLmJvZHkucGFyZW50Tm9kZSYmYS5ib2R5LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYyk6YS5ib2R5LmFwcGVuZENoaWxkKGMpfSxkPWEucXVlcnlTZWxlY3RvcigieW0tbWVhc3VyZS55bS12aWV3cG9ydCIpLGc9YS5xdWVyeVNlbGVjdG9yKCJ5bS1tZWFzdXJlLnltLXpvb20iKTtudWxsPT09ZCYmKGQ9Zi5ET01VdGlscy5jcmVhdGVFbGVtZW50KCJ5bS1tZWFzdXJlIix7Y2xhc3NOYW1lOiJ5bS12aWV3cG9ydCIsc3R5bGU6e2Rpc3BsYXk6ImJsb2NrIix0b3A6MCxyaWdodDowLApib3R0b206MCxsZWZ0OjAsaGVpZ2h0OiIxMDB2aCIsd2lkdGg6IjEwMHZ3Iixwb3NpdGlvbjoiZml4ZWQiLHRyYW5zZm9ybToidHJhbnNsYXRlKDAsIC0xMDAlKSIsbXNUcmFuc2Zvcm06InRyYW5zbGF0ZSgwLCAtMTAwJSkiLHdlYmtpdFRyYW5zZm9ybToidHJhbnNsYXRlKDAsIC0xMDAlKSIsdHJhbnNmb3JtT3JpZ2luOiIwIDAiLG1zVHJhbnNmb3JtT3JpZ2luOiIwIDAiLHdlYmtpdFRyYW5zZm9ybU9yaWdpbjoiMCAwIn19KSxjKGQpKTtudWxsPT09ZyYmKGc9Zi5ET01VdGlscy5jcmVhdGVFbGVtZW50KCJ5bS1tZWFzdXJlIix7Y2xhc3NOYW1lOiJ5bS16b29tIixzdHlsZTp7Ym90dG9tOiIxMDAlIixwb3NpdGlvbjoiZml4ZWQiLHdpZHRoOiIxMDB2dyJ9fSksYyhnKSk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHtnZXRTaXplOmZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPTEpO3ZhciBiPWQ7cmV0dXJue3dpZHRoOk1hdGgucm91bmQoYi5jbGllbnRXaWR0aCphKSwKaGVpZ2h0Ok1hdGgucm91bmQoYi5jbGllbnRIZWlnaHQqYSl9fX0se3pvb21MZXZlbDp7Z2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBwYXJzZUZsb2F0KChnLmNsaWVudFdpZHRoL2IuaW5uZXJXaWR0aCkudG9GaXhlZCgzKSl9Y2F0Y2goRil7cmV0dXJuIDF9fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0sc2Nyb2xsaW5nRWxlbWVudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuc2Nyb2xsaW5nRWxlbWVudHx8KGEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodD5hLmJvZHkuc2Nyb2xsSGVpZ2h0JiYwPT09YS5jb21wYXRNb2RlLmluZGV4T2YoIkNTUzEiKT9hLmRvY3VtZW50RWxlbWVudDphLmJvZHkpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0sb3JpZW50YXRpb246e2dldDpmdW5jdGlvbigpe3ZhciBhPWRhP2RhLm9yaWVudGF0aW9ufHxkYS5tb3pPcmllbnRhdGlvbnx8ZGEubXNPcmllbnRhdGlvbjpudWxsO3JldHVybiBhJiZhLmFuZ2xlfHwwfSxjb25maWd1cmFibGU6ITAsCmVudW1lcmFibGU6ITB9fSl9fX0sZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihhKXt2YXIgZD1jKDI3KSxsPWZ1bmN0aW9uKGEsYixjKXthLmZvckVhY2goZnVuY3Rpb24oYSxkKXsyPT09Yi5sZW5ndGg/Yz9iKGEsZCk6YihbYSxkXSk6YihhKX0pfTtiLmE9ZnVuY3Rpb24oYixjKXt2YXIgZz0yPT09Yy5sZW5ndGg7aWYoYiYmYyBpbnN0YW5jZW9mIEZ1bmN0aW9uKWlmKG51bGwhPWJbYS5pdGVyYXRvcl0paWYoZylpZihiIGluc3RhbmNlb2YgQXJyYXkpe2c9MDtmb3IodmFyIGY9Yi5sZW5ndGg7ZzxmO2crKyl7dmFyIG49YyhnLGJbZ10pO2lmKCEwIT09biYmITE9PT1uKWJyZWFrfX1lbHNle2lmKGJbYS5pdGVyYXRvcl0pZm9yKGc9YixmPUFycmF5LmlzQXJyYXkoZyksbj0wLGc9Zj9nOmdbYS5pdGVyYXRvcl0oKTs7KXtpZihmKXtpZihuPj1nLmxlbmd0aClicmVhazt2YXIgaD1nW24rK119ZWxzZXtuPWcubmV4dCgpO2lmKG4uZG9uZSlicmVhaztoPW4udmFsdWV9aD1jKGhbMF0saFsxXSk7CmlmKCEwIT09aCYmITE9PT1oKWJyZWFrfX1lbHNlIGZvcihnPWIsZj1BcnJheS5pc0FycmF5KGcpLG49MCxnPWY/ZzpnW2EuaXRlcmF0b3JdKCk7Oyl7aWYoZil7aWYobj49Zy5sZW5ndGgpYnJlYWs7aD1nW24rK119ZWxzZXtuPWcubmV4dCgpO2lmKG4uZG9uZSlicmVhaztoPW4udmFsdWV9aD1jKGgpO2lmKCEwIT09aCYmITE9PT1oKWJyZWFrfWVsc2UgaWYoImZvckVhY2giaW4gYilsKGIsYyxnKTtlbHNlIGlmKGIgaW5zdGFuY2VvZiBBcnJheSlmb3IoZj1PYmplY3QoZC5hKShiKSxuPTA7bjxmLmxlbmd0aCYmKGg9ZltuXSxoPWc/Yy5hcHBseSh2b2lkIDAsaCk6YyhoKSwhMD09PWh8fCExIT09aCk7bisrKTt9fSkuY2FsbCh0aGlzLGMoMjUpWyJkZWZhdWx0Il0pfSxmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGEsZixsKXtjLmQoYiwiYiIsZnVuY3Rpb24oKXtyZXR1cm4gcX0pO3ZhciBkPWMoMSk7ZD1jLm4oZCk7dmFyIG49YygxNSkscj0iMmQgd2ViZ2wgZXhwZXJpbWVudGFsLXdlYmdsIHdlYmdsMiBleHBlcmltZW50YWwtd2ViZ2wyIGJpdG1hcHJlbmRlcmVyIi5zcGxpdCgiICIpLAp3PWZ1bmN0aW9uKCl7dmFyIGE9dC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTthLnByb3h5PSExO3JldHVybiByLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gbnVsbCE9YS5nZXRDb250ZXh0KGIpfSl9KCkscD1uZXcgYSxoPUhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS5nZXRDb250ZXh0LHE9ZnVuY3Rpb24oYSl7dmFyIGI9dC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtiLndpZHRoPWEud2lkdGg7Yi5oZWlnaHQ9YS5oZWlnaHQ7Yi5wcm94eT0hMTtiLmdldENvbnRleHQoIjJkIikuZHJhd0ltYWdlKGEsMCwwKTtyZXR1cm4gYi50b0RhdGFVUkwoImltYWdlL2pwZWciKX0saz1mdW5jdGlvbihhKXthPWEuY29uc3RydWN0b3I7aWYocC5oYXMoYSkpcmV0dXJuIHAuaGFzKGEpO3ZhciBiPWYuYXBpTW9jayhhKTtwLnNldChhLGIpO3JldHVybiBifTthPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31hLm1vY2s9ZnVuY3Rpb24oKXtpZighdGhpcy5tb2NrZWQpe3RoaXMubW9ja2VkPSEwOwpIVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGUuZ2V0Q29udGV4dD1mdW5jdGlvbihiKXt2YXIgYz1oLmNhbGwodGhpcyxiKTtpZihudWxsIT09YylyZXR1cm4hMSE9PXRoaXMucHJveHkmJjA8PXcuaW5kZXhPZihiKSYmYS51cGRhdGUoYyksY307dmFyIGI9dC5xdWVyeVNlbGVjdG9yQWxsKCJjYW52YXMiKTtmLmZvcm9mKGIsZnVuY3Rpb24oYSl7Zi5mb3JvZihyLGEuZ2V0Q29udGV4dC5iaW5kKGEpKX0pfX07YS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLm1vY2tlZCYmKHRoaXMubW9ja2VkPSExLHRoaXMuZXZlbnRzLm9mZigpLEhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS5nZXRDb250ZXh0PWgpfTthLnVwZGF0ZT1mdW5jdGlvbihiKXtpZighMT09PWEucHJveGllcy5oYXMoYikpe3ZhciBjPXRoaXMsZT1iLmNhbnZhcyxkPU9iamVjdC5nZXRQcm90b3R5cGVPZihiKSxnPWsoYik7Zi5ub2RlSXNSZWNvcmRhYmxlKGUpJiZnLnByb3BlcnRpZXMmJihmLmZvcm9mKGcucHJvcGVydGllcywKZnVuY3Rpb24oYSl7dmFyIGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkLGEpLGs9Zi5jb21iaW5lKGUpO2UuZ2V0JiYoay5nZXQ9ZS5nZXQuYmluZChiKSk7ZS5zZXQmJihrLnNldD1mdW5jdGlvbihkKXtjLnNldHRlckludm9rZWQoYixhLGQpO3JldHVybiBlLnNldC5jYWxsKGIsZCl9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYixhLGspfSksZi5mb3JvZihnLm1ldGhvZHMsZnVuY3Rpb24oYSl7dmFyIGU9YlthXTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYixhLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGQ9YXJndW1lbnRzLmxlbmd0aCxrPUFycmF5KGQpLGc9MDtnPGQ7ZysrKWtbZ109YXJndW1lbnRzW2ddO2MubWV0aG9kSW52b2tlZChiLGEsayk7cmV0dXJuIGUuYmluZC5hcHBseShlLFtiXS5jb25jYXQoaykpfX0pfSkpO2EucHJveGllcy5hZGQoYil9fTthLnNldHRlckludm9rZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXM7CnRoaXMubW9ja2VkJiZJKGZ1bmN0aW9uKCl7ZS5zZW5kKGEsInNldHRlciIse25hbWU6Yix2YWx1ZTpTdHJpbmcoYyl9KX0pfTthLm1ldGhvZEludm9rZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXM7dGhpcy5tb2NrZWQmJkkoZnVuY3Rpb24oKXtjPWMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgSW1hZ2U/cShhKTpTdHJpbmcoYSl9KTtlLnNlbmQoYSwibWV0aG9kIix7bmFtZTpiLGFyZ3M6Y30pfSl9O2Euc2VuZD1mdW5jdGlvbigpe307cmV0dXJuIGF9KCk7ZCgpKGEsInByb3hpZXMiLG5ldyBsKTtkKCkoYSwibW9ja2VkIiwhMSk7ZCgpKGEsImV2ZW50cyIsbmV3IG4uYShbInNldHRlcjptZW1vcnkiLCJtZXRob2Q6bWVtb3J5Il0pKTtiLmE9YX0pLmNhbGwodGhpcyxjKDEyKVsiZGVmYXVsdCJdLGMoNylbImRlZmF1bHQiXSxjKDgpWyJkZWZhdWx0Il0pfSxmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGEpe3ZhciBkPWMoMTQpLGw9Yy5uKGQpO2Q9YygxKTsKdmFyIGc9Yy5uKGQpLG49YygzKTtkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe2coKSh0aGlzLCJleGVjdXRpb25GcmFtZUlkIixudWxsKTtnKCkodGhpcywiam9iRXhlY3V0aW9uU3RhcnRTdGFtcCIsbnVsbCk7dGhpcy5qb2JzPVtdO3RoaXMuaXNSdW5uaW5nPSExfXZhciBjPWIucHJvdG90eXBlO2MucHVzaD1mdW5jdGlvbihhLGIpe3ZhciBjO3ZvaWQgMD09PWImJihiPSExKTsoYz10aGlzLmpvYnMpLnB1c2guYXBwbHkoYyxbXS5jb25jYXQoYSkpO3RoaXMuc3RhcnQoYil9O2Muc3RhcnQ9ZnVuY3Rpb24oYSl7dm9pZCAwPT09YSYmKGE9ITEpO3RoaXMuaXNSdW5uaW5nfHx0aGlzLmV4ZWN1dGVOZXh0Sm9iKGEpfTtjLmV4ZWN1dGVOZXh0Sm9iPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPSExKTt0aGlzLmhhc0pvYnMmJihhP3RoaXMuX2V4ZWN1dGVKb2JzU3luYygpOnRoaXMuX2V4ZWN1dGVKb2JzQXN5bmMoKSl9O2MuX2V4ZWN1dGVKb2JzU3luYz1mdW5jdGlvbigpe2lmKHRoaXMuaGFzSm9icyYmCnRoaXMuaXNSdW5uaW5nKXtmb3IoYS5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmV4ZWN1dGlvbkZyYW1lSWQpO3RoaXMuaGFzSm9iczspdGhpcy5fZXhlY3V0ZUpvYigpO3RoaXMuam9iRXhlY3V0aW9uU3RhcnRTdGFtcD1udWxsO3RoaXMuaXNSdW5uaW5nPSExfX07Yy5fZXhlY3V0ZUpvYnNBc3luYz1mdW5jdGlvbigpe3ZhciBiPXRoaXM7aWYodGhpcy5oYXNKb2JzKXt0aGlzLmlzUnVubmluZz0hMDt2YXIgYzt0aGlzLmV4ZWN1dGlvbkZyYW1lSWQ9YS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtmb3IoO2IuaGFzSm9icyYmKCFiLmpvYkV4ZWN1dGlvblN0YXJ0U3RhbXB8fDE1MD5jKTspYz1iLl9leGVjdXRlSm9iKCFiLmpvYkV4ZWN1dGlvblN0YXJ0U3RhbXApO2Iuam9iRXhlY3V0aW9uU3RhcnRTdGFtcD1udWxsO2IuX2V4ZWN1dGVKb2JzQXN5bmMoKX0pfWVsc2UgdGhpcy5pc1J1bm5pbmc9ITF9O2MuX2V4ZWN1dGVKb2I9ZnVuY3Rpb24oYSl7dm9pZCAwPT09YSYmCihhPSEwKTthJiYodGhpcy5qb2JFeGVjdXRpb25TdGFydFN0YW1wPShuZXcgRGF0ZSkudmFsdWVPZigpKTthPXRoaXMuam9icy5zaGlmdCgpO3RyeXthKCl9Y2F0Y2goRil7blsiZGVmYXVsdCJdLmxvZygiRXJyb3Igb2NjdXJyZWQgd2hlbiBydW5uaW5nIGpvYiIpLG5bImRlZmF1bHQiXS5sb2coRiksblsiZGVmYXVsdCJdLmxvZyhhLnRvU3RyaW5nKCkpfXJldHVybihuZXcgRGF0ZSkudmFsdWVPZigpLXRoaXMuam9iRXhlY3V0aW9uU3RhcnRTdGFtcH07bCgpKGIsW3trZXk6Imhhc0pvYnMiLGdldDpmdW5jdGlvbigpe3JldHVybiAwPHRoaXMuam9icy5sZW5ndGh9fV0pO3JldHVybiBifSgpO2IuYT1kfSkuY2FsbCh0aGlzLGMoNylbImRlZmF1bHQiXSl9LGZ1bmN0aW9uKGEsYil7YS5leHBvcnRzPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YSlyZXR1cm57fTt2YXIgYz17fSxkPU9iamVjdC5rZXlzKGEpLGc7Zm9yKGc9MDtnPGQubGVuZ3RoO2crKyl7dmFyIG49ZFtnXTswPD1iLmluZGV4T2Yobil8fAooY1tuXT1hW25dKX1yZXR1cm4gY319LGZ1bmN0aW9uKGEsYixjKXtjLmQoYiwiYSIsZnVuY3Rpb24oKXtyZXR1cm4gZH0pO2MuZChiLCJiIixmdW5jdGlvbigpe3JldHVybiBmfSk7dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dGhpcy5tPVtdfXZhciBiPWEucHJvdG90eXBlO2IudXNlPWZ1bmN0aW9uKGEpe3RoaXMubS5wdXNoKGEpfTtiLnVzZVJpZ2h0PWZ1bmN0aW9uKGEpe3RoaXMubS51bnNoaWZ0KGEpfTtiLnJ1bj1mdW5jdGlvbihhLGIpe3RoaXMuX2V4ZWN1dGUoYSxiKX07Yi5fZXhlY3V0ZT1mdW5jdGlvbihhLGIpe3RoaXMubS5yZWR1Y2VSaWdodChmdW5jdGlvbihiLGMpe3JldHVybiBmdW5jdGlvbihkKXtyZXR1cm4gYyhkfHxhLGIpfX0sZnVuY3Rpb24oYyl7cmV0dXJuIGIoY3x8YSl9KShhKX07cmV0dXJuIGF9KCksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLm09W119dmFyIGI9YS5wcm90b3R5cGU7Yi51c2U9ZnVuY3Rpb24oYSl7dGhpcy5tLnB1c2goYSl9OwpiLnVzZVJpZ2h0PWZ1bmN0aW9uKGEpe3RoaXMubS51bnNoaWZ0KGEpfTtiLnJ1bj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9leGVjdXRlKGEsYil9O2IuX2V4ZWN1dGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz10aGlzLm0ubGVuZ3RoO2I8YztiKyspe3ZhciBkPXRoaXMubVtiXShhKTtpZihkPT09QSlicmVhazthPWR9cmV0dXJuIGF9O3JldHVybiBhfSgpfSxmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYSxjLGQsZix3LHAsaCl7dHJ5e3ZhciBnPWFbcF0oaCksaz1nLnZhbHVlfWNhdGNoKGUpe2QoZSk7cmV0dXJufWcuZG9uZT9jKGspOmIucmVzb2x2ZShrKS50aGVuKGYsdyl9YS5leHBvcnRzPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBkPXRoaXMsZj1hcmd1bWVudHM7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKGIsZyl7ZnVuY3Rpb24gbChhKXtjKHEsYixnLGwsbiwibmV4dCIsYSl9ZnVuY3Rpb24gbihhKXtjKHEsYixnLGwsbiwKInRocm93IixhKX12YXIgcT1hLmFwcGx5KGQsZik7bChBKX0pfX19KS5jYWxsKHRoaXMsYygyMikuUHJvbWlzZSl9LGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jKDc2KSgpO2EuZXhwb3J0cz1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PWQmJm51bGwhPT1hfX0sZnVuY3Rpb24oYSxiLGMpe2MucihiKTtjLmQoYiwiRG9jdW1lbnRVdGlscyIsZnVuY3Rpb24oKXtyZXR1cm4gZn0pO3ZhciBkPWZ1bmN0aW9uKGEpe3JldHVybiBhPyJJRlJBTUUiPT09YS5ub2RlTmFtZT9hLmNvbnRlbnREb2N1bWVudDphOm51bGx9LGY9e29wZW46ZnVuY3Rpb24oYSl7KGE9ZChhKSkmJmEub3BlbigpfSx3cml0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWQoYSk7YyYmYy53cml0ZShiKX0sY2xvc2U6ZnVuY3Rpb24oYSl7KGE9ZChhKSkmJmEuY2xvc2UoKX0saW5pdERvY3VtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXZvaWQgMD09PWE/e306YTthPWIuaHRtbDt2YXIgYz1iLmRvY3R5cGU7Yj1iLmRvY3x8dC5jbG9uZU5vZGUoITEpOwp0aGlzLm9wZW4oYik7dGhpcy53cml0ZShiLGF8fGMrIlx4M2NodG1sXHgzZVx4M2NoZWFkXHgzZVx4M2MvaGVhZFx4M2VceDNjYm9keVx4M2VceDNjL2JvZHlceDNlXHgzYy9odG1sXHgzZSIpO3RoaXMuY2xvc2UoYik7cmV0dXJuIGJ9fX0sZnVuY3Rpb24oYSxiLGMpe2MucihiKTtjLmQoYiwiVGltZVV0aWxzIixmdW5jdGlvbigpe3JldHVybiBmfSk7YT1jKDQxKTt2YXIgZD1jKDE5KSxmPXtub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sZm9ybWF0VGltZTpmdW5jdGlvbihhLGIpe3ZvaWQgMD09PWImJihiPSEwKTthPU51bWJlcihhKTtyZXR1cm5bTWF0aC5mbG9vcihhLzM2MDApLE1hdGguZmxvb3IoYS82MCU2MCksTWF0aC5mbG9vcihhJTYwKV0uZmlsdGVyKGZ1bmN0aW9uKGEsYil7cmV0dXJuISgwPT09YSYmMD09PWIpfSkubWFwKGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGQuU3RyaW5nVXRpbHMucGFkKGEsMCE9PWN8fGI/MjowLCIwIil9KX0sZm9ybWF0dGVkVGltZTpmdW5jdGlvbihhLApiLGMpe3ZvaWQgMD09PWImJihiPVsic2VjIiwibWluIiwiaG91cnMiXSk7dm9pZCAwPT09YyYmKGM9ITApO3ZhciBkPWYuZm9ybWF0VGltZShhLGMpLnJldmVyc2UoKTtyZXR1cm4gYi5yZWR1Y2UoZnVuY3Rpb24oYSxiLGMpe2RbY10mJnBhcnNlSW50KGRbY10sMTApJiZhLnB1c2gocGFyc2VJbnQoZFtjXSwxMCkrIiAiK2IpO3JldHVybiBhfSxbXSkucmV2ZXJzZSgpLmpvaW4oIiAiKX0sdGltZXI6YS5hfX0sZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dGhyb3cgRXJyb3IoInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKTt9ZnVuY3Rpb24gZCgpe3Rocm93IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKTt9ZnVuY3Rpb24gZihhKXtpZihoPT09SSlyZXR1cm4gSShhLDApO2lmKChoPT09Y3x8IWgpJiZJKXJldHVybiBoPUksSShhLDApO3RyeXtyZXR1cm4gaChhLDApfWNhdGNoKFope3RyeXtyZXR1cm4gaC5jYWxsKG51bGwsYSwwKX1jYXRjaChVYSl7cmV0dXJuIGguY2FsbCh0aGlzLAphLDApfX19ZnVuY3Rpb24gbChhKXtpZihxPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoYSk7aWYoKHE9PT1kfHwhcSkmJmNsZWFyVGltZW91dClyZXR1cm4gcT1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGEpO3RyeXtyZXR1cm4gcShhKX1jYXRjaChaKXt0cnl7cmV0dXJuIHEuY2FsbChudWxsLGEpfWNhdGNoKFVhKXtyZXR1cm4gcS5jYWxsKHRoaXMsYSl9fX1mdW5jdGlvbiBnKCl7ZSYmQiYmKGU9ITEsQi5sZW5ndGg/az1CLmNvbmNhdChrKTpIPS0xLGsubGVuZ3RoJiZuKCkpfWZ1bmN0aW9uIG4oKXtpZighZSl7dmFyIGE9ZihnKTtlPSEwO2Zvcih2YXIgYj1rLmxlbmd0aDtiOyl7Qj1rO2ZvcihrPVtdOysrSDxiOylCJiZCW0hdLnJ1bigpO0g9LTE7Yj1rLmxlbmd0aH1CPW51bGw7ZT0hMTtsKGEpfX1mdW5jdGlvbiByKGEsYil7dGhpcy5mdW49YTt0aGlzLmFycmF5PWJ9ZnVuY3Rpb24gdygpe312YXIgcD1hLmV4cG9ydHM9e307dHJ5e3ZhciBoPSJmdW5jdGlvbiI9PT0KdHlwZW9mIEk/STpjfWNhdGNoKHope2g9Y310cnl7dmFyIHE9ImZ1bmN0aW9uIj09PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OmR9Y2F0Y2goeil7cT1kfXZhciBrPVtdLGU9ITEsQixIPS0xO3AubmV4dFRpY2s9ZnVuY3Rpb24oYSl7dmFyIGI9QXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZigxPGFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyliW2MtMV09YXJndW1lbnRzW2NdO2sucHVzaChuZXcgcihhLGIpKTsxIT09ay5sZW5ndGh8fGV8fGYobil9O3IucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9O3AudGl0bGU9ImJyb3dzZXIiO3AuYnJvd3Nlcj0hMDtwLmVudj17fTtwLmFyZ3Y9W107cC52ZXJzaW9uPSIiO3AudmVyc2lvbnM9e307cC5vbj13O3AuYWRkTGlzdGVuZXI9dztwLm9uY2U9dztwLm9mZj13O3AucmVtb3ZlTGlzdGVuZXI9dztwLnJlbW92ZUFsbExpc3RlbmVycz0KdztwLmVtaXQ9dztwLnByZXBlbmRMaXN0ZW5lcj13O3AucHJlcGVuZE9uY2VMaXN0ZW5lcj13O3AubGlzdGVuZXJzPWZ1bmN0aW9uKGEpe3JldHVybltdfTtwLmJpbmRpbmc9ZnVuY3Rpb24oYSl7dGhyb3cgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIik7fTtwLmN3ZD1mdW5jdGlvbigpe3JldHVybiIvIn07cC5jaGRpcj1mdW5jdGlvbihhKXt0aHJvdyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIik7fTtwLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe2lmKCJ1bmRlZmluZWQiPT09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdHx8UmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLApbXSxmdW5jdGlvbigpe30pKSwhMH1jYXRjaChnKXtyZXR1cm4hMX19ZnVuY3Rpb24gZihiLGMscil7ZCgpP2EuZXhwb3J0cz1mPVJlZmxlY3QuY29uc3RydWN0OmEuZXhwb3J0cz1mPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bbnVsbF07ZC5wdXNoLmFwcGx5KGQsYik7YT1uZXcgKEZ1bmN0aW9uLmJpbmQuYXBwbHkoYSxkKSk7YyYmbChhLGMucHJvdG90eXBlKTtyZXR1cm4gYX07cmV0dXJuIGYuYXBwbHkobnVsbCxhcmd1bWVudHMpfXZhciBsPWMoODYpO2EuZXhwb3J0cz1mfSxmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGEpe3ZhciBkPWMoMzYpLGw9YygyKSxnPWMoMjApO2IuYT1mdW5jdGlvbihiKXt2YXIgYz1sLk9iamVjdFV0aWxzLmFzc2lnbih7dXJsOiIiLGhlYWRlcnM6e30sbWV0aG9kOiJnZXQiLHR5cGU6Impzb24iLGRhdGE6bnVsbH0sYik7aWYoYi5oZWFkZXJzPT09QXx8Yi5oZWFkZXJzWyJDb250ZW50LVR5cGUiXT09PUEpYy5oZWFkZXJzPWMuaGVhZGVyc3x8e30sYy5oZWFkZXJzWyJDb250ZW50LVR5cGUiXT0KZnVuY3Rpb24oKXtzd2l0Y2goYy50eXBlKXtjYXNlICJqc29uIjpyZXR1cm4iYXBwbGljYXRpb24vanNvbiI7Y2FzZSAiY3NzIjpyZXR1cm4idGV4dC9jc3MiO2Nhc2UgImh0bWwiOnJldHVybiJ0ZXh0L2h0bWwiO2RlZmF1bHQ6cmV0dXJuInRleHQvcGxhaW4ifX0oKTtyZXR1cm4obmV3IGEoZnVuY3Rpb24oYSxiKXt2YXIgZj1uZXcgWE1MSHR0cFJlcXVlc3QsbD1uZXcgRmlsZVJlYWRlcjsiY3NzIj09PWMudHlwZSYmKGYucmVzcG9uc2VUeXBlPSJibG9iIik7Zi5hZGRFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIixmdW5jdGlvbigpe3ZhciBrPWYuc3RhdHVzOzQ9PT1mLnJlYWR5U3RhdGUmJigyMDA8PWsmJjMwMT5rPyJjc3MiPT09Yy50eXBlPyhrPSgoZi5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIil8fCIiKS5zcGxpdCgiOyAiKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3BsaXQoIlx4M2QiKX0pLmZpbmQoZnVuY3Rpb24oYSl7cmV0dXJuImNoYXJzZXQiPT09CmFbMF19KXx8WyJjaGFyc2V0IiwiVVRGLTgiXSlbMV0sbC5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbihiKXthKHtyZXN1bHQ6bC5yZXN1bHR9KX0pLGwucmVhZEFzVGV4dChmLnJlc3BvbnNlLGspKTooaz1mdW5jdGlvbihhKXtzd2l0Y2goYy50eXBlKXtjYXNlICJqc29uIjpyZXR1cm4gSlNPTi5wYXJzZShhKTtjYXNlICJodG1sIjpyZXR1cm4gZC5Eb2N1bWVudFV0aWxzLmluaXREb2N1bWVudCh7aHRtbDphfSk7ZGVmYXVsdDpyZXR1cm4gYX19KGYucmVzcG9uc2VUZXh0KSxhKHtyZXN1bHQ6a30pKTpiKEVycm9yKGsrIiAiK2Yuc3RhdHVzVGV4dCkpKX0pO2YuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGIpO2Yub3BlbihjLm1ldGhvZC50b1VwcGVyQ2FzZSgpLGMudXJsKTtPYmplY3QoZy5hKShjLmhlYWRlcnMsZnVuY3Rpb24oYSxiKXtmLnNldFJlcXVlc3RIZWFkZXIoYSxiKX0pO2Yuc2VuZChjLmRhdGE/SlNPTi5zdHJpbmdpZnkoYy5kYXRhKTpBKX0pKVsiY2F0Y2giXShmdW5jdGlvbihhKXtyZXR1cm57fX0pfX0pLmNhbGwodGhpcywKYygyMikuUHJvbWlzZSl9LGZ1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oYSxjKXt2YXIgZD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIG0pcmV0dXJuIG07aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgZ2xvYmFsKXJldHVybiBnbG9iYWw7aWYoInVuZGVmaW5lZCIhPT10eXBlb2Ygc2VsZilyZXR1cm4gc2VsZn0oKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCl9LGY9ZnVuY3Rpb24oYil7cmV0dXJuIGI/KGI9dGhpcy5fZ2V0VGltZSgpLWIsMD5iJiZhLndhcm4oIkludmFsaWQgc3RhbXA6ICIrYiksYik6MH0scj1mdW5jdGlvbihhLGIpe3ZhciBjOyhjPWQuY29uc29sZSkubG9nLmFwcGx5KGMsYS5jb25jYXQoW2IrIm1zIl0pKX07Yi5hPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPXt9KTt2YXIgYj1hLmdldFN0YW1wfHxmLGM9YS5wcmludExvZ3x8cixkPXtzdGFydDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2dldFRpbWUoKTt0aGlzLl9pbml0aWFsaXplZEF0PQp0aGlzLl9pbml0aWFsaXplZEF0fHxhO3RoaXMuX3N0YXJ0ZWRBdD1hO3JldHVybiBkfSxzdGFtcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRTdGFtcCh0aGlzLl9zdGFydGVkQXQpfSxzdGFtcFNpbmNlQ3JlYXRlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRTdGFtcCh0aGlzLl9pbml0aWFsaXplZEF0KX0scmVzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydCgpfSxsb2c6ZnVuY3Rpb24oKXtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCxiPUFycmF5KGEpLGQ9MDtkPGE7ZCsrKWJbZF09YXJndW1lbnRzW2RdO2MoYix0aGlzLnN0YW1wKCkpO3JldHVybiB0aGlzfSxsb2dTaW5jZUNyZWF0ZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCxiPUFycmF5KGEpLGQ9MDtkPGE7ZCsrKWJbZF09YXJndW1lbnRzW2RdO2MoYix0aGlzLnN0YW1wU2luY2VDcmVhdGVkKCkpO3JldHVybiB0aGlzfX07T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZCx7X2dldFRpbWU6e3ZhbHVlOihhLmdldFRpbWV8fApnKS5iaW5kKGQpfSxfZ2V0U3RhbXA6e3ZhbHVlOmIuYmluZChkKX19KTtyZXR1cm4gZH19KS5jYWxsKHRoaXMsYygzKVsiZGVmYXVsdCJdLGMoMzgpKX0sZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihhLGYpe3ZhciBkPWMoNSksZz1jLm4oZCksbj1jKDE3KTtiLmE9ZnVuY3Rpb24oKXt2YXIgYj1uZXcgYSxjPXtpbnB1dDp7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSxjaGFuZ2U6e2NhcHR1cmU6ITB9LGtleXVwOntjYXB0dXJlOiEwfSxwYXN0ZTp7Y2FwdHVyZTohMH0sY3V0OntjYXB0dXJlOiEwfX07cmV0dXJue2lucHV0czp7fSxldmVudHM6e30sY3JlYXRlOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXM7dGhpcy5oYW5kbGVJbnB1dFZhbHVlQ2hhbmdlPXRoaXMuaGFuZGxlSW5wdXRWYWx1ZUNoYW5nZS5iaW5kKHRoaXMpO3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2VWYWx1ZUV2ZW50PXRoaXMuaGFuZGxlSW5wdXRDaGFuZ2VWYWx1ZUV2ZW50LmJpbmQodGhpcyk7dGhpcy5oYW5kbGVOb2RlSW5kZXg9CnRoaXMuaGFuZGxlTm9kZUluZGV4LmJpbmQodGhpcyk7dGhpcy5oYW5kbGVOb2RlUmVtb3ZhbD10aGlzLmhhbmRsZU5vZGVSZW1vdmFsLmJpbmQodGhpcyk7dGhpcy5yZWNvcmRlcj1hO3RoaXMuY2hlY2tJbnB1ZERlc2NyaXB0b3JPdmVycmlkZUFiaWxpdHkoYSkmJihhLmluZGV4ZXIuZG9tLmZvckVhY2goZnVuY3Rpb24oYSl7ZC5oYW5kbGVOb2RlSW5kZXgoYSl9KSxhLmluZGV4ZXIub24oImFkZCIsdGhpcy5oYW5kbGVOb2RlSW5kZXgpLGEuaW5kZXhlci5vbigicmVtb3ZlIix0aGlzLmhhbmRsZU5vZGVSZW1vdmFsKSk7Zi5mb3JpbihjLGZ1bmN0aW9uKGcpe2IuYWRkKGEuYXR0YWNoRXZlbnQoYS5kb2N1bWVudCxnLGQuaGFuZGxlSW5wdXRDaGFuZ2VWYWx1ZUV2ZW50LGNbZ10pKX0pfSxoYW5kbGVOb2RlSW5kZXg6ZnVuY3Rpb24oYSl7aWYobi5hLmlzVmFsaWROb2RlKGEubmF0aXZlTm9kZSkmJiJfX3ltX2lucHV0X292ZXJyaWRlX3Rlc3QiIT09YS5uYXRpdmVOb2RlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKSl7dmFyIGI9CmEubmF0aXZlTm9kZSxjPWEuaWQsZD0icmFkaW8iPT09YS5hdHRyaWJ1dGVzLnR5cGV8fCJjaGVja2JveCI9PT1hLmF0dHJpYnV0ZXMudHlwZTthPXRoaXMuZ2V0UHJvcGVydHlOYW1lKGQpO3RoaXMuaW5wdXRzW2NdPXtjaGVja2FibGU6ZCx2YWx1ZTpiW2FdfTtkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LmdldFByb3RvdHlwZU9mKGIpLGEpfHx7fTt2YXIgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYSl8fHt9LEI9ZygpKHt9LGQsZSk7aWYoZi5pc05hdGl2ZShCLnNldCwiKChzZXQpPyhcXHM/IithKyIpPyk/Iikpe3ZhciBsPXRoaXM7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLGEsZygpKHt9LEIse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztsLnJlY29yZGVyLmVycm9yTG9nZ2VyKGZ1bmN0aW9uKCl7bC5oYW5kbGVJbnB1dFZhbHVlQ2hhbmdlKGMsYSxiKX0sImlucFZDIik7cmV0dXJuIEIuc2V0LmNhbGwodGhpcywKYSl9fSkpfWNhdGNoKHope2RlbGV0ZSB0aGlzLmlucHV0c1tjXX19fX0saGFuZGxlSW5wdXRDaGFuZ2VWYWx1ZUV2ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5yZWNvcmRlci5lcnJvckxvZ2dlcihmdW5jdGlvbigpe3ZhciBjPWEudGFyZ2V0LGQ9Yi5yZWNvcmRlci5pbmRleGVyLmdldChjKTtpZihkKXt2YXIgZT1kLmlkO2lmKCFiLmlucHV0c1tlXSYmKGIuaGFuZGxlTm9kZUluZGV4KGQpLCFiLmlucHV0c1tlXSkpcmV0dXJuO2Q9Yi5nZXRQcm9wZXJ0eU5hbWUoYi5pbnB1dHNbZV0uY2hlY2thYmxlKTtiLmhhbmRsZUlucHV0VmFsdWVDaGFuZ2UoZSxjW2RdLGMpfX0sImlucENoViIpfSxoYW5kbGVJbnB1dFZhbHVlQ2hhbmdlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmlucHV0c1thXSxlPWQuY2hlY2thYmxlO2Q9ZC52YWx1ZTtpZigoIWJ8fC0xIT09WyJzdHJpbmciLCJib29sZWFuIiwibnVtYmVyIl0uaW5kZXhPZih0eXBlb2YgYikpJiZiIT09ZCl7aWYoZSljPQp0aGlzLnJlY29yZGVyLl9nZXRFdmVudE9iamVjdCgiY2hhbmdlIixhLHtjaGVja2VkOiEhYn0pO2Vsc2V7dmFyIGc9bi5hLnZhbGlkYXRlKGMsdGhpcy5yZWNvcmRlci5vcHRpb25zKTtkPWcuZm9yY2VSZWNvcmQ7dmFyIGY9Zy5pc1ByaXZhdGU7Zz1nLmlzQWxsb3dlZHx8ZD9iOm4uYS5lbmNvZGUoYik7Yz10aGlzLnJlY29yZGVyLl9nZXRFdmVudE9iamVjdCgiY2hhbmdlIixjLHt2YWx1ZTpnLGhpZGRlbjpmJiYhZH0pfXRoaXMuaW5wdXRzW2FdPXtjaGVja2FibGU6ZSx2YWx1ZTpifTt0aGlzLnJlY29yZGVyLl9wdWJsaXNoQWN0aW9ucyhjKX19LGhhbmRsZU5vZGVSZW1vdmFsOmZ1bmN0aW9uKGEpe2EubmF0aXZlTm9kZSYmIl9feW1faW5wdXRfb3ZlcnJpZGVfdGVzdCI9PT1hLm5hdGl2ZU5vZGUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHxkZWxldGUgdGhpcy5pbnB1dHNbYS5pZF19LGdldFByb3BlcnR5TmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gYT8iY2hlY2tlZCI6InZhbHVlIn0sCmNoZWNrSW5wdWREZXNjcmlwdG9yT3ZlcnJpZGVBYmlsaXR5OmZ1bmN0aW9uKGEpe3ZhciBiPSEwO3RyeXt2YXIgYz1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yy52YWx1ZT0iSU5QVVRfVkFMVUUiO2Muc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIiwiaW1wb3J0YW50Iik7Yy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0Iik7Yy5zZXRBdHRyaWJ1dGUoImNsYXNzIiwiX195bV9pbnB1dF9vdmVycmlkZV90ZXN0Iik7YS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYyk7dmFyIGQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QuZ2V0UHJvdG90eXBlT2YoYyksInZhbHVlIil8fHt9LGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjLCJ2YWx1ZSIpfHx7fSxmPWcoKSh7fSxkLGUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLCJ2YWx1ZSIsZygpKHt9LGYse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYuc2V0LmNhbGwoYywKYSl9fSkpOyJJTlBVVF9WQUxVRSIhPT1jLnZhbHVlJiYoYj0hMSk7Yy52YWx1ZT0iSU5QVVRfVEVTVCI7IklOUFVUX1RFU1QiIT09Yy52YWx1ZSYmKGI9ITEpfWNhdGNoKEgpe2I9ITF9YyYmYS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoYyk7cmV0dXJuIGJ9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztPYmplY3Qua2V5cyh0aGlzLmlucHV0cykuZm9yRWFjaChmdW5jdGlvbihjKXt2YXIgZD1hLmluZGV4ZXIuZmluZEJ5SUQoYyk7aWYoZCl7Yz1iLmdldFByb3BlcnR5TmFtZShiLmlucHV0c1tjXS5jaGVja2FibGUpO3ZhciBlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LmdldFByb3RvdHlwZU9mKGQpLGMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLGMsZSl9fSk7T2JqZWN0LmtleXModGhpcy5ldmVudHMpLmZvckVhY2goZnVuY3Rpb24oYyl7YS5yZW1vdmVFdmVudChiLmV2ZW50c1tjXSl9KTthLmluZGV4ZXIub2ZmKCJhZGQiLAp0aGlzLmhhbmRsZU5vZGVJbmRleCk7YS5pbmRleGVyLm9mZigicmVtb3ZlIix0aGlzLmhhbmRsZU5vZGVSZW1vdmFsKX19fX0pLmNhbGwodGhpcyxjKDgpWyJkZWZhdWx0Il0sYyg3KVsiZGVmYXVsdCJdKX0sZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihhLGYpe3ZhciBkPWMoMjEpO2IuYT1mdW5jdGlvbigpe3ZhciBiPXttb3VzZW1vdmU6e2NhcHR1cmU6ITAscGFzc2l2ZTohMCxsYXp5OjV9LG1vdXNlZG93bjp7Y2FwdHVyZTohMH0sbW91c2V1cDp7Y2FwdHVyZTohMH0sY2xpY2s6e2NhcHR1cmU6ITB9fSxjPW5ldyBhLGw9ZnVuY3Rpb24oYSl7dmFyIGI9YS5vYmplY3Q7YT1hLmFyZ3NbMF07dmFyIGM9Yi50eXBlLGU9Yi50YXJnZXQsZD1iLmNsaWVudFg7ZD12b2lkIDA9PT1kP251bGw6ZDtiPWIuY2xpZW50WTtiPXZvaWQgMD09PWI/bnVsbDpiO2U9dGhpcy5kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGQsYil8fGU7YT10aGlzLl9nZXRFdmVudE9iamVjdChjLGUse3g6ZCx5OmJ9LAphKTt0aGlzLl9wdWJsaXNoQWN0aW9ucyhhKX0sdz1kLmEuY3JlYXRlKGwse3RpbWVvdXQ6MH0pLHA9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zdGFtcDsibW91c2Vtb3ZlIj09PWEudHlwZT93LmNhbGwodGhpcyxhLGIpOmwuY2FsbCh0aGlzLHtvYmplY3Q6YSxhcmdzOltiXX0pfTtyZXR1cm57Y3JlYXRlOmZ1bmN0aW9uKGEpe3ZhciBkPWEuX3VuaXZlcnNhbEhhbmRsZXIocCk7Zi5mb3JpbihiLGZ1bmN0aW9uKGspe2MuYWRkKGEuYXR0YWNoRXZlbnQoYS5kb2N1bWVudCxrLGQsYltrXSkpfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7Zi5mb3JvZihjLGZ1bmN0aW9uKGIpe3JldHVybiBhLnJlbW92ZUV2ZW50KGIpfSk7Yy5jbGVhcigpfX19fSkuY2FsbCh0aGlzLGMoOClbImRlZmF1bHQiXSxjKDcpWyJkZWZhdWx0Il0pfSxmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGEsYyl7Yi5hPWZ1bmN0aW9uKCl7dmFyIGI9e2ZvY3VzOntjYXB0dXJlOiEwfSxibHVyOntjYXB0dXJlOiEwfX0sZD0KbmV3IGEsZj1mdW5jdGlvbihhKXthPXRoaXMuX2dldEV2ZW50T2JqZWN0KGEudHlwZSxhLnRhcmdldCk7dGhpcy5fcHVibGlzaEFjdGlvbnMoYSl9O3JldHVybntjcmVhdGU6ZnVuY3Rpb24oYSl7dmFyIGc9YS5fdW5pdmVyc2FsSGFuZGxlcihmKTtjLmZvcmluKGIsZnVuY3Rpb24oYyl7ZC5hZGQoYS5hdHRhY2hFdmVudChhLmRvY3VtZW50LGMsZyxiW2NdKSl9KX0sZGVzdHJveTpmdW5jdGlvbihhKXtjLmZvcm9mKGQsZnVuY3Rpb24oYil7cmV0dXJuIGEucmVtb3ZlRXZlbnQoYil9KTtkLmNsZWFyKCl9fX19KS5jYWxsKHRoaXMsYyg4KVsiZGVmYXVsdCJdLGMoNylbImRlZmF1bHQiXSl9LGZ1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oYSl7Yi5hPWZ1bmN0aW9uKCl7dmFyIGIsYz1mdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMsZz1hLm5vdygpO3RoaXMuX2Jsb2NrVXBjb21pbmdDYXB0b3IoInJlc2l6ZSIpO3RoaXMuX2V4ZWN1dGVDYXB0b3IoImRldmljZVJvdGF0aW9uIixmdW5jdGlvbigpe0koZnVuY3Rpb24oKXt2YXIgZj0KYS5ub3coKS1nO2QuX3B1Ymxpc2hBY3Rpb25zKGMuZ2V0VmFsdWUuY2FsbChkLGIsZikpfSwzMDApfSl9O3JldHVybntnZXRWYWx1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMudmlld3BvcnQuZ2V0U2l6ZSgxKTtjPXRoaXMuX2dldEV2ZW50T2JqZWN0KCJkZXZpY2VSb3RhdGlvbiIsMCx7d2lkdGg6Yy53aWR0aCxoZWlnaHQ6Yy5oZWlnaHQsb3JpZW50YXRpb246dGhpcy52aWV3cG9ydC5vcmllbnRhdGlvbn0pO2Muc3RhbXAtPWI7cmV0dXJuIGN9LGNyZWF0ZTpmdW5jdGlvbihhKXtiPWEuYXR0YWNoRXZlbnQoYS53aW5kb3csIm9yaWVudGF0aW9uY2hhbmdlIixhLl91bml2ZXJzYWxIYW5kbGVyKGMse2V4dHJhOlt0aGlzXX0pLHtwYXNzaXZlOiEwfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7YS5yZW1vdmVFdmVudChiKX19fX0pLmNhbGwodGhpcyxjKDcpWyJkZWZhdWx0Il0pfSxmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGEsZil7dmFyIGQ9YygyMSk7Yi5hPWZ1bmN0aW9uKCl7dmFyIGIsCmM9bmV3IGEsbD1mdW5jdGlvbihhKXt2YXIgYj1hLmFyZ3NbMF0sYz10aGlzLnZpZXdwb3J0LnNjcm9sbGluZ0VsZW1lbnQ7YT1hLm9iamVjdC50YXJnZXQ7dmFyIGQ9dGhpcy5kb2N1bWVudCxlPXRoaXMud2luZG93LGc9Zi5nZXRTY3JvbGwoYSk7Yj10aGlzLl9nZXRFdmVudE9iamVjdCgic2Nyb2xsIixhLHt4Ok1hdGgubWF4KGcubGVmdCwwKSx5Ok1hdGgubWF4KGcudG9wLDApLHBhZ2U6YT09PWN8fGE9PT1lfHxhPT09ZHx8YT09PWQuYm9keX0sYik7dGhpcy5fcHVibGlzaEFjdGlvbnMoYil9LHc9ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7aWYoYy5oYXMoYikpYj1jLmdldChiKTtlbHNle3ZhciBnPWQuYS5jcmVhdGUobCx7dGltZW91dDpmLmlzQW5kcm9pZCgpPzA6MTAwLGltbWVkaWF0ZUZpcnN0UnVuOiEwfSk7Yy5zZXQoYixnKTtiPWd9Yi5jYWxsKHRoaXMsYSl9O3JldHVybntjcmVhdGU6ZnVuY3Rpb24oYSl7dmFyIGM9YS5fdW5pdmVyc2FsSGFuZGxlcih3KTtiPWEuYXR0YWNoRXZlbnQoYS5kb2N1bWVudCwKInNjcm9sbCIsYy5iaW5kKGEpLHtjYXB0dXJlOiEwLHBhc3NpdmU6ITB9KX0sZGVzdHJveTpmdW5jdGlvbihhKXthLnJlbW92ZUV2ZW50KGIpO2MuY2xlYXIoKX19fX0pLmNhbGwodGhpcyxjKDEyKVsiZGVmYXVsdCJdLGMoNylbImRlZmF1bHQiXSl9LGZ1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oYSxjKXtiLmE9ZnVuY3Rpb24oKXt2YXIgYj17bW91c2Vtb3ZlOntjYXB0dXJlOiEwLHBhc3NpdmU6ITAsbGF6eTo1fSx0b3VjaG1vdmU6e2NhcHR1cmU6ITAscGFzc2l2ZTohMCxsYXp5OjV9LG1vdXNlZG93bjp7Y2FwdHVyZTohMH0sdG91Y2hkb3duOntjYXB0dXJlOiEwfX0sZD1uZXcgYSxmPSExLHI9ZnVuY3Rpb24oYSl7dmFyIGI9InNlbGVjdCI9PT1hLnR5cGU/dGhpcy5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uRm9yKGEudGFyZ2V0KTp0aGlzLnNlbGVjdGlvbi5nZXRQYWdlU2VsZWN0aW9uKCk7YiYmYi5zdGFydCE9PWIuZW5kJiYtMSE9PVsibW91c2Vtb3ZlIiwidG91Y2htb3ZlIiwidG91Y2hkb3duIl0uaW5kZXhPZihhLnR5cGUpPwooZj0hMCxhPXRoaXMuX2dldEV2ZW50T2JqZWN0KCJzZWxlY3Rpb24iLCJzZWxlY3QiPT09YS50eXBlP2EudGFyZ2V0OnRoaXMucm9vdE5vZGUsYiksdGhpcy5fcHVibGlzaEFjdGlvbnMoYSkpOmYmJi0xIT09WyJtb3VzZWRvd24iLCJ0b3VjaG1vdmUiLCJ0b3VjaGRvd24iXS5pbmRleE9mKGEudHlwZSkmJihmPSExLGE9dGhpcy5fZ2V0RXZlbnRPYmplY3QoInNlbGVjdGlvbiIsbnVsbCx7c3RhcnQ6MCxlbmQ6MH0pLHRoaXMuX3B1Ymxpc2hBY3Rpb25zKGEpKX07cmV0dXJue2NyZWF0ZTpmdW5jdGlvbihhKXt2YXIgZj1hLl91bml2ZXJzYWxIYW5kbGVyKGZ1bmN0aW9uKGIpeygibW91c2Vtb3ZlIj09PWIudHlwZSYmMT09PWIud2hpY2h8fC0xIT09WyJtb3VzZWRvd24iLCJ0b3VjaG1vdmUiLCJ0b3VjaGRvd24iXS5pbmRleE9mKGIudHlwZSkpJiZyLmNhbGwoYSxiKX0pO2MuZm9yaW4oYixmdW5jdGlvbihjKXtkLmFkZChhLmF0dGFjaEV2ZW50KGEuZG9jdW1lbnQsYyxmLGJbY10pKX0pfSwKZGVzdHJveTpmdW5jdGlvbihhKXtjLmZvcm9mKGQsZnVuY3Rpb24oYil7cmV0dXJuIGEucmVtb3ZlRXZlbnQoYil9KX19fX0pLmNhbGwodGhpcyxjKDgpWyJkZWZhdWx0Il0sYyg3KVsiZGVmYXVsdCJdKX0sZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihhLGYsbCl7dmFyIGQ9YygyMSk7Yi5hPWZ1bmN0aW9uKCl7dmFyIGI9e3RvdWNobW92ZTp7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSx0b3VjaHN0YXJ0OntjYXB0dXJlOiEwfSx0b3VjaGVuZDp7Y2FwdHVyZTohMH0sdG91Y2hjYW5jZWw6e2NhcHR1cmU6ITB9LHRvdWNoZm9yY2VjaGFuZ2U6e2NhcHR1cmU6ITB9fSxjPW5ldyBhLGc9bmV3IGYsaD0hMSxGPWZ1bmN0aW9uKGEpe3ZhciBiPWEub2JqZWN0O2E9YS5hcmdzWzBdO3ZhciBjPWIudHlwZSxlPWwubWFwKGIuY2hhbmdlZFRvdWNoZXMsZnVuY3Rpb24oYSl7cmV0dXJue2lkOmEuX19pZCx4Ok1hdGgucm91bmQoYS5jbGllbnRYKSx5Ok1hdGgucm91bmQoYS5jbGllbnRZKSxmb3JjZTphLmZvcmNlfX0pOwpiPXRoaXMuX2dldEV2ZW50T2JqZWN0KGMsYi50YXJnZXQse3RvdWNoZXM6ZX0sYSk7dGhpcy5fcHVibGlzaEFjdGlvbnMoYil9LHE9ZC5hLmNyZWF0ZShGLHt0aW1lb3V0OmwuaXNBbmRyb2lkKCk/MDozMDB9KSxrPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc3RhbXAsYz0idG91Y2hjYW5jZWwiPT09YS50eXBlfHwidG91Y2hlbmQiPT09YS50eXBlO2EuY2hhbmdlZFRvdWNoZXMmJjA8YS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGgmJmwuZm9yb2YoYS5jaGFuZ2VkVG91Y2hlcyxmdW5jdGlvbihhKXt2YXIgYj12b2lkIDA9PT1jPyExOmM7aWYoZy5oYXMoYS5pZGVudGlmaWVyKSl2YXIgZT1nLmdldChhLmlkZW50aWZpZXIpO2Vsc2UgZT1sLmd1aWQoKSxnLnNldChhLmlkZW50aWZpZXIsZSk7YiYmZ1siZGVsZXRlIl0oYS5pZGVudGlmaWVyKTthLl9faWQ9ZX0pOyJ0b3VjaG1vdmUiPT09YS50eXBlP2g/Ri5jYWxsKHRoaXMse29iamVjdDphLGFyZ3M6W2JdfSk6cS5jYWxsKHRoaXMsYSxiKToKRi5jYWxsKHRoaXMse29iamVjdDphLGFyZ3M6W2JdfSl9O3JldHVybntjcmVhdGU6ZnVuY3Rpb24oYSl7dmFyIGU9YS5fdW5pdmVyc2FsSGFuZGxlcihrKTtsLmZvcmluKGIsZnVuY3Rpb24oZCl7Yy5hZGQoYS5hdHRhY2hFdmVudChhLmRvY3VtZW50LGQsZSxiW2RdKSl9KTt2YXIgZD1udWxsLGc9YS5fdW5pdmVyc2FsSGFuZGxlcihmdW5jdGlvbigpe2NsZWFyVGltZW91dChkKTtoPSEwO2Q9SShmdW5jdGlvbigpe3JldHVybiBoPSExfSwxNTApfSk7Yy5hZGQoYS5hdHRhY2hFdmVudChhLmRvY3VtZW50LCJzY3JvbGwiLGcse3Bhc3NpdmU6ITAsY2FwdHVyZTohMH0pKX0sZGVzdHJveTpmdW5jdGlvbihhKXtsLmZvcm9mKGMsZnVuY3Rpb24oYil7cmV0dXJuIGEucmVtb3ZlRXZlbnQoYil9KTtjLmNsZWFyKCl9fX19KS5jYWxsKHRoaXMsYyg4KVsiZGVmYXVsdCJdLGMoMTIpWyJkZWZhdWx0Il0sYyg3KVsiZGVmYXVsdCJdKX0sZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihhLGMpe2IuYT0KZnVuY3Rpb24oKXt2YXIgYj1uZXcgYSxkPVtdLGY9bnVsbCxyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPXRoaXMuc3RhbXAsZz10aGlzLnZpZXdwb3J0Lnpvb21MZXZlbDtpZih0aGlzLnpvb21MZXZlbCE9PWcpe2NsZWFyVGltZW91dChmKTt2YXIgbD1jLnNjcm9sbGluZ0VsZW1lbnQoKSxrPWwuc2Nyb2xsTGVmdDtsPWwuc2Nyb2xsVG9wO3RoaXMuem9vbUxldmVsPWc7ZC5wdXNoKFtiLGcsayxsXSk7Zj1JKGZ1bmN0aW9uKCl7dmFyIGI9ZFswXSxjPWRbZC5sZW5ndGgtMV0saz1jWzBdO2I9YS5fZ2V0RXZlbnRPYmplY3QoInpvb20iLDAse3pvb21Gcm9tOntsZXZlbDpiWzFdLHg6YlsyXSx5OmJbM119LHpvb21Ubzp7bGV2ZWw6Y1sxXSx4OmNbMl0seTpjWzNdfSxkdXJhdGlvbjprLWJbMF19LGspO2QubGVuZ3RoPTA7YS5fcHVibGlzaEFjdGlvbnMoYil9LDEwMCl9fTtyZXR1cm57Y3JlYXRlOmZ1bmN0aW9uKGEpe2E9YS5fdW5pdmVyc2FsSGFuZGxlcihyKTt0aGlzLmNhcHRvcj1jLnJlcGVhdChhKX0sCmRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNhcHRvci5zdG9wKCk7Yi5jbGVhcigpfX19fSkuY2FsbCh0aGlzLGMoOClbImRlZmF1bHQiXSxjKDcpWyJkZWZhdWx0Il0pfSxmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGEsYyl7Yi5hPWZ1bmN0aW9uKCl7dmFyIGIsZD0idW5kZWZpbmVkIiE9PXR5cGVvZiB0LmhpZGRlbj97aGlkZGVuOiJoaWRkZW4iLGV2ZW50OiJ2aXNpYmlsaXR5Y2hhbmdlIn06InVuZGVmaW5lZCIhPT10eXBlb2YgdC5tc0hpZGRlbj97aGlkZGVuOiJtc0hpZGRlbiIsZXZlbnQ6Im1zdmlzaWJpbGl0eWNoYW5nZSJ9OiJ1bmRlZmluZWQiIT09dHlwZW9mIHQud2Via2l0SGlkZGVuP3toaWRkZW46IndlYmtpdEhpZGRlbiIsZXZlbnQ6IndlYmtpdHZpc2liaWxpdHljaGFuZ2UifTpudWxsLGY9ZD8oYj17fSxiW2QuZXZlbnRdPXtjYXB0dXJlOiEwfSxiKTp7Zm9jdXM6e2NhcHR1cmU6ITB9LGJsdXI6e2NhcHR1cmU6ITB9fSxyPXtmb2N1czoid2luZG93Zm9jdXMiLGJsdXI6IndpbmRvd2JsdXIifSwKdz1uZXcgYSxoPWZ1bmN0aW9uKGEpe2E9ZD90aGlzLl9nZXRFdmVudE9iamVjdChyW3RbZC5oaWRkZW5dPyJibHVyIjoiZm9jdXMiXSx0aGlzLndpbmRvdyk6dGhpcy5fZ2V0RXZlbnRPYmplY3QoclthLnR5cGVdLHRoaXMud2luZG93KTt0aGlzLl9wdWJsaXNoQWN0aW9ucyhhKX07cmV0dXJue2NyZWF0ZTpmdW5jdGlvbihhKXt2YXIgYj1hLl91bml2ZXJzYWxIYW5kbGVyKGgpO2MuZm9yaW4oZixmdW5jdGlvbihjKXt3LmFkZChhLmF0dGFjaEV2ZW50KGEud2luZG93LGMsYixmW2NdKSl9KX0sZGVzdHJveTpmdW5jdGlvbihhKXtjLmZvcm9mKHcsZnVuY3Rpb24oYil7cmV0dXJuIGEucmVtb3ZlRXZlbnQoYil9KTt3LmNsZWFyKCl9fX19KS5jYWxsKHRoaXMsYyg4KVsiZGVmYXVsdCJdLGMoNylbImRlZmF1bHQiXSl9LGZ1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oYSl7dmFyIGQ9YygxNCksbD1jLm4oZCk7ZD1jKDYpO3ZhciBnPWMubihkKTtkPWMoMTgpO3ZhciBuPWMubihkKTtkPWMoMSk7CnZhciByPWMubihkKTtkPWMoMTUpO3ZhciB3PWMoNTIpLGg9YygzMSksbT1jKDExKTtkPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYyxlLGQpe3ZhciBrPWIuY2FsbCh0aGlzKXx8dGhpcztyKCkoZygpKGspLCJJR05PUkVfTk9ERV9BVFRSSUJVVEUiLCJfX3ltX3d2X2lnbiIpO3IoKShnKCkoayksImV2ZW50c0xpc3QiLFsibXV0YXRpb24iXSk7ay5pbmRleGVyPWU7ay5vcmlnaW5hbEhUTUw9ay5pbmRleGVyLmh0bWw7ay50YXJnZXQ9YztrLndhdGNoZXI9bmV3IHcuYShrLnRhcmdldCxkKTtrLnF1ZXVlPW5ldyBoLmE7ay5fdGltZXI9YS50aW1lcigpO2sud2F0Y2hlci5vbigibXV0YXRpb24iLGsuY29sbGVjdE11dGF0aW9ucy5iaW5kKGcoKShrKSkpO3JldHVybiBrfW4oKShjLGIpO3ZhciBlPWMucHJvdG90eXBlO2UuYWRkQ2hhbmdlcz1mdW5jdGlvbihiLGMpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLGQ9QXJyYXkoMjxlP2UtMjowKSxrPTI7azxlO2srKylkW2stMl09YXJndW1lbnRzW2tdOwppZihudWxsIT1iW2NdJiYwPGQubGVuZ3RoKXt2YXIgZyxmPWJbY10ubGVuZ3RoO2EuZmFzdEl0ZXJhdGUoZCxmdW5jdGlvbihhLGIpe3JldHVybiBiLmk9ZithfSk7YltjXT0oZz1iW2NdKS5jb25jYXQuYXBwbHkoZyxkKX19O2UuY29sbGVjdE11dGF0aW9ucz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMucXVldWUucHVzaChmdW5jdGlvbigpe3ZhciBjPWIucHJvY2Vzc011dGF0aW9ucyhhLnN1bW1hcnkpO2MuaGFzRGF0YSYmYi5lbWl0KCJtdXRhdGlvbiIse2NoYW5nZXM6Yy5zdG9yZSxzdGFtcDphLnN0YW1wfSl9KX07ZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5xdWV1ZS5zdGFydCghMCk7dGhpcy5vZmYoKTt0aGlzLndhdGNoZXIub2ZmKCk7dGhpcy53YXRjaGVyLnN0b3AoKX07ZS5jbGVhbkNoYW5nZXNPYmplY3Q9ZnVuY3Rpb24oYil7YS5mb3JpbihiLGZ1bmN0aW9uKGEpezA9PT1iW2FdLmxlbmd0aCYmZGVsZXRlIGJbYV19KTtyZXR1cm4gYn07ZS5pbml0T2JzZXJ2ZXI9CmZ1bmN0aW9uKCl7dGhpcy5pbml0T2JzZXJ2ZXI9YS5ub29wKCk7dGhpcy53YXRjaGVyLnN0YXJ0KCk7dGhpcy5fdGltZXIuc3RhcnQoKX07ZS5wcm9jZXNzTXV0YXRpb25zPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZT0hMSxkPVtdO2EuZmFzdEl0ZXJhdGUoYixmdW5jdGlvbihhLGIpe2lmKGIudGFyZ2V0LnBhcmVudE5vZGUmJiFtLmMuaXNJZ25vcmVkTm9kZShiLnRhcmdldC5wYXJlbnROb2RlKSl7dmFyIGs9Yy5jaGFuZ2VzT2JqZWN0OyExIT09ZnVuY3Rpb24oKXt2YXIgYT1iLnR5cGUsZT1iLnRhcmdldCxkPWMuaW5kZXhlci5nZXRJbmRleGVkTm9kZUlkKGUpO2lmKG51bGw9PWQpcmV0dXJuITE7ZT1bYixkLGUsa107c3dpdGNoKGEpe2Nhc2UgImNoaWxkTGlzdCI6cmV0dXJuIGMucHJvY2Vzc1RyZWVDaGFuZ2VzLmFwcGx5KGMsZSk7Y2FzZSAiYXR0cmlidXRlcyI6cmV0dXJuIGMucHJvY2Vzc0F0dHJpYnV0ZXNDaGFuZ2VzLmFwcGx5KGMsZSk7Y2FzZSAiY2hhcmFjdGVyRGF0YSI6cmV0dXJuIGMucHJvY2Vzc0NvbnRlbnRDaGFuZ2VzLmFwcGx5KGMsCmUpfX0oKSYmKGU9ITAsZC5wdXNoKGMuY2xlYW5DaGFuZ2VzT2JqZWN0KGspKSl9fSk7cmV0dXJue3N0b3JlOmQsaGFzRGF0YTplfX07ZS5jb21iaW5lTXV0YXRpb25zPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucmVkdWNlKE9iamVjdC5rZXlzKGMpLGZ1bmN0aW9uKGEsYil7dmFyIGU7bnVsbD09YVtiXSYmKGFbYl09W10pO2FbYl09KGU9YVtiXSkuY29uY2F0LmFwcGx5KGUsY1tiXSk7cmV0dXJuIGF9LGIpfTtlLnByb2Nlc3NUcmVlQ2hhbmdlcz1mdW5jdGlvbihiLGMsZSxkKXt2YXIgaz10aGlzLGc9Yi5uZXh0U2libGluZyxmPWIucHJldmlvdXNTaWJsaW5nO2U9Yi5tZXRhO2I9ZS5hZGRlZE5vZGVzO2U9ZS5yZW1vdmVkTm9kZXM7ZT12b2lkIDA9PT1lP1tdOmU7dmFyIGw9W10sQj1bXTthLmZhc3RJdGVyYXRlKHZvaWQgMD09PWI/W106YixmdW5jdGlvbihiLGUpe2suaW5kZXhlci5yZWluZGV4Tm9kZVRyZWUoZSx7cGFyZW50SUQ6YyxjYWxsYmFjazpmdW5jdGlvbihiLGMpe2lmKGIpe3ZhciBkPQphLmNvbWJpbmUoe2lkOmIuaWQscGE6Yi5wYXJlbnQsbm06Yi5uYW1lfSxjPT09ZT97cHI6ay5nZXRJREZvck5vZGUoZiksbng6ay5nZXRJREZvck5vZGUoZyl9Ont9KTtiLmNvbnRlbnQmJihkLmN0PWIuY29udGVudCk7Yi5uYW1lc3BhY2UmJihkLm5zPWIubmFtZXNwYWNlKTtkLmF0PW0uYy5nZXRBdHRyaWJ1dGVzKGIubmF0aXZlTm9kZSk7bC5wdXNoKGQpfX19KX0pO2EuZmFzdEl0ZXJhdGUoZSxmdW5jdGlvbihhLGIpe3ZhciBlPXtpZDprLmluZGV4ZXIucmVtb3ZlTm9kZVRyZWUoYikscGE6YyxwcjprLmdldElERm9yTm9kZShmKSxueDprLmdldElERm9yTm9kZShnKX07ZS5pZCYmQi5wdXNoKGUpfSk7aWYoMD09PWwubGVuZ3RoJiYwPT09Qi5sZW5ndGgpcmV0dXJuITE7dGhpcy5hZGRDaGFuZ2VzLmFwcGx5KHRoaXMsW2QsImEiXS5jb25jYXQoQikpO3RoaXMuYWRkQ2hhbmdlcy5hcHBseSh0aGlzLFtkLCJiIl0uY29uY2F0KGwpKX07ZS5wcm9jZXNzQXR0cmlidXRlc0NoYW5nZXM9CmZ1bmN0aW9uKGEsYixjLGUpe3ZhciBkLGs9YS5tZXRhO2E9ay5uYW1lO2M9ay5vbGRWYWx1ZTtrPWsubmV3VmFsdWU7dmFyIGc9bnVsbD09PWt8fGs9PT1BO3RoaXMuYWRkQ2hhbmdlcyhlLCJjIix7aWQ6YixhdDooZD17fSxkW2FdPXtuOmssbzpjLHI6Z30sZCl9KX07ZS5wcm9jZXNzQ29udGVudENoYW5nZXM9ZnVuY3Rpb24oYSxiLGMsZSl7dGhpcy5hZGRDaGFuZ2VzKGUsImQiLHtpZDpiLGN0OntuOmEubWV0YS5uZXdWYWx1ZSxvOmEubWV0YS5vbGRWYWx1ZX19KX07ZS5nZXRJREZvck5vZGU9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9dGhpcy5pbmRleGVyLmdldE5vZGVJZChhKTtpZihudWxsIT1iKXJldHVybiBiO3RoaXMuaW5kZXhlci5yZWluZGV4Tm9kZVRyZWUoYSk7cmV0dXJuIHRoaXMuaW5kZXhlci5nZXROb2RlSWQoYSl9fTtsKCkoYyxbe2tleToiY2hhbmdlc09iamVjdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue2E6W10sYjpbXSxjOltdLGQ6W119fX0se2tleToiaHRtbCIsCmdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9yaWdpbmFsSFRNTH19XSk7cmV0dXJuIGN9KGQuYSk7Yi5hPWR9KS5jYWxsKHRoaXMsYyg3KVsiZGVmYXVsdCJdKX0sZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihhLGYsbCl7dmFyIGQ9Yyg2KSxuPWMubihkKTtkPWMoMTgpO3ZhciByPWMubihkKTtkPWMoMSk7dmFyIHc9Yy5uKGQpLGg9YygxMSk7ZD1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKGEsYyl7dmFyIGU9Yi5jYWxsKHRoaXMpfHx0aGlzO3coKShuKCkoZSksImV2ZW50c0xpc3QiLFsibXV0YXRpb24iXSk7ZS5yZWNvcmRlcj1jO2UucGF1c2VkPSEwO2UuZWxlbWVudD1hO2UuZG9jdW1lbnQ9YS5vd25lckRvY3VtZW50O2Uub2JzZXJ2ZXI9bnVsbDtlLmluaXRNdXRhdGlvbk9ic2VydmVyKCk7cmV0dXJuIGV9cigpKGMsYik7dmFyIGQ9Yy5wcm90b3R5cGU7ZC5zdGFydD1mdW5jdGlvbigpe3RoaXMub2JzZXJ2ZXImJnRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnQse2NoaWxkTGlzdDohMCwKYXR0cmlidXRlczohMCxjaGFyYWN0ZXJEYXRhOiEwLHN1YnRyZWU6ITAsYXR0cmlidXRlT2xkVmFsdWU6ITAsY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiEwfSl9O2Quc3RvcD1mdW5jdGlvbigpe3RoaXMub2JzZXJ2ZXImJnRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpfTtkLmluaXRNdXRhdGlvbk9ic2VydmVyPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMuZG9jdW1lbnQuZGVmYXVsdFZpZXcuTXV0YXRpb25PYnNlcnZlcjtjP3RoaXMub2JzZXJ2ZXI9bmV3IGMoZnVuY3Rpb24oKXt0cnl7Zm9yKHZhciBhPWFyZ3VtZW50cy5sZW5ndGgsYz1BcnJheShhKSxlPTA7ZTxhO2UrKyljW2VdPWFyZ3VtZW50c1tlXTtiLnByb2Nlc3NNdXRhdGlvbnMuYXBwbHkoYixjKX1jYXRjaChVYSl7fX0pOmEud2FybigiQ2FuJ3QgYWNjZXNzIE11dGF0aW9uT2JzZXJ2ZXIgb2YgYSB3aW5kb3ciLG0pfTtkLnByb2Nlc3NNdXRhdGlvbnM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczthPWYudG9BcnJheShhKTsKdmFyIGM9e2FkZGVkOm5ldyBsLHJlbW92ZWQ6bmV3IGx9O2E9Zi5yZWR1Y2VSaWdodChhLGZ1bmN0aW9uKGEsZSl7dmFyIGQ9ZS50eXBlLGs9ZS50YXJnZXQsZz1iLmNvbGxlY3RTdW1tYXJ5KGQsayxjLGUpO251bGwhPWcmJmEudW5zaGlmdCh7dGFyZ2V0OmssdHlwZTpkLG1ldGE6ZyxuZXh0U2libGluZzplLm5leHRTaWJsaW5nLHByZXZpb3VzU2libGluZzplLnByZXZpb3VzU2libGluZ30pO3JldHVybiBhfSxbXSk7MDxhLmxlbmd0aCYmdGhpcy5lbWl0KCJtdXRhdGlvbiIse3N1bW1hcnk6YSxzdGFtcDp0aGlzLnJlY29yZGVyLnN0YW1wfSk7Yy5hZGRlZC5jbGVhcigpO2MucmVtb3ZlZC5jbGVhcigpfTtkLmNvbGxlY3RTdW1tYXJ5PWZ1bmN0aW9uKGEsYixjLGQpe3N3aXRjaChhKXtjYXNlICJjaGlsZExpc3QiOmI9Zi5yZWR1Y2UoZC5hZGRlZE5vZGVzLGZ1bmN0aW9uKGEsYil7ITE9PT1jLmFkZGVkLmhhcyhiKSYmKGEucHVzaChiKSxoLmMud2FsayhiLGZ1bmN0aW9uKGEpe2MucmVtb3ZlZC5oYXMoYSkmJgpjLnJlbW92ZWRbImRlbGV0ZSJdKGEpO3JldHVybiBjLmFkZGVkLmFkZChhKX0pKTtyZXR1cm4gYX0sW10pO2Q9Zi5yZWR1Y2UoZC5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oYSxiKXshMT09PWMucmVtb3ZlZC5oYXMoYikmJihhLnB1c2goYiksaC5jLndhbGsoYixmdW5jdGlvbihhKXtyZXR1cm4gYy5yZW1vdmVkLmFkZChhKX0pKTtyZXR1cm4gYX0sW10pO2lmKDA8Yi5sZW5ndGh8fDA8ZC5sZW5ndGgpcmV0dXJue2FkZGVkTm9kZXM6YixyZW1vdmVkTm9kZXM6ZH07YnJlYWs7Y2FzZSAiYXR0cmlidXRlcyI6YT1kLmF0dHJpYnV0ZU5hbWU7ZD1kLm9sZFZhbHVlO3ZhciBlPWIuZ2V0QXR0cmlidXRlKGEpO2lmKGQhPT1lKXJldHVybntuYW1lOmEsb2xkVmFsdWU6aC5jLm5vcm1hbGl6ZUF0dHJpYnV0ZVZhbHVlKGIsYSxkKSxuZXdWYWx1ZTpoLmMubm9ybWFsaXplQXR0cmlidXRlVmFsdWUoYixhLGUpfTticmVhaztjYXNlICJjaGFyYWN0ZXJEYXRhIjppZihkPWQub2xkVmFsdWUsYj1iLnRleHRDb250ZW50LApiIT09ZClyZXR1cm57b2xkVmFsdWU6ZCxuZXdWYWx1ZTpifX19O3JldHVybiBjfShjKDE1KS5hKTtiLmE9ZH0pLmNhbGwodGhpcyxjKDMpWyJkZWZhdWx0Il0sYyg3KVsiZGVmYXVsdCJdLGMoOClbImRlZmF1bHQiXSl9LGZ1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oYSl7dmFyIGQ9YygxOCksbD1jLm4oZCk7ZD1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKGMpe3ZvaWQgMD09PWMmJihjPVtdKTt2YXIgZD1iLmNhbGwodGhpcyl8fHRoaXM7YS5mYXN0SXRlcmF0ZShjLGZ1bmN0aW9uKGEsYil7ZC51c2UoYil9KTtyZXR1cm4gZH1sKCkoYyxiKTt2YXIgZD1jLnByb3RvdHlwZTtkLm1haW49ZnVuY3Rpb24oYSxiKXsiZnVuY3Rpb24iPT09dHlwZW9mIGImJmIoKX07ZC5zZW5kPWZ1bmN0aW9uKGEpe3RoaXMucnVuKGEsdGhpcy5tYWluLmJpbmQodGhpcykpfTtyZXR1cm4gY30oYygzMykuYSk7Yi5hPWR9KS5jYWxsKHRoaXMsYyg3KVsiZGVmYXVsdCJdKX0sZnVuY3Rpb24oYSxiLGMpe2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsCmIpe3ZvaWQgMD09PWEmJihhPSJib2R5Iik7dm9pZCAwPT09YiYmKGI9e30pO3RoaXMucm9vdD0ic3RyaW5nIj09PXR5cGVvZiBhP3QucXVlcnlTZWxlY3RvcihhKTphO3RoaXMuY3R4PWI7dmFyIGM9LTEhPT1uYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCJNYWMiKT8ibWFjb3MiOiJvdGhlciI7dGhpcy5PUz1jO3RoaXMubW9kaWZpZXJDb2Rlcz17OTE6InN1cGVyIiw5Mzoic3VwZXIiLDIyNDoic3VwZXIiLDE4OiJhbHQiLDE3OiJjdHJsIiwxNjoic2hpZnQiLDk6InRhYiIsODoiYmFja3NwYWNlIiw0NjoiZGVsZXRlIn07dGhpcy5rZXlPcmRlcj17InN1cGVyIjoxLGN0cmw6MixhbHQ6MyxzaGlmdDo0LHRhYjo1LCJkZWxldGUiOjYsYmFja3NwYWNlOjZ9O3RoaXMuc2luZ2xlS2V5cz1bNCw5LDgsMzIsMzcsMzgsMzksNDAsNDZdO3RoaXMua2V5RGljdD17bWFjb3M6ezkxOiJceDI2Izg5ODQ7Iiw5MzoiXHgyNiM4OTg0OyIsMjI0OiJceDI2Izg5ODQ7IiwxODoiXHgyNiM4OTk3OyIsCjE3OiJceDI2Izg5NjM7IiwxNjoiXHgyNiM4Njc5OyIsOToiXHgyNiM4Njc3OyIsODoiXHgyNiM5MDAzOyIsNDY6Ilx4MjYjOTAwMzsifSxvdGhlcjp7OTE6Ilx4MjYjeGZmOyIsOTM6Ilx4MjYjeGZmOyIsMjI0OiJceDI2I3hmZjsiLDE4OiJBbHQiLDE3OiJDdHJsIiwxNjoiU2hpZnQiLDk6IlRhYiIsODoiQmFja3NwYWNlIiw0NjoiRGVsZXRlIn0sbXVsdGk6ezMyOiJTUEFDRUJBUiIsMzc6Ilx4MjZsYXJyOyIsMzg6Ilx4MjZ1YXJyOyIsMzk6Ilx4MjZyYXJyOyIsNDA6Ilx4MjZkYXJyOyIsMTM6IkVudGVyIn19O3RoaXMuaW5pdGlhbE1vZGlmaWVyPW51bGw7dGhpcy5tb2RpZmllclByZXNzZWQ9MDt0aGlzLmV2ZW50cz1bXTt0aGlzLm1vZGlmaWVycz17fTt0aGlzLmNhcHRvcnM9W107dGhpcy5maWx0ZXJzPVtdO3RoaXMua2V5U3Ryb2tlPVtdO3RoaXMuaG9sZGluZz1bXTt0aGlzLmluaXRIYW5kbGVyKCl9dmFyIGI9YS5wcm90b3R5cGU7Yi5vbkNhcHR1cmU9ZnVuY3Rpb24oYSl7ImZ1bmN0aW9uIj09PQp0eXBlb2YgYSYmMD50aGlzLmNhcHRvcnMuaW5kZXhPZihhKSYmdGhpcy5jYXB0b3JzLnB1c2goYSl9O2IuYWRkRWxlbWVudEZpbHRlcj1mdW5jdGlvbihhKXsiZnVuY3Rpb24iPT09dHlwZW9mIGEmJjA+dGhpcy5jYXB0b3JzLmluZGV4T2YoYSkmJnRoaXMuZmlsdGVycy5wdXNoKGEpfTtiLmFwcGx5RmlsdGVycz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLmZpbHRlcnMucmVkdWNlKGZ1bmN0aW9uKGMsZCl7cmV0dXJuITA9PT1jP2MmJmQuY2FsbChiLGEpOiExfSwhMCl9O2IuaW5pdEhhbmRsZXI9ZnVuY3Rpb24oKXt0aGlzLmF0dGFjaEV2ZW50KCJrZXlkb3duIix0aGlzLmtleWRvd25IYW5kbGVyKTt0aGlzLmF0dGFjaEV2ZW50KCJrZXl1cCIsdGhpcy5rZXl1cEhhbmRsZXIpfTtiLmdldEtleXN0cm9rZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9dGhpcy5rZXlPcmRlcjtyZXR1cm4gYS5tYXAoZnVuY3Rpb24oYSl7dmFyIGM9YS5rZXlDb2RlLGQ9Yi5tb2RpZmllckNvZGVzW2Eua2V5Q29kZV0sCmc9Yi5nZXRLZXlTeW1ib2woYSk7cmV0dXJue2lkOmMsa2V5OmIuZ2V0S2V5U3ltYm9sKGEpLGlzTWV0YTohIWQmJi9eJiMvLnRlc3QoZyksbW9kaWZpZXI6ZH19KS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuKGNbYS5tb2RpZmllcl18fDEwMCktKGNbYi5tb2RpZmllcl18fDEwMCl9KX07Yi5nZXRLZXlTeW1ib2w9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMua2V5RGljdFt0aGlzLk9TXVthLmtleUNvZGVdfHx0aGlzLmtleURpY3QubXVsdGlbYS5rZXlDb2RlXXx8U3RyaW5nLmZyb21DaGFyQ29kZShhLmtleUNvZGUpfTtiLnN0YXJ0Q2FwdHVyZT1mdW5jdGlvbihhKXt0aGlzLmluaXRpYWxNb2RpZmllcj1hO3RoaXMucHVzaEtleShhKTt0aGlzLmNhbmNlbENhcHR1cmUoKX07Yi5zZW5kS2V5cz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dm9pZCAwPT09YiYmKGI9ITEpO2lmKDE8YS5sZW5ndGh8fGIpe3ZhciBkPXRoaXMuZ2V0S2V5c3Ryb2tlKGEpO3RoaXMuY2FwdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNhbGwoYywKZCxiKX0pfX07Yi5lbmRDYXB0dXJlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLl9rZXlTdHJva2U9dGhpcy5rZXlTdHJva2Uuc2xpY2UoMCk7Y2xlYXJUaW1lb3V0KHRoaXMuX2VuZENhcHR1cmUpO3RoaXMuX2VuZENhcHR1cmU9SShmdW5jdGlvbigpe2Euc2VuZEtleXMoYS5fa2V5U3Ryb2tlKX0pfTtiLnB1c2hLZXk9ZnVuY3Rpb24oYSl7ITE9PT10aGlzLmlzQ2FwdHVyZWQoYSkmJnRoaXMua2V5U3Ryb2tlLnB1c2goYSl9O2IucmVtb3ZlS2V5PWZ1bmN0aW9uKGEpe3RoaXMua2V5U3Ryb2tlPXRoaXMua2V5U3Ryb2tlLnJlZHVjZShmdW5jdGlvbihiLGMpe2Mua2V5Q29kZSE9PWEua2V5Q29kZSYmYi5wdXNoKGMpO3JldHVybiBifSxbXSl9O2IuY2FuY2VsQ2FwdHVyZT1mdW5jdGlvbigpe3RoaXMuaXNNb2RpZmllclByZXNzZWQoKT9JKHRoaXMuY2FuY2VsQ2FwdHVyZS5iaW5kKHRoaXMpLDEwMCk6dGhpcy5rZXlTdHJva2UubGVuZ3RoPTB9O2IucmVzZXQ9ZnVuY3Rpb24oKXt2YXIgYT0KdGhpczt0aGlzLl9yZXNldD1JKGZ1bmN0aW9uKCl7YS5yZXNldEltbWVkaWF0ZSgpfSwzMDApfTtiLnJlc2V0SW1tZWRpYXRlPWZ1bmN0aW9uKCl7dGhpcy5tb2RpZmllclByZXNzZWQ9MDt0aGlzLmtleVN0cm9rZS5sZW5ndGg9MDt0aGlzLmhvbGRpbmcubGVuZ3RoPTA7Y2xlYXJUaW1lb3V0KHRoaXMuX2VuZENhcHR1cmUpfTtiLmNhbmNlbFJlc2V0PWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2V0KX07Yi5rZXlkb3duSGFuZGxlcj1mdW5jdGlvbihhKXt0aGlzLmFwcGx5RmlsdGVycyhhLnRhcmdldCkmJiExPT09dGhpcy5pc0lucHV0V2l0aFNoaWZ0KGEpJiYhYS5yZXBlYXQmJjA+dGhpcy5oZWxkKGEua2V5Q29kZSkmJih0aGlzLmhvbGRpbmcucHVzaChhLmtleUNvZGUpLHRoaXMuaXNNb2RpZmllcihhLmtleUNvZGUpJiYhdGhpcy5pc01vZGlmaWVyUHJlc3NlZCgpPyh0aGlzLm1vZGlmaWVyUHJlc3NlZCs9MSx0aGlzLnN0YXJ0Q2FwdHVyZShhKSx0aGlzLnJlc2V0KCkpOgp0aGlzLmlzTW9kaWZpZXJQcmVzc2VkKCk/KHRoaXMuY2FuY2VsUmVzZXQoKSx0aGlzLnB1c2hLZXkoYSksdGhpcy5lbmRDYXB0dXJlKCkpOih0aGlzLnJlc2V0SW1tZWRpYXRlKCksdGhpcy5wdXNoS2V5KGEpKSl9O2Iua2V5dXBIYW5kbGVyPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYXBwbHlGaWx0ZXJzKGEudGFyZ2V0KSl7dmFyIGI9dGhpcy5pc01vZGlmaWVyKGEua2V5Q29kZSksYz10aGlzLmhlbGQoYS5rZXlDb2RlKTswPD1jJiZ0aGlzLmhvbGRpbmcuc3BsaWNlKGMsMSk7YiYmdGhpcy5pc01vZGlmaWVyUHJlc3NlZCgpJiYodGhpcy5tb2RpZmllclByZXNzZWQ9MCx0aGlzLmhvbGRpbmcubGVuZ3RoPTApOzE9PT10aGlzLmtleVN0cm9rZS5sZW5ndGgmJihiPXRoaXMua2V5U3Ryb2tlWzBdLDA8PXRoaXMuc2luZ2xlS2V5cy5pbmRleE9mKGIua2V5Q29kZSkmJih0aGlzLnNlbmRLZXlzKFtiXSwhMCksdGhpcy5yZXNldEltbWVkaWF0ZSgpKSk7dGhpcy5yZW1vdmVLZXkoYSk7Y2xlYXJUaW1lb3V0KHRoaXMuX2VuZENhcHR1cmUpfX07CmIuYXR0YWNoRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgYil7dmFyIGQ9dGhpcy5jdHguYXR0YWNoRXZlbnQodGhpcy5jdHguZG9jdW1lbnQsYSxmdW5jdGlvbihhKXsoYy5yb290JiZjLnJvb3QuY29udGFpbnMoYS50YXJnZXQpfHxhLnRhcmdldD09PWMucm9vdCkmJmMuY3R4LmVycm9yTG9nZ2VyKGZ1bmN0aW9uKCl7Yi5jYWxsKGMsYSl9KX0sITApO3RoaXMuZXZlbnRzLnB1c2goZnVuY3Rpb24oKXtjLmN0eC5yZW1vdmVFdmVudChkKX0pfX07Yi5oZWxkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhvbGRpbmcuaW5kZXhPZihhKX07Yi5pc01vZGlmaWVyPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT10aGlzLm1vZGlmaWVyQ29kZXNbYV19O2IuaXNNb2RpZmllclByZXNzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLm1vZGlmaWVyUHJlc3NlZH07Yi5pc0luaXRpYWxNb2RpZmllcj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbml0aWFsTW9kaWZpZXI/CnRoaXMuaW5pdGlhbE1vZGlmaWVyLmtleUNvZGU9PT1hLmtleUNvZGU6ITF9O2IuaXNDYXB0dXJlZD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9dGhpcy5rZXlTdHJva2UucmVkdWNlKGZ1bmN0aW9uKGIsYyl7bnVsbD09YiYmYy5rZXlDb2RlPT09YS5rZXlDb2RlJiYoYj1jKTtyZXR1cm4gYn0sbnVsbCl9O2IuaXNJbnB1dFdpdGhTaGlmdD1mdW5jdGlvbihhKXtyZXR1cm4iSU5QVVQiPT09YS50YXJnZXQubm9kZU5hbWU/YS5zaGlmdEtleXx8MzI9PT1hLmtleUNvZGV8fCJzaGlmdCI9PT10aGlzLm1vZGlmaWVyQ29kZXNbYS5rZXlDb2RlXTohMX07Yi5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGE7Zm9yKHRoaXMucmVzZXRJbW1lZGlhdGUoKTthPXRoaXMuZXZlbnRzLnBvcCgpOylhKCk7dGhpcy5maWx0ZXJzLmxlbmd0aD0wfTtyZXR1cm4gYX0oKTtiLmE9YX0sZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihhKXt2YXIgZD1jKDEpLGw9Yy5uKGQpLGc9YygxNSksbj1jKDMwKSxyPWMoMiksCmg9YygxNikscD1jKDApO2Q9IkhUTUxNZWRpYUVsZW1lbnQiaW4gbTt2YXIgRj17fSxxPXAuSXRlcmFibGVVdGlscy50b0xpc3QoWyJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciJdKSxrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe2woKSh0aGlzLCJvcmlnaW5hbERlc2NyaXB0b3JzIixuZXcgYSk7bCgpKHRoaXMsIm1vY2tlZCIsITEpO2woKSh0aGlzLCJldmVudHMiLG5ldyBnLmEoWyJzZXR0ZXIiLCJtZXRob2QiXSkpO3IuT2JqZWN0VXRpbHMuYXNzaWduKEYsaC5Ub29scy5hcGlNb2NrKEhUTUxNZWRpYUVsZW1lbnQpKX12YXIgYz1iLnByb3RvdHlwZTtjLmRlc2NyaXB0b3I9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpfTtjLm1vY2s9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9SFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsYz10aGlzO3AuSXRlcmFibGVVdGlscy5mb3JvZihGLnByb3BlcnRpZXMsZnVuY3Rpb24oZSl7aWYocS5oYXMoZSkpcmV0dXJuITA7CnZhciBkPWEuZGVzY3JpcHRvcihiLGUpO2lmKGQpe2Eub3JpZ2luYWxEZXNjcmlwdG9ycy5zZXQoZSxkKTt2YXIgaz1yLk9iamVjdFV0aWxzLmNvbWJpbmUoZCk7ZC5nZXQmJihrLmdldD1mdW5jdGlvbigpe3JldHVybiBkLmdldC5jYWxsKHRoaXMpfSk7ZC5zZXQmJihrLnNldD1mdW5jdGlvbihhKXtjLnNldHRlckludm9rZWQodGhpcyxlLGEpO3JldHVybiBkLnNldC5jYWxsKHRoaXMsYSl9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYixlLGspfX0pO3AuSXRlcmFibGVVdGlscy5mb3JvZihGLm1ldGhvZHMsZnVuY3Rpb24oZSl7aWYocS5oYXMoZSkpcmV0dXJuITA7dmFyIGQ9YS5kZXNjcmlwdG9yKGIsZSk7YS5vcmlnaW5hbERlc2NyaXB0b3JzLnNldChlLGQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLGUse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPWFyZ3VtZW50cy5sZW5ndGgsaz1BcnJheShiKSxnPTA7ZzxiO2crKylrW2ddPWFyZ3VtZW50c1tnXTsKYy5tZXRob2RJbnZva2VkKHRoaXMsZSxrKTtyZXR1cm4oYT1kLnZhbHVlKS5jYWxsLmFwcGx5KGEsW3RoaXNdLmNvbmNhdChrKSl9fSl9KTt0aGlzLm1vY2tlZD0hMH07Yy5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cy5vZmYoKTt2YXIgYT1IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZTtwLkl0ZXJhYmxlVXRpbHMuZm9yb2YodGhpcy5vcmlnaW5hbERlc2NyaXB0b3JzLGZ1bmN0aW9uKGIsYyl7ZGVsZXRlIGFbY107T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxiKX0pO3RoaXMubW9ja2VkPSExfTtjLnNldHRlckludm9rZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXM7dGhpcy5tb2NrZWQmJkkoZnVuY3Rpb24oKXtlLnNlbmQoYSwic2V0dGVyIix7bmFtZTpiLHZhbHVlOmN9KX0pfTtjLm1ldGhvZEludm9rZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXM7dGhpcy5tb2NrZWQmJkkoZnVuY3Rpb24oKXtjPWMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YKSW1hZ2U/T2JqZWN0KG4uYikoYSk6YX0pO2Uuc2VuZChhLCJtZXRob2QiLHtuYW1lOmIsYXJnczpjfSl9KX07Yy5zZW5kPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmV2ZW50cy5lbWl0KGIsci5PYmplY3RVdGlscy5jb21iaW5lKGMse21lZGlhOmF9KSl9O3JldHVybiBifSgpO2woKShrLCJzdXBwb3J0ZWQiLGQpO2IuYT1rfSkuY2FsbCh0aGlzLGMoMTIpWyJkZWZhdWx0Il0pfSxmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGEpe2MuZChiLCJhIixmdW5jdGlvbigpe3JldHVybiBkfSk7dmFyIGQ9ZnVuY3Rpb24oYixjKXt2b2lkIDA9PT1jJiYoYz0iYm9keSIpO3JldHVybiBuZXcgYShmdW5jdGlvbihhKXtudWxsPT1iLnF1ZXJ5U2VsZWN0b3IoYyl8fHQuaGlkZGVufHx0Lm1zSGlkZGVufHx0LndlYmtpdEhpZGRlbj9mdW5jdGlvbiB3KCl7bnVsbD09Yi5xdWVyeVNlbGVjdG9yKGMpfHx0LmhpZGRlbnx8dC5tc0hpZGRlbnx8dC53ZWJraXRIaWRkZW4/SSh3LDEwMCk6YSgpfSgpOmEoKX0pfX0pLmNhbGwodGhpcywKYygyMikuUHJvbWlzZSl9LGZ1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oYSxmKXt2YXIgZD1jKDUpLGc9Yy5uKGQpO2Q9YygxNCk7dmFyIG49Yy5uKGQpO2Q9Yyg2KTt2YXIgcj1jLm4oZCk7ZD1jKDE4KTt2YXIgaD1jLm4oZCk7ZD1jKDEpO3ZhciBwPWMubihkKSxtPWMoMTEpO2Q9YygxNSk7dmFyIHE9YygzMyksaz1jKDApLGU9YygyKSxCPWMoMjMpLEg9YygxNiksej1jKDMpLFo9YygxNyksdD0iYXR0cmlidXRlcyBuYW1lc3BhY2UgY29udGVudCBwYXJlbnQgbmV4dCBwcmV2IGhpZGRlbiIuc3BsaXQoIiAiKTtkPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYyxlLGQpe2U9KHZvaWQgMD09PWU/e306ZSkuZGlzYWJsZWQ7dmFyIGs9dm9pZCAwPT09ZT8hMTplO2U9Yi5jYWxsKHRoaXMpfHx0aGlzO3AoKShyKCkoZSksImV2ZW50c0xpc3QiLFsiaW5pdGlhbEluZGV4Om9uY2U6bWVtb3J5IiwiYWRkIiwicmVtb3ZlIiwibm9kZSJdKTtlLnJlY29yZGVyPWQ7ZS5kaXNhYmxlZD1rO2UubmV4dElEPQowO2UuY2xvc2VkPSExO2UuZG9tPW5ldyBhO2UuaW5kZXg9bmV3IGE7ZS5pbml0aWFsRE9NPW5ldyBmO2UubWlkZGxld2FyZT1uZXcgcS5iO2UuZG9jdW1lbnQ9YztlLnF1aWNrQWNjZXNzPXt9O3JldHVybiBlfWgoKShjLGIpO3ZhciBkPWMucHJvdG90eXBlO2QuaW5pdGlhbEluZGV4PWZ1bmN0aW9uKCl7dGhpcy5mYXN0SW5kZXgodGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpfTtkLnVzZT1mdW5jdGlvbihhKXt0aGlzLm1pZGRsZXdhcmUudXNlKGEpfTtkLmluaXRET01DYWNoZT1mdW5jdGlvbigpe3RoaXMuZG9tQ2FjaGU9bmV3IGEodGhpcy5pbmRleCl9O2Qud3JpdGVDYWNoZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5kb21DYWNoZSYmdGhpcy5kb21DYWNoZS5zZXQoYSx7bm9kZTpiLGRhdGE6Y30pfTtkLmZpbmRDYWNoZT1mdW5jdGlvbihhKXtpZih0aGlzLmRvbUNhY2hlKXJldHVybiB0aGlzLmRvbUNhY2hlLmdldChhKX07ZC5hZGRRdWNrQWNjZXNzSXRlbT1mdW5jdGlvbihhLApiKXtudWxsPT10aGlzLnF1aWNrQWNjZXNzW2FdJiZudWxsPT10aGlzW2FdJiYodGhpcy5xdWlja0FjY2Vzc1thXT1iLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGEse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnF1aWNrQWNjZXNzW2FdfX0pKX07ZC5hZGRUb0luZGV4PWZ1bmN0aW9uKGEsYixjKXt2b2lkIDA9PT1jJiYoYz1udWxsKTtpZihhPXRoaXMubWlkZGxld2FyZS5ydW4oYSkpe3RoaXMuZW1pdCgibm9kZSIsYSk7dmFyIGU9YS5fRE9NSW5kZXhlckluZm87aWYoITE9PT10aGlzLmRvbS5oYXMoYSl8fG51bGw9PWUpe2M9dGhpcy5nZW5lcmF0ZU5vZGVJRChjKTt2YXIgZD1hLnRhZ05hbWV8fGEubm9kZU5hbWU7ZT17aWQ6YyxuYW1lOmQscGFyZW50OmIsbmF0aXZlTm9kZTphLG5hbWVzcGFjZTptLmMuZ2V0TmFtZXNwYWNlKGEpLGF0dHJpYnV0ZXM6bS5jLmdldEF0dHJpYnV0ZXMoYSksY29udGVudDptLmMuZ2V0Q29udGVudChhKX07dGhpcy5yZWNvcmRlciYmIklOUFVUIj09PQpkJiYoYj1aLmEudmFsaWRhdGUoYSx0aGlzLnJlY29yZGVyLm9wdGlvbnMpLGQ9Yi5mb3JjZVJlY29yZCxiPSFiLmlzQWxsb3dlZCYmIWQsZD1lLmF0dHJpYnV0ZXMudmFsdWUsZS5hdHRyaWJ1dGVzLnZhbHVlPWI/Wi5hLmVuY29kZShkKTpkLGImJihlLmhpZGRlbj0hMCkpO3RoaXMuZG9tQ2FjaGUmJnRoaXMud3JpdGVDYWNoZShjLGEsZSk7dGhpcy5kb20uc2V0KGEsZSk7dGhpcy5pbmRleC5zZXQoYyxhKTthLl9ET01JbmRleGVySUQ9YzthLl9ET01JbmRleGVySW5mbz1lfXRoaXMuZW1pdCgiYWRkIixlKTtyZXR1cm4gZX16WyJkZWZhdWx0Il0ud2FybigiQ2FuJ3QgaW5kZXggdW5kZWZpbmVkIG5vZGUiKX07ZC5jbGVhcj1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT0hMCk7ay5JdGVyYWJsZVV0aWxzLmZvcm9mKGsuSXRlcmFibGVVdGlscy5rZXlzKHRoaXMuZG9tKSxmdW5jdGlvbihhKXtrLkl0ZXJhYmxlVXRpbHMuZm9yb2YoWyJfRE9NSW5kZXhlcklEIiwiX0RPTUluZGV4ZXJJbmZvIl0sCmZ1bmN0aW9uKGIpe2FbYl09bnVsbDtkZWxldGUgYVtiXX0pfSk7YSYmKHRoaXMuZG9jdW1lbnQ9bnVsbCk7dGhpcy5kb20uY2xlYXIoKTt0aGlzLmluZGV4LmNsZWFyKCl9O2QuZHVtcD1mdW5jdGlvbigpe3JldHVybntkb206bmV3IGEodGhpcy5kb20pLGluZGV4Om5ldyBhKHRoaXMuaW5kZXgpfX07ZC5kdW1wUmVzdG9yZT1mdW5jdGlvbihhKXtlLk9iamVjdFV0aWxzLmFzc2lnbih0aGlzLGEpO3RoaXMuZG9jdW1lbnQuYm9keS5pbm5lckhUTUw9IiJ9O2QuZmluZEJ5SUQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZmluZChhKX07ZC5maW5kQnlOb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldChhKX07ZC5maW5kPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPXRoaXMuaW5kZXguZ2V0KGEpO3JldHVybiBudWxsPT1iJiZ0aGlzLmRvbUNhY2hlPyhhPXRoaXMuZmluZENhY2hlKGEpKSYmYS5ub2RlOmJ9fTtkLmZpbmRJbmZvPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRvbS5nZXQodGhpcy5maW5kKGEpKX07CmQuZ2VuZXJhdGVOb2RlSUQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YTp0aGlzLm5leHRJRCsrfTtkLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kb20uZ2V0KGEpfTtkLmdldE5vZGVJZD1mdW5jdGlvbihhKXtyZXR1cm4oYT10aGlzLmdldChhKSkmJmEuaWR9O2QuZ2V0SW5kZXhlZE5vZGVJZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE5vZGVJZChhKTtyZXR1cm4gbnVsbD09Yj8odGhpcy5yZWluZGV4Tm9kZVRyZWUoYSksdGhpcy5nZXROb2RlSWQoYSkpOmJ9O2QuZ2V0Tm9kZXNJZHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gay5JdGVyYWJsZVV0aWxzLnRvQXJyYXkoYSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybntpZDpiLmdldE5vZGVJZChhKSxub2RlczpiLmdldE5vZGVzSWRzKGEuY2hpbGROb2Rlcyl9fSl9O2QucmVpbmRleE5vZGVUcmVlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxlPXZvaWQgMD09PWI/e306YixkPWUucmV0dXJuQWxsO2Q9dm9pZCAwPT09CmQ/ITE6ZDt2YXIgaz1lLmNhbGxiYWNrLGc9dm9pZCAwPT09az9udWxsOms7ZT1lLnBhcmVudElEO3ZhciBmPXZvaWQgMD09PWU/bnVsbDplO2lmKGEpe3ZhciBsPVtdO2lmKGEucGFyZW50Tm9kZXx8ZilnPUIuRnVuY3Rpb25VdGlscy50b0Z1bmN0aW9uKGcpLG0uYy5lYWNoKGEsZnVuY3Rpb24oYSxiKXtmPWIucGFyZW50Tm9kZSYmYy5nZXROb2RlSWQoYi5wYXJlbnROb2RlKXx8ZjtpZihudWxsIT1mKXt2YXIgZT1jLmFkZFRvSW5kZXgoYixmKTtsLnB1c2goZSk7ZyhlLGIpfX0pO3JldHVybiBkP2w6YS5fRE9NSW5kZXhlcklEfX07ZC5yZW1vdmVGcm9tSW5kZXg9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXROb2RlSWQoYSk7dGhpcy5kb21bImRlbGV0ZSJdKGEpO3RoaXMuaW5kZXhbImRlbGV0ZSJdKGIpO2suSXRlcmFibGVVdGlscy50b0FycmF5KGEuY2hpbGROb2RlcykubWFwKHRoaXMucmVtb3ZlRnJvbUluZGV4LmJpbmQodGhpcykpO3RoaXMuZW1pdCgicmVtb3ZlIixhKTtyZXR1cm4gYn07CmQucmVwbGFjZUJvZHk9ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVOb2RlVHJlZSh0aGlzLkJPRFkuaWQpO3ZhciBiPXRoaXMuQk9EWS5uYXRpdmVOb2RlO2RlbGV0ZSBiLl9ET01JbmRleGVySW5mbztkZWxldGUgYi5fRE9NSW5kZXhlcklEO3RoaXMuYWRkVG9JbmRleChiLHRoaXMuSFRNTC5pZCxhKX07ZC5yZW1vdmVOb2RlVHJlZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dm9pZCAwPT09YiYmKGI9ITEpO2lmKGEpe3ZhciBlPVtdLGQ9dGhpcy5nZXROb2RlSWQoYSk7bS5jLmVhY2goYSxmdW5jdGlvbihhLGIpe3ZhciBkPWMuZ2V0Tm9kZUlkKGIpO2MuZG9tWyJkZWxldGUiXShiKTtjLmluZGV4WyJkZWxldGUiXShkKTtjLmVtaXQoInJlbW92ZSIsYik7ZS5wdXNoKGQpfSk7cmV0dXJuIGI/ZTpkfX07ZC5mYXN0SW5kZXg9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuZGlzYWJsZWQpe3ZhciBiPXRoaXMuYWRkVG9JbmRleC5iaW5kKHRoaXMpLGM9dGhpcy5pbml0aWFsRE9NLmFkZC5iaW5kKHRoaXMuaW5pdGlhbERPTSk7Cm0uYy5lYWNoKGEsZnVuY3Rpb24oYSxlKXt2YXIgZD1iKGUsZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuX0RPTUluZGV4ZXJJRCk7YyhnKCkoe30sZCkpfSk7dGhpcy5pbml0aWFsRE9NLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5uYXRpdmVOb2RlLGM9Yi5wcmV2aW91c1NpYmxpbmc7Yj1iLm5leHRTaWJsaW5nO2MmJmMuX0RPTUluZGV4ZXJJRCYmKGEucHJldj1jLl9ET01JbmRleGVySUQpO2ImJmIuX0RPTUluZGV4ZXJJRCYmKGEubmV4dD1iLl9ET01JbmRleGVySUQpfSl9fTtkLmlzSW5kZXhlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kb20uaGFzKGEpfTtkLnNob3dNaXNzaW5nTm9kZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt2b2lkIDA9PT1hJiYoYT0hMSk7YSYmSC5Ub29scy5tZWFzdXJlKCJTaG93IG1pc3Npbmcgbm9kZXMiLGZ1bmN0aW9uKCl7dmFyIGE9bS5jLmFsbChiLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7ay5JdGVyYWJsZVV0aWxzLmZhc3RJdGVyYXRlKGEsCmZ1bmN0aW9uKGEsYyl7ITE9PT1iLmRvbS5oYXMoYykmJnpbImRlZmF1bHQiXS5sb2coIk1pc3Npbmcgbm9kZSIsYyl9KTt6WyJkZWZhdWx0Il0ubG9nKCJJbmRleCBkaWZmOiBbRE9NOiAiK2EubGVuZ3RoKyJdIFtJTkRFWDogIitiLmRvbS5zaXplKyJdIFtESUZGOiAiKyhiLmRvbS5zaXplLWEubGVuZ3RoKSsiXSIpfSl9O2QuZ2V0Q3VycmVudEh0bWw9ZnVuY3Rpb24oKXt2YXIgYT1rLkl0ZXJhYmxlVXRpbHMubWFwKHRoaXMuZG9tLGZ1bmN0aW9uKGEpe3JldHVybiBhWzFdfSk7cmV0dXJuIGMuc2ltcGxpZnkoYSl9O2QuZ2V0RG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2N1bWVudH07ZC5zZXREb2N1bWVudD1mdW5jdGlvbihhKXt0aGlzLmRvY3VtZW50PWF9O24oKShjLFt7a2V5OiJIVE1MIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuX0RPTUluZGV4ZXJJbmZvfX0se2tleToiQk9EWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnQuYm9keS5fRE9NSW5kZXhlckluZm99fSwKe2tleToiaHRtbCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuc2ltcGxpZnkodGhpcy5pbml0aWFsRE9NKX19XSk7cmV0dXJuIGN9KGQuYSk7cCgpKGQsInNpbXBsaWZ5IixmdW5jdGlvbihhKXtyZXR1cm4gay5JdGVyYWJsZVV0aWxzLm1hcChhLGZ1bmN0aW9uKGEpe3ZhciBiPXtpZDphLmlkLG5hbWU6YS5uYW1lLnRvTG93ZXJDYXNlKCl9O2suSXRlcmFibGVVdGlscy5mb3JvZih0LGZ1bmN0aW9uKGMpe251bGwhPWFbY10mJihiW2NdPWFbY10pfSk7cmV0dXJuIGJ9KX0pO3AoKShkLCJ0b05vZGVzVHJlZSIsZnVuY3Rpb24oYSl7dmFyIGI9e307YT1rLkl0ZXJhYmxlVXRpbHMudG9BcnJheShhKTtrLkl0ZXJhYmxlVXRpbHMuZm9yb2YoYSxmdW5jdGlvbihhKXtpZihudWxsPT1iW2EuaWRdKXt2YXIgYz1lLk9iamVjdFV0aWxzLmNvbWJpbmUoYSk7YlthLmlkXT1jO251bGwhPWEucGFyZW50JiYoYT1iW2EucGFyZW50XSkmJihhLmNoaWxkcmVuPWEuY2hpbGRyZW58fFtdLGEuY2hpbGRyZW4ucHVzaChjKSl9fSk7CnJldHVybiBiWzBdfSk7Yi5hPWR9KS5jYWxsKHRoaXMsYygxMilbImRlZmF1bHQiXSxjKDgpWyJkZWZhdWx0Il0pfSxmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGEpe3ZhciBkPWMoNSksbD1jLm4oZCk7ZD1jKDE0KTt2YXIgZz1jLm4oZCk7ZD1jKDEpO3ZhciBuPWMubihkKSxyPWMoMyksaD1jKDEwKTtkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiKXt2b2lkIDA9PT1iJiYoYj1tKTtuKCkodGhpcywiX2NhbmNlbE1haW5IYW5kbGVyIixudWxsKTtuKCkodGhpcywic3Vic2NyaXB0aW9ucyIse30pO3RoaXMud2luZG93PWEuaXNJZnJhbWUoYik/Yi5wYXJlbnQ6YjtiLllhfHwoYi5ZYT17fSk7Yi5ZYS5fbWV0cmlrYXx8KGIuWWEuX21ldHJpa2E9e30pO2lmKGIuWWEuX21ldHJpa2EuX20pcmV0dXJuIGIuWWEuX21ldHJpa2EuX207dGhpcy50YXJnZXRXaW5kb3c9YjtiLllhLl9tZXRyaWthLl9tPXRoaXM7Yj10aGlzLnRhcmdldFdpbmRvdy5ZYS5fbWV0cmlrYTt2YXIgYz10aGlzLnRhcmdldFdpbmRvdy5ZYS5fbWV0cmlrYS5maXx8CiIiO2M9L155bS0vLnRlc3QoYyk/YzoieW0tIithLmd1aWQoKTtiLmZpPWM7dGhpcy5pZGVudGlmaWVyPXRoaXMudGFyZ2V0V2luZG93LllhLl9tZXRyaWthLmZpO3RoaXMuX2hhbmRsZU1lc3NhZ2VzKCk7cmV0dXJuIHRoaXN9dmFyIGM9Yi5wcm90b3R5cGU7Yy5zZW5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPXZvaWQgMD09PWI/e306YixrPWQuZGF0YSxnPWQub25SZXNwb25zZSxmPWQub25UaW1lb3V0LGw9ZC5yZWNlaXZlcixxPWQuYXdhaXRSZXNwb25zZSxuPWQudGltZW91dFRpbWUsaD1udWxsLHc9ITEscD0hMSxtLEY9W10sdD1EYXRlLm5vdygpOyJmdW5jdGlvbiI9PT10eXBlb2YgZyYmKHc9ITAsaD1hKyIuIit0aGlzLnRpbWVzdGFtcCx0aGlzLmxpc3Rlbk9uY2UoZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLGU9Yi5feW1fY2FuY2VsX3Jlc3BvbnNlLGQ9Yi5kYXRhO2lmKGIudHlwZT09PWgpZT9yWyJkZWZhdWx0Il0ud2FybigiU2VlbXMgbGlrZSB5b3UgZm9yZ290IHRvIGNhbGwgYGFuc3dlcmAgaW4gYSBtZXNzYWdlIGhhbmRsZXIuIFRoaXMgbWVzc2FnZSByZXF1aXJlcyByZXNwb25zZS4iKToKKHA9ITAsZyhkLHtvcmlnaW46YS5vcmlnaW4sbG9jYXRpb246Yy50YXJnZXRXaW5kb3cubG9jYXRpb24uaHJlZixpZGVudGlmaWVyOmMuaWRlbnRpZmllcn0pLGNsZWFyVGltZW91dChtKSk7ZWxzZSByZXR1cm4hMX0sdGhpcy50YXJnZXRXaW5kb3cpKTtoJiZGLnB1c2goInJlc3BvbnNlOiIraCk7KGZ1bmN0aW9uIEFhKCl7Yy5fc2VuZE1lc3NhZ2Uoe2RhdGE6ayx0eXBlOmEsdGFyZ2V0OmMuX2dldFJlY2VpdmVyKGwpLGZsYWdzOkZ9KTtpZihxJiZ3KXt2YXIgYj1uO3ZvaWQgMD09PWImJihiPTNFNCk7Yj1EYXRlLm5vdygpLXQ+PWI7ITE9PT1wJiYoYj8iZnVuY3Rpb24iPT09dHlwZW9mIGYmJmYoKTptPUkoQWEsMTAwKSl9fSkoKX07Yy5zdWJzY3JpYmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9jcmVhdGVTdWJzY3JpcHRpb25zR3JvdXAoYSk7aWYoITE9PT10aGlzLl9pc1N1YnNjcmliZWQoYyxiKSljLnB1c2goYik7ZWxzZSB0aHJvdyBFcnJvcigiVGhpcyBjYWxsYmFjayBoYXMgYWxyZWFkeSBiZWVuIHN1YnNjcmliZWQgdG8gIisKYSk7fTtjLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKGIsYyl7dmFyIGU9dGhpcy5fZ2V0U3ViY3JpYmVycyhiKTshMD09PXRoaXMuX2lzU3Vic2NyaWJlZChlLGMpJiZhLnJlbW92ZUZyb21BcnJheShlLGMpfTtjLnVuc3Vic2NyaWJlQWxsPWZ1bmN0aW9uKGEpe3RoaXMuX2dldFN1YmNyaWJlcnMoYSkuc3BsaWNlKDApfTtjLmxpc3Rlbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMuX2F0dGFjaEV2ZW50KCJtZXNzYWdlIixhKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYi5fcmVtb3ZlRXZlbnQoIm1lc3NhZ2UiLGEpfX07Yy5saXN0ZW5PbmNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztiPWJ8fHRoaXMud2luZG93O3ZhciBkPWZ1bmN0aW9uKGIpeyExIT09YShiKSYmaygpfSxrPWZ1bmN0aW9uKCl7Yy5fcmVtb3ZlRXZlbnQoIm1lc3NhZ2UiLGQsYil9O3RoaXMuX2F0dGFjaEV2ZW50KCJtZXNzYWdlIixkLGIpO3JldHVybiBrfTtjLl9hdHRhY2hFdmVudD1mdW5jdGlvbihhLGIsCmMpe3ZhciBlPXRoaXM7KGN8fHRoaXMud2luZG93KS5hZGRFdmVudExpc3RlbmVyKGEsYik7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3JlbW92ZUV2ZW50KGEsYil9fTtjLl9jcmVhdGVTdWJzY3JpcHRpb25zR3JvdXA9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2dldFN1YmNyaWJlcnMoYSl9O2MuX2lzU3Vic2NyaWJlZD1mdW5jdGlvbihhLGIpe3JldHVybiBiJiYwPD1hLmluZGV4T2YoYil9O2MuX3JlbW92ZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXsoY3x8dGhpcy53aW5kb3cpLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxiKX07Yy5fZ2V0U3ViY3JpYmVycz1mdW5jdGlvbihhKXt0aGlzLnN1YnNjcmlwdGlvbnNbYV18fCh0aGlzLnN1YnNjcmlwdGlvbnNbYV09W10pO3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbnNbYV19O2MuX3NlbmRNZXNzYWdlPWZ1bmN0aW9uKGEpe3ZhciBiPXZvaWQgMD09PWE/e306YTthPWIudGFyZ2V0O3ZhciBjPWIuZmxhZ3M7Yz12b2lkIDA9PT1jP1tdOgpjO2I9e195bV9tZXNzZW5nZXI6ITAsX3ltX2lkZW50aWZpZXI6dGhpcy5pZGVudGlmaWVyLHR5cGU6Yi50eXBlLGRhdGE6Yi5kYXRhfTtpZihjJiYwPGMubGVuZ3RoKWZvcih2YXIgZD0wLGc9Yy5sZW5ndGg7ZDxnO2QrKyl7dmFyIGY9Y1tkXS5zcGxpdCgiOiIpO2JbIl95bV8iK2ZbMF1dPWZbMV18fCEwfXRoaXMuX3Bvc3RNZXNzYWdlKGIsYSl9O2MuX3Bvc3RNZXNzYWdlPWZ1bmN0aW9uKGEsYil7KGJ8fHRoaXMud2luZG93KS5wb3N0TWVzc2FnZShhLCIqIil9O2MuX2dldFJlY2VpdmVyPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe2lmKGEucG9zdE1lc3NhZ2UpcmV0dXJuIGE7aWYoYS5jb250ZW50V2luZG93KXJldHVybiBhLmNvbnRlbnRXaW5kb3d9fTtjLl9oYW5kbGVNZXNzYWdlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYobnVsbD09dGhpcy5fY2FuY2VsTWFpbkhhbmRsZXIpe3ZhciBiPXRoaXMuX2F0dGFjaEV2ZW50KCJtZXNzYWdlIixmdW5jdGlvbihiKXt2YXIgYz1iLmRhdGF8fAp7fSxlPWMuX3ltX3Jlc3BvbnNlLGQ9Yy5feW1faWRlbnRpZmllcixrPWMuZGF0YSxnPWMudHlwZTtpZighMD09PWMuX3ltX21lc3NlbmdlciYmZyYmIS9cLihbMC05XSspJC8udGVzdChnKSl7Yz1hLl9nZXRTdWJjcmliZXJzKGcpfHxbXTt2YXIgZj1hLl9maW5kSWZyYW1lKGIuc291cmNlLGQpO2lmKG51bGw9PT1mKXJbImRlZmF1bHQiXS53YXJuKCJDYW5ub3QgZmluZCBpZnJhbWUgd2l0aCBpZCAiK2QpO2Vsc2V7dmFyIHE9e2lkOmQsc2VuZGVyOmYsZGF0YTprLHR5cGU6Z307Yj0wO2ZvcihkPWMubGVuZ3RoO2I8ZDtiKyspe3ZhciBuPWNbYl07ZT9mdW5jdGlvbigpe3ZhciBiPXt0eXBlOmUsdGFyZ2V0OmYuY29udGVudFdpbmRvd30sYz0yPT09bi5sZW5ndGgsZD1udWxsLGs9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGQpO2U9Yz9sKCkoe30sYix7ZGF0YTplfSk6bCgpKHt9LGIse2ZsYWdzOlsiY2FuY2VsX3Jlc3BvbnNlIl19KTthLl9zZW5kTWVzc2FnZShlKX07Yz8oZD1JKGZ1bmN0aW9uKCl7clsiZGVmYXVsdCJdLndhcm4oIlJlc3BvbnNlIGhhcyBiZWVuIGNhbmNlbGVkIGJlY2F1c2UgYGFuc3dlcmAgd2FzIG5ldmVyIGNhbGxlZCIpOwpjPSExO2soKX0sMkUzKSxuKHEsaykpOihuKHEpLGsoKSl9KCk6bihxKX19fX0sdGhpcy50YXJnZXRXaW5kb3cpO3RoaXMuX2NhbmNlbE1haW5IYW5kbGVyPWZ1bmN0aW9uKCl7YigpO2EuX2NhbmNlbE1haW5IYW5kbGVyPW51bGx9fX07Yy5fZmluZElmcmFtZT1mdW5jdGlvbihiLGMpe3ZhciBlPXRoaXMsZD1bXS5zbGljZS5jYWxsKHQucXVlcnlTZWxlY3RvckFsbCgiaWZyYW1lIikpO3JldHVybiBhLmZpbmQoZCxmdW5jdGlvbihhKXtpZihhLmNvbnRlbnRXaW5kb3c9PT1iKXJldHVybiEwO2lmKGguRE9NVXRpbHMuaXNCbGFua09yU2FtZU9yaWdpbklmcmFtZShhLGUud2luKSl0cnl7cmV0dXJuIGEuY29udGVudFdpbmRvdy5ZYS5fbWV0cmlrYS5maT09PWN9Y2F0Y2goeil7fXJldHVybiExfSl8fG51bGx9O2coKShiLFt7a2V5OiJ0aW1lc3RhbXAiLGdldDpmdW5jdGlvbigpe3JldHVybiBhLm5vdygpfX1dKTtyZXR1cm4gYn0oKTtiLmE9ZH0pLmNhbGwodGhpcyxjKDcpWyJkZWZhdWx0Il0pfSwKZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihhKXt2YXIgZD1jKDUpLGw9Yy5uKGQpLGc9YygzKTtkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGIsYyl7dm9pZCAwPT09YSYmKGE9bSk7dm9pZCAwPT09YiYmKGI9dCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIl9pbmRleGVyIix7dmFsdWU6Y30pO3RoaXMud2luZG93PWE7dGhpcy5kb2N1bWVudD1iO3RoaXMuaW5kZXhlcj10aGlzLl9pbmRleGVyO3RoaXMuc2VsZWN0aW9uPXRoaXMud2luZG93LmdldFNlbGVjdGlvbigpfXZhciBjPWIucHJvdG90eXBlO2MuZ2V0UGFnZVNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0U2VsZWN0aW9uKCk7aWYoYSl7dmFyIGI9dGhpcy5pbmRleGVyLmdldE5vZGVJZChhLnN0YXJ0Tm9kZSksYz10aGlzLmluZGV4ZXIuZ2V0Tm9kZUlkKGEuZW5kTm9kZSk7dGhpcy5yZXN0b3JlSW5kZXhlcigpO3JldHVybiBsKCkoe30sYSx7c3RhcnROb2RlOmIsZW5kTm9kZTpjfSl9fTtjLnJlc3RvcmVQYWdlU2VsZWN0aW9uPQpmdW5jdGlvbihiKXtpZihiKXt2YXIgYz10aGlzLmluZGV4ZXIuZmluZChiLnN0YXJ0Tm9kZSksZD10aGlzLmluZGV4ZXIuZmluZChiLmVuZE5vZGUpO3RoaXMucmVzdG9yZUluZGV4ZXIoKTthLmlzRE9NTm9kZShjKSYmYS5pc0RPTU5vZGUoZCkmJnRoaXMucmVzdG9yZVNlbGVjdGlvbihsKCkoe30sYix7c3RhcnROb2RlOmMsZW5kTm9kZTpkfSkpfX07Yy5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZigwPHRoaXMuc2VsZWN0aW9uLnJhbmdlQ291bnQpe3ZhciBhPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlQXQoMCl8fHRoaXMuZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm57c3RhcnQ6YS5zdGFydE9mZnNldCxlbmQ6YS5lbmRPZmZzZXQsc3RhcnROb2RlOmEuc3RhcnRDb250YWluZXIsZW5kTm9kZTphLmVuZENvbnRhaW5lcn19fTtjLnJlc3RvcmVTZWxlY3Rpb249ZnVuY3Rpb24oYSl7dmFyIGI9YS5zdGFydCxjPWEuZW5kLGQ9YS5zdGFydE5vZGU7YT1hLmVuZE5vZGU7dHJ5e3ZhciBrPQpkLm93bmVyRG9jdW1lbnQsZT1rLmRlZmF1bHRWaWV3LmdldFNlbGVjdGlvbigpLGY9ay5jcmVhdGVSYW5nZSgpO2Yuc2V0U3RhcnQoZCxiKTtmLnNldEVuZChhLGMpO2UucmVtb3ZlQWxsUmFuZ2VzKCk7ZS5hZGRSYW5nZShmKX1jYXRjaChIKXtnWyJkZWZhdWx0Il0ubG9nKHtzdGFydDp7c3RhcnROb2RlOmQsc3RhcnQ6Yn0sZW5kOntlbmROb2RlOmEsZW5kOmN9fSxIKX19O2MuZ2V0U2VsZWN0aW9uRm9yPWZ1bmN0aW9uKGEpe2lmKC90ZXh0fHNlYXJjaHxwYXNzd29yZHx0ZWx8dXJsLy50ZXN0KGEudHlwZSkpcmV0dXJue3N0YXJ0OmEuc2VsZWN0aW9uU3RhcnQsZW5kOmEuc2VsZWN0aW9uRW5kfX07Yy5yZXN0b3JlU2VsZWN0aW9uRm9yPWZ1bmN0aW9uKGEsYil7YiYmbnVsbCE9Yi5zdGFydCYmbnVsbCE9Yi5lbmQmJi90ZXh0fHNlYXJjaHxwYXNzd29yZHx0ZWx8dXJsLy50ZXN0KGEudHlwZSkmJihhLnNlbGVjdGlvblN0YXJ0PWIuc3RhcnQsYS5zZWxlY3Rpb25FbmQ9Yi5lbmQpfTsKYy5jbGVhcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTthLnNldFN0YXJ0KHRoaXMuZG9jdW1lbnQuYm9keSwwKTthLnNldEVuZCh0aGlzLmRvY3VtZW50LmJvZHksMCk7dGhpcy5zZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7dGhpcy5zZWxlY3Rpb24uYWRkUmFuZ2UoYSl9O2Muc2V0SW5kZXhlcj1mdW5jdGlvbihhKXthIT09dGhpcy5pbmRleGVyJiYodGhpcy5pbmRleGVyPWEpfTtjLnJlc3RvcmVJbmRleGVyPWZ1bmN0aW9uKCl7dGhpcy5pbmRleGVyPXRoaXMuX2luZGV4ZXJ9O3JldHVybiBifSgpO2IuYT1kfSkuY2FsbCh0aGlzLGMoNylbImRlZmF1bHQiXSl9LGZ1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oYSl7dmFyIGQ9Yyg0KSxsPWMoMyksZz17ZG9Ob3RUcmFjazpmdW5jdGlvbigpe3JldHVybiEwIT09bmF2aWdhdG9yLmRvTm90VHJhY2t9LGxvY2FsU3RvcmFnZTpmdW5jdGlvbigpe3RyeXtyZXR1cm4gZC5hLmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0ZXN0IiwKInZhbHVlIiksZC5hLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ0ZXN0IiksITB9Y2F0Y2gobil7cmV0dXJuITF9fSxkZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbigpe3RyeXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJ0ZXN0Iix7dmFsdWU6MTIzfSksITB9Y2F0Y2gobil7cmV0dXJuITF9fX07Yi5hPWZ1bmN0aW9uKCl7YS5mb3JpbihnLGZ1bmN0aW9uKGEpe2lmKCFnW2FdKCkpcmV0dXJuIGxbImRlZmF1bHQiXS5sb2coIkZlYXR1cmUgbm90IHN1cHBvcnRlZDogIithKSwhMX0pO3JldHVybiEwfSgpfSkuY2FsbCh0aGlzLGMoNylbImRlZmF1bHQiXSl9LGZ1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oYSl7dmFyIGQ9YygzMiksbD1jLm4oZCk7ZD1jKDEyKTt2YXIgZz1jKDApLG49YygxOSksaD1jKDIpLHc9e2l0ZW1zOntleHRuYW1lRmluZGVyOi9cLihjc3N8cG5nfGdpZnxzdmd8anBbZV0/Z3xtcDR8b2d2fHdlYm18d2VicHxtcDN8aWNvfHdvZmZ8dHRmfGVvdCkvZ2ksCnVybFBhcnRzRmluZGVyOi8oWz8uL10qKS9naSxhbmNob3JGaW5kZXI6L14oPyEjKS4qKFsjXSspL2csY3NzVVJMRmluZGVyOi91cmxcKFsnIl0/KCg/ISN8ZGF0YXxibG9iKSkoW14oKSciXSspWyciXT9cKS9nLFVSTEltcG9ydEZpbmRlcjovQGltcG9ydCBbJyJdKCg/ISN8ZGF0YXxibG9iKShbXigpJyJdKykpWyciXS9nLHByb3RvY29sTWlzc2luZzovXig/IWh0dHBbc10/KS4qLyxkYXRhdXJsVGVzdDovXihkYXRhfGJsb2IpOi8sc2VsZWN0b3JUZXN0Oi9eIyguKikvLHByb3RvY29sSW5jb21wbGV0ZTovXihodHRwW3NdPyk/KDo/XC9cLykvLHJlc291cmNlRmluZGVyOi97e1JFU09VUkNFX1VSTH19Lyxwcm94aWVkVVJMOi9wcm94eShbXj9dKilcP3VybD0vaSxyZWxhdGl2ZVBhdGg6L14oPyFcXCkvfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlbXNbYV19LHJlc2V0OmZ1bmN0aW9uKGEpe3RoaXMuaXRlbXNbYV0ubGFzdEluZGV4PTB9LHRlc3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz0KdGhpcy5nZXQoYSk7dGhpcy5yZXNldChhKTtyZXR1cm4gYy50ZXN0KGIpfSxyZXNldE11bHRpcGxlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9dGhpcyxjPWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheShjKSxkPTA7ZDxjO2QrKyllW2RdPWFyZ3VtZW50c1tkXTtlPShhPVtdKS5jb25jYXQuYXBwbHkoYSxlKTtnLkl0ZXJhYmxlVXRpbHMuZmFzdEl0ZXJhdGUoZSxmdW5jdGlvbihhLGMpe3JldHVybiBiLnJlc2V0KGMpfSl9LHJlc2V0QWxsOmZ1bmN0aW9uKCl7dGhpcy5yZXNldE11bHRpcGxlKGcuSXRlcmFibGVVdGlscy5rZXlzKHRoaXMuaXRlbXMpKX19LHA9e2xvY2F0aW9uOm51bGwscHJveHk6bnVsbCxiYXNlOm51bGwsd2luZG93OiJvYmplY3QiPT09dHlwZW9mIG0mJm18fG51bGwsZG9jdW1lbnQ6Im9iamVjdCI9PT10eXBlb2YgdCYmdHx8bnVsbH0sRj1uZXcgZFsiZGVmYXVsdCJdLHE9bmV3IGRbImRlZmF1bHQiXSxrPWZ1bmN0aW9uKGEpe3JldHVybiJzdHJpbmciPT09dHlwZW9mIGE/ClVSTC5wYXJzZT9VUkwucGFyc2UoYSk6bmV3IFVSTChhKTphfSxlPWZ1bmN0aW9uKGEpe3JldHVybiBxLmdldChhKXx8YX0sQj1mdW5jdGlvbigpe3ZhciBhPWsoZnVuY3Rpb24oKXtpZihwLmJhc2UpcmV0dXJuIHAuYmFzZTtpZihwLmRvY3VtZW50KXt2YXIgYT1wLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJhc2VbaHJlZl0iKTtyZXR1cm4gYT9hLmhyZWY6cC5sb2NhdGlvbn1yZXR1cm4gcC5sb2NhdGlvbn0oKSk7cmV0dXJuIHAubG9jYXRpb249e2hvc3Q6YS5ob3N0LHByb3RvY29sOmEucHJvdG9jb2wscGF0aDooYS5wYXRobmFtZXx8YS5wYXRofHwiIikucmVwbGFjZSgvW14vXSokLywiIil9fSxIPVtdO2Q9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoe3JlZ2V4cDp3LHBhdGNoQ1NTOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxlPSh2b2lkIDA9PT1iP3t9OmIpLmxvY2F0aW9uLGQ9dm9pZCAwPT09ZT9udWxsOmUsaz17Y3NzVVJMRmluZGVyOmZ1bmN0aW9uKGEpe3JldHVybiJ1cmwoJyIrCmErIicpIn0sVVJMSW1wb3J0RmluZGVyOmZ1bmN0aW9uKGEpe3JldHVybidAaW1wb3J0ICInK2ErJyInfX07WyJjc3NVUkxGaW5kZXIiLCJVUkxJbXBvcnRGaW5kZXIiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3JldHVybiB3LnJlc2V0KGEpfSk7cmV0dXJuWyJjc3NVUkxGaW5kZXIiLCJVUkxJbXBvcnRGaW5kZXIiXS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYy5wYXRjaFVSTFMoYSx3LmdldChiKSxkLGtbYl0pfSxhKX0scGF0Y2hVUkxTOmZ1bmN0aW9uKGEsYixjLGUpe3ZhciBkPXRoaXMsaz1hLGc9ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PXR5cGVvZiBhP2E6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9fShlKTsic3RyaW5nIj09PXR5cGVvZiBhJiZhLm1hdGNoKGIpJiYoaz1hLnJlcGxhY2UoYixmdW5jdGlvbigpe3ZhciBhPWQucGF0Y2hVUkwoMj49YXJndW1lbnRzLmxlbmd0aD9BOmFyZ3VtZW50c1syXSx7bG9jYXRpb246Y30pO3JldHVybiBnKGEpfSkpO3JldHVybiBrfSwKcGF0Y2hVUkw6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGU9dm9pZCAwPT09Yj97fTpiLGQ9ZS5sb2NhdGlvbixrPXZvaWQgMD09PWQ/bnVsbDpkO2U9ZS5zcGxpdDt2YXIgZz12b2lkIDA9PT1lPyExOmU7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgYT9mdW5jdGlvbihhKXtyZXR1cm4gZz9hLnNwbGl0KCIsIik6W2FdfShhKS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXt2YXIgZT1iLnRyaW0oKS5zcGxpdCgiICIpLGQ9ZVswXTtlPWUuc2xpY2UoMSk7ZD1jLmFwcGx5UGF0Y2goZCxrKTthLnB1c2goW2RdLmNvbmNhdChlKS5qb2luKCIgIikpO3JldHVybiBhfSxbXSkuam9pbigiLCAiKTphfSxhcHBseVBhdGNoOmZ1bmN0aW9uKGIsYyl7dmFyIGU9dy50ZXN0KCJyZWxhdGl2ZVBhdGgiLGIpLGQ9dGhpcy5nZXRSZWxhdGl2ZUxvY2F0aW9uKGMpLGs9ZC5ob3N0LGc9ZC5wcm90b2NvbDtkPWQucGF0aHx8ZC5wYXRobmFtZXx8IiI7ZT1lP3RoaXMucmVzb2x2ZVBhdGgoYixkKTpiO2lmKDA8PUguaW5kZXhPZihlKSlyZXR1cm4gZTsKaWYocS5oYXMoZSkpcmV0dXJuIEYuZ2V0KGUpO2Q9Yjt3LnJlc2V0QWxsKCk7aWYody50ZXN0KCJkYXRhdXJsVGVzdCIsYil8fHcudGVzdCgic2VsZWN0b3JUZXN0IixiKSlyZXR1cm4gYjt3LnRlc3QoInByb3RvY29sTWlzc2luZyIsYikmJihkPXcudGVzdCgicHJvdG9jb2xJbmNvbXBsZXRlIixiKT9iLnJlcGxhY2Uody5nZXQoInByb3RvY29sSW5jb21wbGV0ZSIpLGcrIi8vIik6ZysiLy8iKyhrKyIvIitlKS5yZXBsYWNlKC9cL1wvKy8sIi8iKSk7cS5zZXQoYixkKTsvaHR0cFtzXT8vLnRlc3QoZCk/KGs9ZCx3LnRlc3QoInByb3hpZWRVUkwiLGspP2Q9azoocC5pc1doaXRlbGlzdGVkPyhnPXAuaXNXaGl0ZWxpc3RlZChrKSkmJmEud2FybigiV2hpdGVsaXN0ZWQ6ICIrayk6Zz0hMSxkPWc/azooZz1wLnByb3h5KSYmdy50ZXN0KCJyZXNvdXJjZUZpbmRlciIsZyk/Zy5yZXBsYWNlKHcuZ2V0KCJyZXNvdXJjZUZpbmRlciIpLGVuY29kZVVSSUNvbXBvbmVudChrKSk6ayksSC5wdXNoKGQpLApGLnNldChiLGQpLGs9ZCk6KEgucHVzaChiKSxGLnNldChiLGQpLGs9Yik7cmV0dXJuIHAubm9FbmNvZGU/ZGVjb2RlVVJJQ29tcG9uZW50KGspOmt9LGdldFJlbGF0aXZlTG9jYXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9dy50ZXN0KCJyZWxhdGl2ZVBhdGgiLGEpO3JldHVybiBhP2I/KGI9bi5TdHJpbmdVdGlscy5wYXJzZVVSTChlKGEpKSxhPXRoaXMucmVzb2x2ZVBhdGgoYSx0aGlzLmxvY2F0aW9uLnByb3RvY29sKyIvLyIrdGhpcy5sb2NhdGlvbi5ob3N0Kyh0aGlzLmxvY2F0aW9uLnBhdGh8fHRoaXMubG9jYXRpb24ucGF0aG5hbWV8fCIiKSksYnx8aC5PYmplY3RVdGlscy5hc3NpZ24oe30sdGhpcy5sb2NhdGlvbix7cGF0aDphfSkpOmguT2JqZWN0VXRpbHMuYXNzaWduKHt9LHRoaXMubG9jYXRpb24se3BhdGg6YX0pOnRoaXMubG9jYXRpb259LHJlc29sdmVQYXRoOmZ1bmN0aW9uKGEsYil7aWYoL15cLy8udGVzdChhKXx8L15odHRwcz86XC9cLy8udGVzdChhKSlyZXR1cm4gYTsKZm9yKHZhciBjPShiLnJlcGxhY2UoL1wvW15cL10qJC8sIiIpKyIvIithKS5zcGxpdCgiLyIpLGU9W10sZD0wLGs9Yy5sZW5ndGg7ZDxrO2QrKyl7dmFyIGc9Y1tkXTsiIj09PWc/ZS5sZW5ndGg9MDoiLiIhPT1nJiYoIi4uIj09PWc/MDxlLmxlbmd0aCYmLS1lLmxlbmd0aDplLnB1c2goZykpfWUudW5zaGlmdCgiIik7cmV0dXJuIGUuam9pbigiLyIpfSxjb25maWd1cmU6ZnVuY3Rpb24oYSl7dm9pZCAwPT09YSYmKGE9e30pO3ZhciBiPWE7YT1iLnByb3h5V2hpdGVsaXN0O2I9bCgpKGIsWyJwcm94eVdoaXRlbGlzdCJdKTtwPWguT2JqZWN0VXRpbHMuYXNzaWduKHt9LHAsYik7aWYoYSl7YT1hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKCIqIiwiKC4qKSIpfSkuam9pbigifCIpO3ZhciBjPW5ldyBSZWdFeHAoIiIrYSwiaWciKTtwLmlzV2hpdGVsaXN0ZWQ9ZnVuY3Rpb24oYSl7Yy5sYXN0SW5kZXg9MDtyZXR1cm4gYy50ZXN0KGEpfX19LGlzVVJMTGlrZTpmdW5jdGlvbihhKXt3LnJlc2V0TXVsdGlwbGUoWyJkYXRhdXJsVGVzdCIsCiJzZWxlY3RvclRlc3QiLCJleHRuYW1lRmluZGVyIiwicHJvdG9jb2xNaXNzaW5nIl0pO3JldHVybiB3LnRlc3QoImRhdGF1cmxUZXN0IixhKXx8dy50ZXN0KCJzZWxlY3RvclRlc3QiLGEpPyExOncudGVzdCgiZXh0bmFtZUZpbmRlciIsYSkmJncudGVzdCgicHJvdG9jb2xNaXNzaW5nIixhKX0sY2xlYXJDYWNoZTpmdW5jdGlvbigpe0YuY2xlYXIoKTtxLmNsZWFyKCl9LGlzUHJveGllZFVSTDpmdW5jdGlvbihhKXtyZXR1cm4gYT93LnRlc3QoInByb3hpZWRVUkwiLGEpOiExfX0se2xvY2F0aW9uOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQigpfSxzZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuKHA9aC5PYmplY3RVdGlscy5hc3NpZ24oe30scCx7bG9jYXRpb246YX0pKS5sb2NhdGlvbn0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9LGNvbmZpZzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHB9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfX0pO2IuYT1kfSkuY2FsbCh0aGlzLApjKDMpWyJkZWZhdWx0Il0pfSxmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe3RyeXtpZighbS5zZXNzaW9uU3RvcmFnZSlyZXR1cm4gbnVsbDt2YXIgYT1tLnNlc3Npb25TdG9yYWdlLmdldEl0ZW0obCksYj0hMTt0cnl7dmFyIGM9bS5vcGVuZXI/bS5vcGVuZXIuc2Vzc2lvblN0b3JhZ2U6bnVsbDtiPSEhYyYmYT09PWMuZ2V0SXRlbShsKX1jYXRjaCh3KXtiPSEwfWlmKCFhfHxiKWE9Zi5Ub29scy5ndWlkKCksbS5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGwsYSk7cmV0dXJuIGF9Y2F0Y2godyl7cmV0dXJuIG51bGx9fWMuZChiLCJhIixmdW5jdGlvbigpe3JldHVybiBkfSk7dmFyIGY9YygxNiksbD0iX192d190YWJfZ3VpZCJ9LGZ1bmN0aW9uKGEsYixjKXthPWMoNDIpO3ZhciBkPWMoMzEpLGY9Yyg0MyksbD1jKDQ0KSxnPWMoNDUpLG49Yyg0NiksaD1jKDQ3KSx3PWMoNDgpLHA9Yyg0OSk7Yz1jKDUwKTtiLmE9e2lucHV0OmEuYSxrZXlzdHJva2VzOmZ1bmN0aW9uKCl7cmV0dXJue2NyZWF0ZTpmdW5jdGlvbihhKXthLmtleUNhcHR1cmUub25DYXB0dXJlKGZ1bmN0aW9uKGIpeyJPQkpFQ1QiPT09CnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZSYmL2ZsYXNoLy50ZXN0KHQuZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwoYj1hLl9nZXRFdmVudE9iamVjdCgia2V5c3Ryb2tlIiwtMSxiKSxhLl9wdWJsaXNoQWN0aW9ucyhiKSl9KX0sZGVzdHJveTpmdW5jdGlvbihhKXthLmtleUNhcHR1cmUuZGVzdHJveSgpfX19LG1lZGlhOmZ1bmN0aW9uKCl7cmV0dXJue2NyZWF0ZTpmdW5jdGlvbihhKXt2YXIgYj1uZXcgYS5NZWRpYVByb3h5LGM9YS5fdW5pdmVyc2FsSGFuZGxlcihmdW5jdGlvbihiKXtiPWEuX2dldEV2ZW50T2JqZWN0KCJtZWRpYVByb3BlcnR5IixiLm1lZGlhLHtwcm9wZXJ0eTpiLm5hbWUsdmFsdWU6Yi52YWx1ZX0pO2EuX3B1Ymxpc2hBY3Rpb25zKGIpfSksZT1hLl91bml2ZXJzYWxIYW5kbGVyKGZ1bmN0aW9uKGIpe2I9YS5fZ2V0RXZlbnRPYmplY3QoIm1lZGlhTWV0aG9kIixiLm1lZGlhLHttZXRob2Q6Yi5uYW1lLGFyZ3M6Yi5hcmdzfSk7YS5fcHVibGlzaEFjdGlvbnMoYil9KTsKYi5ldmVudHMub24oInNldHRlciIsYyk7Yi5ldmVudHMub24oIm1ldGhvZCIsZSk7Yi5tb2NrKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7YS5tZWRpYVByb3h5LnJlbW92ZSgpfX19LG11dGF0aW9uczpmdW5jdGlvbigpe3ZhciBhPW5ldyBkLmEsYj0wLGM9MCxlPWZ1bmN0aW9uKGUpe3ZhciBkPXRoaXMsaz1lLnN0YW1wLGc9ZS5jaGFuZ2VzO2EucHVzaChmdW5jdGlvbigpe2shPT1iJiYoYz0wKTtiPWs7ZC5fcHVibGlzaE11dGF0aW9ucyhkLl9nZXRNdXRhdGlvbk9iamVjdChnLGssYysrKSl9KX07cmV0dXJue2NyZWF0ZTpmdW5jdGlvbihhKXthLnN1bW1hcnkub24oIm11dGF0aW9uIixhLl91bml2ZXJzYWxIYW5kbGVyKGUpKX0sZGVzdHJveTpmdW5jdGlvbihiKXtiLnN1bW1hcnkub2ZmKCJtdXRhdGlvbiIpO2Euc3RhcnQoITApfX19LG1vdXNlOmYuYSxmb2N1czpsLmEscmVzaXplOmZ1bmN0aW9uKCl7dmFyIGEsYj1mdW5jdGlvbihhLGIpe3ZhciBjPTAsZT1mdW5jdGlvbigpe3ZhciBkPQpiLmdldFZhbHVlLmNhbGwodGhpcyxhKTtkJiYoMCE9PWQuc3RhbXA/dGhpcy5fcHVibGlzaEFjdGlvbnMoZCk6Mz5jJiYoSShlLDMwMCksYys9MSkpfS5iaW5kKHRoaXMpO2UoKX07cmV0dXJue2dldFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52aWV3cG9ydC5nZXRTaXplKDEpLGI9YS53aWR0aDthPWEuaGVpZ2h0O3ZhciBjPXRoaXMudmlld3BvcnQuc2Nyb2xsaW5nRWxlbWVudDtpZigwPGImJjA8YSlyZXR1cm4gdGhpcy5fZ2V0RXZlbnRPYmplY3QoInJlc2l6ZSIsMCx7d2lkdGg6YixoZWlnaHQ6YSxwYWdlV2lkdGg6Yy5zY3JvbGxXaWR0aCxwYWdlSGVpZ2h0OmMuc2Nyb2xsSGVpZ2h0fSl9LGNyZWF0ZTpmdW5jdGlvbihjKXthPWMuYXR0YWNoRXZlbnQoYy53aW5kb3csInJlc2l6ZSIsYy5fdW5pdmVyc2FsSGFuZGxlcihiLHtleHRyYTpbdGhpc119KSx7cGFzc2l2ZTohMH0pfSxkZXN0cm95OmZ1bmN0aW9uKGIpe2IucmVtb3ZlRXZlbnQoYSl9fX0sZGV2aWNlUm90YXRpb246Zy5hLApzY3JvbGw6bi5hLHNlbGVjdGlvbjpoLmEsdG91Y2g6dy5hLHpvb206cC5hLHdpbmRvdzpjLmEsc3Jjc2V0OmZ1bmN0aW9uKCl7cmV0dXJue2NyZWF0ZTpmdW5jdGlvbihhKXt0aGlzLm9uSW1hZ2VMb2FkPXRoaXMub25JbWFnZUxvYWQuYmluZCh0aGlzKTthLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHRoaXMub25JbWFnZUxvYWQsITApO3RoaXMucmVjb3JkZXI9YX0sb25JbWFnZUxvYWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLnJlY29yZGVyLmVycm9yTG9nZ2VyKGZ1bmN0aW9uKCl7dmFyIGM9YS50YXJnZXQ7IklNRyI9PT0oYy50YWdOYW1lfHxjLm5vZGVOYW1lKSYmYy5nZXRBdHRyaWJ1dGUoInNyY3NldCIpJiZiLnJlY29yZGVyLnN1bW1hcnkuY29sbGVjdE11dGF0aW9ucyh7c3VtbWFyeTpbe21ldGE6e25hbWU6InNyYyIsb2xkVmFsdWU6bnVsbCxuZXdWYWx1ZTpjLmN1cnJlbnRTcmN9LHRhcmdldDpjLHR5cGU6ImF0dHJpYnV0ZXMifV0sc3RhbXA6Yi5yZWNvcmRlci5zdGFtcH0pfSl9LApkZXN0cm95OmZ1bmN0aW9uKGEpe2EuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsdGhpcy5vbkltYWdlTG9hZCl9fX19fSxmdW5jdGlvbihhLGIsYyl7YT1jKDEzKTt2YXIgZD1jKDEyKSxmPWMoMTApLGw9e3JhbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKihiLWEpKSthfSxjaGFyRnJvbVJhbmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yYW5kKGEsYik7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoYyl9LGlzTGV0dGVyOmZ1bmN0aW9uKGEpe3JldHVybi9bXHdcdTA0MTAtXHUwNDJmXHUwNDMwLVx1MDQ0Zl0vLnRlc3QoYSl9LGlzTnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVybi9bMC05XS8udGVzdChhKX0saXNVcHBlckNhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1hLnRvVXBwZXJDYXNlKCl9LHJhbmRvbWl6ZVN0cmluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybihhfHwiIikuc3BsaXQoIiIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYi5pc051bWJlcihhKT8KYi5yYW5kKDAsOSk6Yi5pc0xldHRlcihhKT9iLmlzVXBwZXJDYXNlKGEpP2IuY2hhckZyb21SYW5nZSg2NSw5MCk6Yi5jaGFyRnJvbVJhbmdlKDk3LDEyMik6YX0pLmpvaW4oIiIpfSxnZXROb2RlQm91bmRzOmZ1bmN0aW9uKGEpe2lmKGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KXJldHVybiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBiPWEub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO2Iuc2VsZWN0Tm9kZShhKTthPWIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Yi5kZXRhY2goKTtyZXR1cm4gYX19LGc9YS5hLkRPTUluZGV4ZXIuSElEQUJMRV9OT0RFUyxuPW5ldyBkLktleVZhbHVlLGg9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKSxkPWwuZ2V0Tm9kZUJvdW5kcyhhKTtjLnNldEF0dHJpYnV0ZSgieW0tbm9kZS10eXBlIixhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO2EuYXR0cmlidXRlcyYmKGYuRE9NVXRpbHMuY29weUF0dHJpYnV0ZXMoYSwKYyksYy5jbGFzc05hbWU9YS5jbGFzc05hbWUpO2MuY2xhc3NOYW1lKz0iIHltLWhpZGRlbi1jb250ZW50IjtyZXR1cm57cGxhY2Vob2xkZXI6Yyxib3VuZHM6ZH19O2IuYT1mdW5jdGlvbihhKXtpZigwPD1nLmluZGV4T2YoYS5ub2RlTmFtZSkpe3ZhciBiPWYuRE9NVXRpbHMuaXNIaWRkZW5Db250ZW50KGEpO2lmKG4uaGFzKGEpKXJldHVybiBuLmdldChhKTtpZihiKXt2YXIgYz1hLm5vZGVOYW1lO2I9YS50ZXh0Q29udGVudDtpZigiI3RleHQiPT09YyYmYiYmIiI9PT1iLnRyaW0oKSlyZXR1cm4gYTtiPWZ1bmN0aW9uKGEpe3N3aXRjaChjKXtjYXNlICIjdGV4dCI6dmFyIGI9aChhLCJzcGFuIikucGxhY2Vob2xkZXI7Yi5zZXRBdHRyaWJ1dGUoInltLXRleHQtY29udGVudCIsbC5yYW5kb21pemVTdHJpbmcoYS50ZXh0Q29udGVudHx8IiIpKTtyZXR1cm4gYjtjYXNlICJJTUciOnJldHVybiBiPWgoYSwiaW1nIiksYT1iLnBsYWNlaG9sZGVyLGI9Yi5ib3VuZHMsYS5zcmM9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBUUFBQUMxSEF3Q0FBQUFDMGxFUVZSNDJtTmtZQUFBQUFZQUFqQ0IwQzhBQUFBQVNVVk9SSzVDWUlJXHgzZCIsCmEud2lkdGg9Yi53aWR0aCxhLmhlaWdodD1iLmhlaWdodCxhO2Nhc2UgIlRFWFRBUkVBIjpjYXNlICJJTlBVVCI6cmV0dXJuIGI9aChhLCJpbnB1dCIpLGE9Yi5wbGFjZWhvbGRlcixiPWIuYm91bmRzLGEuc3R5bGUud2lkdGg9Yi53aWR0aCsicHgiLGEuc3R5bGUuaGVpZ2h0PWIuaGVpZ2h0KyJweCIsYTtkZWZhdWx0OnJldHVybiBiPWgoYSwic3BhbiIpLGE9Yi5wbGFjZWhvbGRlcixiPWIuYm91bmRzLGEuc3R5bGUud2lkdGg9Yi53aWR0aCsicHgiLGEuc3R5bGUuaGVpZ2h0PWIuaGVpZ2h0KyJweCIsYX19KGEpO24uc2V0KGEsYik7cmV0dXJuIGJ9fXJldHVybiBhfX0sZnVuY3Rpb24oYSxiLGMpe2MucihiKTsoZnVuY3Rpb24oYSxmLGwpe2MuZChiLCJkZWZhdWx0IixmdW5jdGlvbigpe3JldHVybiByYX0pO3ZhciBkPWMoMzkpLG49Yy5uKGQpO2Q9YygyNCk7dmFyIGg9Yy5uKGQpO2Q9YygzNCk7dmFyIHc9Yy5uKGQpO2Q9Yyg1KTt2YXIgcD1jLm4oZCk7ZD1jKDE0KTt2YXIgRj1jLm4oZCk7CmQ9Yyg2KTt2YXIgcT1jLm4oZCk7ZD1jKDE4KTt2YXIgaz1jLm4oZCk7ZD1jKDEpO3ZhciBlPWMubihkKSxCPWMoMTYpLEg9YygyMyksej1jKDApLFo9YygxMyksdj1jKDMwKSx1PWMoNjMpLHg9Yyg1MSkseT1jKDUzKSxHPWMoMTcpLEU9Yyg1NCksQz1jKDU1KSxEPWMoNTYpLEs9Yyg1Nyk7ZD1jKDE1KTt2YXIgTT1jKDI2KSxKPWMoNTgpLE49Yyg1OSksb2E9Yyg2MCksc2E9YygyMSksVD1jKDYxKSxQPWMoMTEpLGZhPWMoNjIpLGNhPWMoMjgpLFU9YygxMCksUT1jKDM3KSxpYT1jKDcpLGhhPWMoMiksWD1jKDMpLFI9Yyg2NCksVj17fSxTPXtjb3VudGVySWQ6bnVsbCxtYXhTaXplOjUyNDI4ODAwLG1heER1cmF0aW9uOjg2NEU1LGNvbXByZXNzaW9uOiExLGlzRVU6ITEscmVjb3JkaW5nOntrZXlzTW9kZToiZXhwbGljaXQifX0sYWE9e2Rpc2FibGVJbmRleDohMX0sWT0hMD09PW9hLmEsTz1pYS5JU19JTkNPR05JVE98fGlhLkRPX05PVF9UUkFDS3x8ImRpc2FibGUiPT09Y2EuQnJvd3NlclV0aWxzLm1ldGEoIndlYnZpc29yIiksCkZhPW0hPT1tLnRvcDttLl9fWU1fV1ZfUkVDT1JEQUJMRV9fPT09QSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG0sIl9fWU1fV1ZfUkVDT1JEQUJMRV9fIix7dmFsdWU6ITB9KTt2YXIgcmE9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhjLGQpe3ZvaWQgMD09PWMmJihjPXt9KTt2b2lkIDA9PT1kJiYoZD17fSk7dmFyIGs9Yi5jYWxsKHRoaXMpfHx0aGlzO2UoKShxKCkoayksIm1pZGRsZXdhcmVzIixbXSk7ZSgpKHEoKShrKSwib3B0aW9ucyIsaGEuT2JqZWN0VXRpbHMuYXNzaWduKHt9LFMpKTtlKCkocSgpKGspLCJpbml0T3B0aW9ucyIsaGEuT2JqZWN0VXRpbHMuYXNzaWduKHt9LGFhKSk7ZSgpKHEoKShrKSwiaWZyYW1lcyIsW10pO2UoKShxKCkoayksIndhaXRpbmdCb2R5IixudWxsKTtlKCkocSgpKGspLCJhYmxlVG9TdGFydCIsITEpO2UoKShxKCkoayksIl9pZGVudGlmaWVyIixCLlRvb2xzLmd1aWQoKSk7ZSgpKHEoKShrKSwib2Zmc2V0cyIse2xlZnQ6MCx0b3A6MH0pO2UoKShxKCkoayksCiJmYXRhbEVycm9yIiwhMSk7ZSgpKHEoKShrKSwiY2FwdG9ycyIsbmV3IGEpO2UoKShxKCkoayksInByZXZNdXRhdGlvblN0YW1wIixudWxsKTtlKCkocSgpKGspLCJwcmV2TXV0YXRpb25PcmRlcmluZ0lEIiwwKTtlKCkocSgpKGspLCJpbml0ZWQiLCExKTtlKCkocSgpKGspLCJzdGFydE9wdGlvbnMiLG51bGwpO2UoKShxKCkoayksInByZWNhY2hlIixbXSk7ZSgpKHEoKShrKSwicGF1c2VkIiwhMCk7ZSgpKHEoKShrKSwic3RhcnRlZCIsITEpO2UoKShxKCkoayksInN0b3BwZWQiLCExKTtlKCkocSgpKGspLCJzbmFwc2hvdFNlbnQiLCExKTtlKCkocSgpKGspLCJldmVudHNMaXN0IixbImVycm9yIl0pO2UoKShxKCkoayksIl9zbGF2ZU1lc3NlbmdlclJlZ2lzdHJhdGlvbkhhbmRsZXIiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMsZSl7dmFyIGQ9Yy5vZmZzZXRzLGc9Yy5jb3VudGVySWQsZj1lLm9yaWdpbjt0cnl7dmFyIGw9cCgpKHt9LGsub3B0aW9ucyksQj1mLnNwbGl0KCIvLyIpLnBvcCgpLApuPWc9PT1sLmNvdW50ZXJJZCxxPUI9PT1tLmxvY2F0aW9uLmhvc3QsaD0tMSE9PShsLnRydXN0ZWREb21haW5zfHxbXSkuaW5kZXhPZihCKTtxfHxoJiZuPyhrLm9mZnNldHM9ZCxrLnNlbmRlci51c2VSaWdodChmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEsYz17fTt6Lkl0ZXJhYmxlVXRpbHMuZmFzdEl0ZXJhdGUoWyJwYWdlIiwiZXZlbnRzIiwibXV0YXRpb25zIl0sZnVuY3Rpb24oYSxlKXtiW2VdJiYoY1tlXT1iW2VdKX0pO2subWVzc2VuZ2VyLnNlbmQoImlmcmFtZV9kYXRhIix7ZGF0YTpjfSl9KSk6WFsiZGVmYXVsdCJdLndhcm4oIkNvdW50ZXIgb3IgZG9tYWluIG1pc21hdGNoLCBpZnJhbWUgd2lsbCBiZSByZWNvcmRlZCBhcyBtYXN0ZXIgd2luZG93Iik7cmV0dXJuIGEoKX1jYXRjaChVYil7YihVYil9fX0pO2UoKShxKCkoayksIl9zZW5kRU9GIixILkZ1bmN0aW9uVXRpbHMub25jZShmdW5jdGlvbigpe2lmKCFrLl9FT0ZfU0VOVCl7dmFyIGE9ay5fZ2V0RXZlbnRPYmplY3QoImVvZiIpOwprLl9zYXZlQ2hhbmdlcyh7ZXZlbnRzOlthXX0pO2suX0VPRl9TRU5UPSEwfX0pKTtrLl9jb250ZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPXt9O3JldHVybiBhPyhiLndpbmRvdz1hLndpbmRvd3x8bSxiLmRvY3VtZW50PWEuZG9jdW1lbnR8fHQsYik6e3dpbmRvdzptLGRvY3VtZW50OnR9fShkKTtrLnNlbmRlcj1uZXcgeS5hKGsubWlkZGxld2FyZXMuc3BsaWNlKDApKTtrLmNhcHRvcnM9bmV3IGE7ay5fdGltZXI9US5UaW1lVXRpbHMudGltZXIoKTtrLl90YWJJZD1PYmplY3QoZmEuYSkoKTtrLl9jb25maWdPcHRpb25zPXAoKSh7fSxjKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoay53aW5kb3csIl9fV1ZfRU5BQkxFRF9fIix7dmFsdWU6ITB9KTtyZXR1cm4hWXx8Tz9xKCkoayl8fHEoKShrKTprfWsoKShjLGIpO3ZhciBkPWMucHJvdG90eXBlO2QuY29uZmlndXJlPWZ1bmN0aW9uKCl7dmFyIGE9aGEuT2JqZWN0VXRpbHMuY29tYmluZSh7fSxwKCkoe30sUyx0aGlzLl9jb25maWdPcHRpb25zKSk7CnRoaXMuZnJhbWVzPVtdO3RoaXMudmlld3BvcnQ9Y2EuQnJvd3NlclV0aWxzLnZpZXdwb3J0R2V0dGVyKHRoaXMuZG9jdW1lbnQpO3RoaXMuem9vbUxldmVsPXRoaXMudmlld3BvcnQuem9vbUxldmVsO3RoaXMucHJldk11dGF0aW9uU3RhbXA9bnVsbDt0aGlzLnByZXZNdXRhdGlvbk9yZGVyaW5nSUQ9MDt0aGlzLmFibGVUb1N0YXJ0PXRoaXMuaW5pdGVkPSExO3RoaXMuc3RhcnRPcHRpb25zPXRoaXMuaW5pdEV4Y2VwdGlvbj1udWxsO3RoaXMucHJlY2FjaGU9W107dGhpcy5vcHRpb25zPXAoKSh7fSxhKTt0aGlzLmNhbnZhc1Byb3h5PXYuYTt0aGlzLk1lZGlhUHJveHk9Qy5hO1AuYy5hZGRBdHRyaWJ1dGVzRmlsdGVyKGZ1bmN0aW9uKGIsYyxlKXtpZihHLmEuaXNWYWxpZE5vZGUoYikmJiJ2YWx1ZSI9PT1jKXJldHVybiBiPUcuYS52YWxpZGF0ZShiLGEpLGM9Yi5mb3JjZVJlY29yZCxiLmlzQWxsb3dlZHx8Yz9lOkcuYS5lbmNvZGUoZSl9KX07ZC5hdHRhY2hFdmVudD1mdW5jdGlvbigpe2Zvcih2YXIgYSwKYj1hcmd1bWVudHMubGVuZ3RoLGM9QXJyYXkoYiksZT0wO2U8YjtlKyspY1tlXT1hcmd1bWVudHNbZV07TS5hLm9uLmFwcGx5KE0uYSwoYT1bXSkuY29uY2F0LmFwcGx5KGEsYykpO3JldHVybiBjfTtkLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9YXJndW1lbnRzLmxlbmd0aCxjPUFycmF5KGIpLGU9MDtlPGI7ZSsrKWNbZV09YXJndW1lbnRzW2VdO00uYS5vZmYuYXBwbHkoTS5hLChhPVtdKS5jb25jYXQuYXBwbHkoYSxjKSk7cmV0dXJuIGN9O2RbImNvbnRpbnVlIl09ZnVuY3Rpb24oKXtPfHwodGhpcy5wYXVzZWQ9ITEpfTtkLmZpbmROb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluZGV4ZXIuZ2V0Tm9kZUlkKGEpfTtkLnBhdXNlPWZ1bmN0aW9uKCl7T3x8KHRoaXMucGF1c2VkPSEwKX07ZC5taWRkbGV3YXJlPWZ1bmN0aW9uKGEpe3RoaXMuc2VuZGVyP3RoaXMuc2VuZGVyLnVzZShhKTp0aGlzLm1pZGRsZXdhcmVzLnB1c2goYSk7cmV0dXJuIHRoaXN9O2QuaW5pdD0KZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt2b2lkIDA9PT1hJiYoYT17fSk7dGhpcy5pbml0T3B0aW9ucz1oYS5PYmplY3RVdGlscy5hc3NpZ24oe30sdGhpcy5pbml0T3B0aW9ucyxhfHx7fSk7dGhpcy5lcnJvckxvZ2dlcih3KCkoaC5hLm1hcmsoZnVuY3Rpb24gcWEoKXtyZXR1cm4gaC5hLndyYXAoZnVuY3Rpb24oYSl7Zm9yKDs7KXN3aXRjaChhLnByZXY9YS5uZXh0KXtjYXNlIDA6aWYoWSYmIU8pe2EubmV4dD0yO2JyZWFrfXJldHVybiBhLmFicnVwdCgicmV0dXJuIik7Y2FzZSAyOnJldHVybiBhLnByZXY9MixhLm5leHQ9NSxPYmplY3QoRC5hKShiLmRvY3VtZW50KTtjYXNlIDU6Yi53YWl0aW5nRG9jdW1lbnQ9YS5zZW50O2EubmV4dD0xMTticmVhaztjYXNlIDg6YS5wcmV2PTgsYS50MD1hWyJjYXRjaCJdKDIpLGIuX19oYW5kbGVEb2N1bWVudExvYWRFcnJvcihhLnQwKTtjYXNlIDExOnJldHVybiBhLm5leHQ9MTMsYi5fX2hhbmRsZURvY3VtZW50TG9hZCgpO2Nhc2UgMTM6Y2FzZSAiZW5kIjpyZXR1cm4gYS5zdG9wKCl9fSwKcWEsbnVsbCxbWzIsOF1dKX0pKSwiaW5pdCIpWyJjYXRjaCJdKGZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChiLmNhbmNlbElmTm90U3RhcnRlZCk7Yi53YWl0aW5nRG9jdW1lbnQ9ITE7Yi5mYXRhbCgiaW5pdC1mYWlsZWQiLGEpO2Iuc2VuZEVycm9ycz1JKGZ1bmN0aW9uKCl7Yi5zdG9wKCEwLCExKX0sM0U0KX0pfTtkLl9faGFuZGxlRG9jdW1lbnRMb2FkRXJyb3I9ZnVuY3Rpb24oYSl7dmFyIGI9YTsidGltZW91dCI9PT1hLm1lc3NhZ2UmJihiPUVycm9yKCJObyBceDNjYm9keVx4M2UgZm91bmQuIENhbid0IGNvbnRpbnVlIikpO3RoaXMuZmF0YWwoImluaXQtZmFpbGVkIixiKX07ZC5fX2hhbmRsZURvY3VtZW50TG9hZD1mdW5jdGlvbigpe3ZhciBhPXcoKShoLmEubWFyayhmdW5jdGlvbiBPYSgpe3ZhciBhPXRoaXM7cmV0dXJuIGguYS53cmFwKGZ1bmN0aW9uKGIpe2Zvcig7Oylzd2l0Y2goYi5wcmV2PWIubmV4dCl7Y2FzZSAwOnJldHVybiB0aGlzLmNvbmZpZ3VyZSgpLHRoaXMuX19pbml0SW5kZXhlcigpLAp0aGlzLl9faW5pdEV2ZW50SGFuZGxlcnMoKSxiLm5leHQ9NSx0aGlzLl9pbml0TWVzc2VuZ2VyKCk7Y2FzZSA1OnRoaXMud2FpdGluZ0RvY3VtZW50PSExLHRoaXMuYWJsZVRvU3RhcnQ9ITAsdGhpcy5jYW5jZWxJZk5vdFN0YXJ0ZWQ9SShmdW5jdGlvbigpe2Euc3RvcCghMCwhMSl9LDNFNCksdGhpcy5lbWl0KCJyZWFkeSIpLHRoaXMuaW5pdGVkPSEwLHRoaXMuc3RhcnRPcHRpb25zJiZ0aGlzLnN0YXJ0KHRoaXMuc3RhcnRPcHRpb25zKTtjYXNlIDExOmNhc2UgImVuZCI6cmV0dXJuIGIuc3RvcCgpfX0sT2EsdGhpcyl9KSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKTtkLl9faW5pdEluZGV4ZXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuaW5kZXhlcj1uZXcgSy5hKHRoaXMuZG9jdW1lbnQse2Rpc2FibGVkOnRoaXMuaW5pdE9wdGlvbnMuZGlzYWJsZUluZGV4fSx0aGlzKTtpZihwKCkoe30sdGhpcy5vcHRpb25zKS5jaGlsZElmcmFtZSl0aGlzLmluZGV4ZXIub24oIm5vZGUiLApmdW5jdGlvbihiKXtyZXR1cm4gYS5jb25uZWN0U2xhdmVSZWNvcmRlcihiKX0pO3RoaXMuaW5kZXhlci51c2UoUi5hKTt0aGlzLmluZGV4ZXIuaW5pdGlhbEluZGV4KCl9O2QuX19pbml0RXZlbnRIYW5kbGVycz1mdW5jdGlvbigpe3RoaXMuc3VtbWFyeT1uZXcgeC5hKHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMuaW5kZXhlcix0aGlzKTt0aGlzLnNlbGVjdGlvbj1uZXcgTi5hKG0sdGhpcy5kb2N1bWVudCx0aGlzLmluZGV4ZXIpO3RoaXMua2V5Q2FwdHVyZT1uZXcgRS5hKCJib2R5Iix0aGlzKTt0aGlzLmluaXRPcHRpb25zLmRpc2FibGVNdXRhdGlvbnN8fHRoaXMuc3VtbWFyeS5pbml0T2JzZXJ2ZXIoKTt0aGlzLl9pbml0Q2FwdG9ycygpO3RoaXMuX2NyZWF0ZVNuYXBzaG90KCl9O2QuY29ubmVjdFNsYXZlUmVjb3JkZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZigiSUZSQU1FIj09PWEubm9kZU5hbWUmJmEubmFtZSE9PVouYS5OQVRJVkVfSUZSQU1FX05BTUUmJgpVLkRPTVV0aWxzLmlzQmxhbmtPclNhbWVPcmlnaW5JZnJhbWUoYSx0aGlzLndpbmRvdykpe3RyeXt2YXIgYz0wPGEuY29udGVudERvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aCYmImNvbXBsZXRlIj09PWEuY29udGVudERvY3VtZW50LnJlYWR5U3RhdGV9Y2F0Y2goTGEpe2M9ITB9dmFyIGU9ZnVuY3Rpb24gZ2IoYSl7dmFyIGM9YS5jb250ZW50V2luZG93LGU9YS5jb250ZW50RG9jdW1lbnQ7WFsiZGVmYXVsdCJdLmxvZygiY3JlYXRpbmcgcmVjb3JkZXIiKTtpZihjJiZlKXtpZighMD09PWMuX19ZTV9XVl9SRUNPUkRBQkxFX18pcmV0dXJuIFhbImRlZmF1bHQiXS53YXJuKCJJZnJhbWUgaGFzIGludGVybmFsIGNvdW50ZXIgaW5zdGFsbGVkIik7aWYoITA9PT1jLl9fWU1fUkVDT1JESU5HX18pcmV0dXJuIFhbImRlZmF1bHQiXS53YXJuKCJXZSdyZSBhbHJlYWR5IHJlY29yZGluZyB0aGlzIGlmcmFtZSIsYSk7YS5jb250ZW50V2luZG93Ll9fWU1fUkVDT1JESU5HX189CiEwO2M9Yi5fY3JlYXRlSW5zdGFuY2UoYi5fY29uZmlnT3B0aW9ucyx7d2luZG93OmMsZG9jdW1lbnQ6ZX0pO2MuaW5pdChiLmluaXRPcHRpb25zKTtjLnN0YXJ0KGIuc3RhcnRPcHRpb25zKTtyZXR1cm4gWFsiZGVmYXVsdCJdLmluZm8oIlJlY29yZGVyIGluamVjdGVkIGludG8gdGhlIGlmcmFtZSIsYSl9SShmdW5jdGlvbigpe3JldHVybiBnYihhKX0sMTApfSxkPWZ1bmN0aW9uKGMpe2IuZXJyb3JMb2dnZXIoZnVuY3Rpb24oKXtpZihjJiZjLnBhcmVudEVsZW1lbnQmJmMuY29udGVudERvY3VtZW50JiZVLkRPTVV0aWxzLmlzQmxhbmtPclNhbWVPcmlnaW5JZnJhbWUoYSxiLndpbmRvdykmJiEwIT09Yy5jb250ZW50V2luZG93Ll9fV1ZfRU5BQkxFRF9fKXRyeXtlKGMpfWNhdGNoKGdiKXtYWyJkZWZhdWx0Il0uZXJyb3IoZ2IpLFhbImRlZmF1bHQiXS53YXJuKCJQcm9iYWJseSB0aGlzIGlmcmFtZSBpcyBjcm9zcy1vcmlnaW4iKX19LCJpZkxvIil9O3RoaXMuYXR0YWNoRXZlbnQoYSwKImxvYWQiLGZ1bmN0aW9uKCl7ZChhKX0se2NhcHR1cmU6ITAscGFzc2l2ZTohMH0pO2MmJmQoYSl9fTtkLnN0YXJ0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dm9pZCAwPT09YSYmKGE9e30pO3RoaXMuZXJyb3JMb2dnZXIoZnVuY3Rpb24oKXtpZihiLmFibGVUb1N0YXJ0KWlmKCExPT09Yi5mYXRhbEVycm9yKWlmKCFiLmluaXRlZCliLnNhdmVQYWdlU25hcHNob3QoKSxiLmZhdGFsKCJpbml0LWZhaWxlZCIsRXJyb3IoIlVua25vd24gZXJyb3IiKSk7ZWxzZXtpZihZJiYhTyl7Y2xlYXJUaW1lb3V0KGIuY2FuY2VsSWZOb3RTdGFydGVkKTt2YXIgYz0oYXx8e30pLmZvcm1zO2Iub3B0aW9ucy5yZWNvcmRpbmc9aGEuT2JqZWN0VXRpbHMuY29tYmluZSh7fSxTLnJlY29yZGluZyx7a2V5c01vZGU6dm9pZCAwPT09Y3x8Yz8icmVndWxhciI6ImV4cGxpY2l0In0pO2Iuc3RhcnQ9SC5GdW5jdGlvblV0aWxzLm5vb3AoKTtiLnN0YXJ0ZWQ9ITA7Yi5zZW5kU25hcHNob3QoKS50aGVuKGZ1bmN0aW9uKGEpe2EmJgooYi5fc2VuZEluaXRpYWxFdmVudHMoKSxiLl9zZW5kUHJlQ2FjaGVkRGF0YSgpLGIuX3RpbWVyLnN0YXJ0KCkpfSlbImNhdGNoIl0oZnVuY3Rpb24oYSl7Yi5mYXRhbCgicmVjb3JkaW5nLWludGVycnVwdGVkIixhKTtiLnN0YXJ0KCl9KTtiWyJjb250aW51ZSJdKCl9fWVsc2UgYi5zdG9wKCEwLCEwKTtlbHNlKGZ1bmN0aW9uIFcoKXtiLmFibGVUb1N0YXJ0P2Iuc3RhcnQoYSk6SShXLDUwKX0pKCl9LCJzdGFydCIpfTtkLnN0b3A9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3ZvaWQgMD09PWEmJihhPSExKTt2b2lkIDA9PT1iJiYoYj0hMCk7WSYmIU8mJighMSE9PXRoaXMuc3RhcnRlZCYmdGhpcy5pbml0ZWR8fGEpJiYhMCE9PXRoaXMuc3RvcHBlZCYmKGNsZWFyVGltZW91dCh0aGlzLmNhbmNlbElmTm90U3RhcnRlZCksY2xlYXJUaW1lb3V0KHRoaXMuc2VuZEVycm9ycyksdGhpcy5jYXB0b3JzLmZvckVhY2goZnVuY3Rpb24oYSl7YSYmYS5oYXNPd25Qcm9wZXJ0eSgiZGVzdHJveSIpJiYKYS5kZXN0cm95KGMpfSksdGhpcy5pbmRleGVyJiZ0aGlzLmluZGV4ZXIuY2xlYXIoKSx0aGlzLmNhcHRvcnMmJnRoaXMuY2FwdG9ycy5jbGVhcigpLHNhLmEuaW52b2tlQWxsKHRoaXMpLHRoaXMuc3VtbWFyeSYmdGhpcy5zdW1tYXJ5LmRlc3Ryb3koKSx0aGlzLmtleUNhcHR1cmUmJnRoaXMua2V5Q2FwdHVyZS5kZXN0cm95KCksYj8odGhpcy5fc2VuZEVPRigpLCEwPT09dGhpcy5mYXRhbEVycm9yJiZ0aGlzLl9zZW5kUHJlQ2FjaGVkRGF0YSh7Zm9yY2U6ITB9KSx0aGlzLmVtaXQoInN0b3AiKSk6YSYmdGhpcy5lbWl0KCJjbG9zZSIpLHRoaXMuc3RhcnRlZD0hMSx0aGlzLnN0b3BwZWQ9ITApfTtkLmZhdGFsPWZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9bnVsbCk7WFsiZGVmYXVsdCJdLmVycm9yKGIpO3RoaXMuZmF0YWw9SC5GdW5jdGlvblV0aWxzLm5vb3AoKTtiPWJ8fHttZXNzYWdlOiJVbmtub3duIGV4Y2VwdGlvbiIsc3RhY2s6Ik5vIHN0YWNrIHByb3ZpZGVkIn07dGhpcy5mYXRhbEVycm9yfHwKKHRoaXMuZmF0YWxFcnJvcj0hMCx0aGlzLnNhdmVQYWdlU25hcHNob3QoKSx0aGlzLnNlbmRDdXN0b21FdmVudCgiZmF0YWxFcnJvciIse2NvZGU6YSxleGNlcHRpb246Yi5tZXNzYWdlLHN0YWNrOmIuc3RhY2t9KSx0aGlzLnN0b3AoITAsITApKX07ZC5zZXRVUkxQcm94eT1mdW5jdGlvbihhKXtULmEucHJveHk9ZnVuY3Rpb24oKXtpZigic3RyaW5nIj09PXR5cGVvZiBhKXJldHVybiBhO2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgYSlyZXR1cm4gYS5jYWxsKHRoaXMpfShhKX07ZC5zZW5kQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9nZXRFdmVudE9iamVjdChhLG51bGwsYik7dGhpcy5fc2F2ZUNoYW5nZXMoe2V2ZW50czpbY119KX07ZC5faW5pdENhcHRvcnM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMua2V5Q2FwdHVyZS5hZGRFbGVtZW50RmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiJJTlBVVCI9PT1hLm5vZGVOYW1lPyJwYXNzd29yZCIhPT1hLnR5cGUmJgohMT09PS95bS1kaXNhYmxlLWtleXMvLnRlc3QoYS5jbGFzc05hbWUpOiEwfSk7dmFyIGI9aGEuT2JqZWN0VXRpbHMuY29tYmluZSh7fSxaLmEuY2FwdG9ycyxGYT9aLmEuaWZyYW1lQ2FwdG9yczpudWxsKTt6Lkl0ZXJhYmxlVXRpbHMuZm9yaW4oYixmdW5jdGlvbihjKXtpZighMD09PWJbY10pe3ZhciBlPXUuYVtjXSgpO2EuZXJyb3JMb2dnZXIoZnVuY3Rpb24oKXtyZXR1cm4gZS5jcmVhdGUoYSl9LCJpbml0LWNhcHRvci0iK2MpO2EuY2FwdG9ycy5zZXQoYyxlKX19KTtNLmEub24odGhpcy53aW5kb3csImJlZm9yZXVubG9hZCIsdGhpcy5zdG9wLmJpbmQodGhpcykpfTtkLnRocm93RXJyb3I9ZnVuY3Rpb24oYSxiKXt2b2lkIDA9PT1iJiYoYj0icmVjb3JkZXIiKTt0aGlzLmVtaXQoImVycm9yIix7ZXJyb3I6YSxuYW1lc3BhY2U6InJlY29yZGVyOiIrYn0pfTtkLmVycm9yTG9nZ2VyPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt2b2lkIDA9PT1iJiYoYj0icmVjb3JkZXIiKTt0cnl7dmFyIGU9CmEoKTtyZXR1cm4gZSBpbnN0YW5jZW9mIGY/ZVsiY2F0Y2giXShmdW5jdGlvbihhKXtjLnRocm93RXJyb3IoYSxiKyI6YXN5bmMiKX0pOmV9Y2F0Y2goVyl7dGhpcy50aHJvd0Vycm9yKFcsYil9fTtkLl9ibG9ja1VwY29taW5nQ2FwdG9yPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt2b2lkIDA9PT1iJiYoYj1JbmZpbml0eSk7YSYmKHRoaXMuX2Jsb2NrZWRDYXB0b3JzPXRoaXMuX2Jsb2NrZWRDYXB0b3JzfHxuZXcgbCx0aGlzLl9ibG9ja2VkQ2FwdG9ycy5hZGQoYSksSW5maW5pdHk+YiYmSShmdW5jdGlvbigpe3JldHVybiBjLl9yZWxlYXNlQ2FwdG9yKGEpfSxiKSl9O2QuX3JlbGVhc2VDYXB0b3I9ZnVuY3Rpb24oYSl7YSYmdGhpcy5fYmxvY2tlZENhcHRvcnMuaGFzKGEpJiZ0aGlzLl9ibG9ja2VkQ2FwdG9yc1siZGVsZXRlIl0oYSl9O2QuX2V4ZWN1dGVDYXB0b3I9ZnVuY3Rpb24oYSxiKXthJiYiZnVuY3Rpb24iPT09dHlwZW9mIGImJih0aGlzLl9ibG9ja2VkQ2FwdG9ycyYmdGhpcy5fYmxvY2tlZENhcHRvcnMuaGFzKGEpPwp0aGlzLl9yZWxlYXNlQ2FwdG9yKGEpOmIoKSl9O2QuX2dldEV2ZW50T2JqZWN0PWZ1bmN0aW9uKGEsYixjLGUpe2I9Im51bWJlciI9PT10eXBlb2YgYj9iOmI/dGhpcy5maW5kTm9kZShiKXx8LTE6bnVsbDtyZXR1cm57c3RhbXA6dGhpcy5fc3RhbXBGb3JUeXBlKGEsZSksdHlwZTphLHRhcmdldDpiLG1ldGE6Y3x8bnVsbH19O2QuX2dldE11dGF0aW9uT2JqZWN0PWZ1bmN0aW9uKGEsYixjKXt2b2lkIDA9PT1jJiYoYz0wKTtyZXR1cm57c3RhbXA6YixtZXRhOntjaGFuZ2VzOmEsaW5kZXg6Y319fTtkLl9zdGFtcEZvclR5cGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx0aGlzLnN0YW1wO3JldHVybiBWW2FdPWMrKGM9PT1WW2FdPzE6MCl9O2QuX2dldEluaXRpYWxTY3JvbGw9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuZG9jdW1lbnQuYm9keSxjPXRoaXMuX2dldFNjcm9sbChiKTtudWxsIT1jJiZhLnB1c2goYyk7YS5jb25jYXQodGhpcy5fZ2V0U2Nyb2xsRm9yRWFjaE5vZGUoYi5jaGlsZE5vZGVzKSk7CnJldHVybiBhfTtkLl9nZXRTY3JvbGxGb3JFYWNoTm9kZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB6Lkl0ZXJhYmxlVXRpbHMudG9BcnJheShhKS5yZWR1Y2UoZnVuY3Rpb24oYSxjKXt2YXIgZT1iLl9nZXRTY3JvbGwoYyk7bnVsbCE9ZSYmYS5wdXNoKGUpOzA8Yy5jaGlsZE5vZGVzLmxlbmd0aCYmKGE9YS5jb25jYXQoYi5fZ2V0U2Nyb2xsRm9yRWFjaE5vZGUoYy5jaGlsZE5vZGVzKSkpO3JldHVybiBhfSxbXSl9O2QuX2dldFNjcm9sbD1mdW5jdGlvbihhKXt2YXIgYj1hLnNjcm9sbFRvcCxjPWEuc2Nyb2xsTGVmdDtpZigwPGJ8fDA8YylyZXR1cm57dGFyZ2V0OnRoaXMuZmluZE5vZGUoYSksc2Nyb2xsOltiLGNdfX07ZC5faW5pdE1lc3Nlbmdlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBmKGZ1bmN0aW9uKCl7dmFyIGI9dygpKGguYS5tYXJrKGZ1bmN0aW9uIFcoYil7dmFyIGM7cmV0dXJuIGguYS53cmFwKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PQplLm5leHQpe2Nhc2UgMDphLm1lc3Nlbmdlcj1uZXcgSi5hKGEud2luZG93KTthLl9pbml0TWFzdGVyTWVzc2VuZ2VyKCk7aWYoIWNhLkJyb3dzZXJVdGlscy5pc0lmcmFtZShhLndpbmRvdykpe2UubmV4dD03O2JyZWFrfWUubmV4dD01O3JldHVybiBhLl9pbml0U2xhdmVNZXNzZW5nZXIoKTtjYXNlIDU6KGM9ZS5zZW50KSYmYS5mYXRhbCgibWVzc2VuZ2VyLWluaXQtZmFpbGVkIixjKTtjYXNlIDc6YigpO2Nhc2UgODpjYXNlICJlbmQiOnJldHVybiBlLnN0b3AoKX19LFcpfSkpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpKX07ZC5faW5pdE1hc3Rlck1lc3Nlbmdlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1wKCkoe30sdGhpcy5vcHRpb25zKTt0aGlzLm1lc3Nlbmdlci5zdWJzY3JpYmUoImlmcmFtZV9yZWdpc3RlciIsZnVuY3Rpb24oYSxjKXt2YXIgZT1VLkRPTVV0aWxzLm9mZnNldHMoYS5zZW5kZXIpO2Moe2NvdW50ZXJJZDpiLmNvdW50ZXJJZCwKb2Zmc2V0czp7dG9wOmUudG9wLGxlZnQ6ZS5sZWZ0fX0pfSk7dGhpcy5tZXNzZW5nZXIuc3Vic2NyaWJlKCJpZnJhbWVfZGF0YSIsZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhO2I9Yi5zZW5kZXI7dmFyIGU9YS5maW5kTm9kZShiKTtpZihudWxsIT1lKXt2YXIgZD17ZnJhbWVJZDplfTtjLnBhZ2UmJihlPXAoKSh7fSxjLnBhZ2UsZCx7dGFiSWQ6YS50YWJJZCxyZWNvcmRTdGFtcDoobmV3IERhdGUpLmdldFRpbWUoKSxzdGFtcDphLl9zdGFtcEZvclR5cGUoInBhZ2UiKX0pLGEuX3JlcXVlc3QoIi9kdW1wIix7cGFnZTplfSkpO2lmKGMuZXZlbnRzKXtiPVUuRE9NVXRpbHMub2Zmc2V0cyhiLHtleGNsdWRlQm9yZGVyOiEwfSk7dmFyIGs9Yi5sZWZ0LGc9Yi50b3A7Yj1jLmV2ZW50cy5tYXAoZnVuY3Rpb24oYil7L21vdXNlLy50ZXN0KGIudHlwZSkmJihiLm1ldGEueD1NYXRoLnJvdW5kKGIubWV0YS54K2spLGIubWV0YS55PU1hdGgucm91bmQoYi5tZXRhLnkrZykpO3JldHVybiBwKCkoe30sCmIsZCx7c3RhbXA6YS5fc3RhbXBGb3JUeXBlKGIudHlwZSl9KX0pO2EuX3B1Ymxpc2hBY3Rpb25zKGIpfWMubXV0YXRpb25zJiYoYz1jLm11dGF0aW9ucy5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIHAoKSh7fSxiLGQse3N0YW1wOmEuX3N0YW1wRm9yVHlwZSgibXV0YXRpb24iKX0pfSksYS5fcHVibGlzaE11dGF0aW9ucyhjKSl9fSl9O2QuX2luaXRTbGF2ZU1lc3Nlbmdlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuKG5ldyBmKGZ1bmN0aW9uKGIsYyl7WFsiZGVmYXVsdCJdLmxvZygiQXdhaXRpbmcgc3Vic2NyaXB0aW9uIixhLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7YS5tZXNzZW5nZXIuc2VuZCgiaWZyYW1lX3JlZ2lzdGVyIix7YXdhaXRSZXNwb25zZTohMCx0aW1lb3V0VGltZTozRTMsb25SZXNwb25zZTphLl9zbGF2ZU1lc3NlbmdlclJlZ2lzdHJhdGlvbkhhbmRsZXIoYixjKSxvblRpbWVvdXQ6ZnVuY3Rpb24oKXtYWyJkZWZhdWx0Il0ud2FybigiU2xhdmUgcmVjb3JkZXIgc3RvcHBlZCBkdWUgdG8gYSB0aW1lb3V0OiBubyByZXNwb25zZSBmcm9tIHRoZSBwYXJlbnQgcGFnZSB3aXRoaW4gMSBzZWNvbmRzLiBUaGlzIGZyYW1lIHdpbGwgYmUgdXNlZCBhcyBpZiBpdCBpcyBtYXN0ZXIiKTsKYigpfX0pfSkpWyJjYXRjaCJdKGZ1bmN0aW9uKGIpe1hbImRlZmF1bHQiXS53YXJuKCJDYW50IGluaXQgcmVjb3JkZXIgaW4gZnJhbWUiKTthLnRocm93RXJyb3IoYiwic2xhdmUtcmVjb3JkZXIiKTtYWyJkZWZhdWx0Il0ud2FybihiLGEuZG9jdW1lbnQpO3JldHVybiBifSl9O2QuX3B1Ymxpc2hBY3Rpb25zPWZ1bmN0aW9uKCl7dmFyIGE7dGhpcy5fc2F2ZUNoYW5nZXMoe2V2ZW50czooYT1bXSkuY29uY2F0LmFwcGx5KGEsYXJndW1lbnRzKX0pfTtkLl9wdWJsaXNoTXV0YXRpb25zPWZ1bmN0aW9uKCl7dmFyIGE7dGhpcy5fc2F2ZUNoYW5nZXMoe211dGF0aW9uczooYT1bXSkuY29uY2F0LmFwcGx5KGEsYXJndW1lbnRzKX0pfTtkLl9yZXF1ZXN0PWZ1bmN0aW9uKGEsYixjKXt2b2lkIDA9PT1iJiYoYj17fSk7dm9pZCAwPT09YyYmKGM9ITEpO3RoaXMuX0VPRl9TRU5UJiYhMCE9PWN8fCghMD09PXRoaXMuc3RhcnRlZHx8ITA9PT1jPyhiPWhhLk9iamVjdFV0aWxzLmNvbWJpbmUoe192OlouYVsicGFja2FnZSJdLnZlcnNpb259LApwKCkoe30sYikpLHRoaXMuc2VuZGVyLnNlbmQoe3VybDphLGRhdGE6cCgpKHt9LGIpfSkpOnRoaXMucHJlY2FjaGUucHVzaChbYSxiXSkpfTtkLl9zYXZlQ2hhbmdlcz1mdW5jdGlvbihhKXt0aGlzLl9yZXF1ZXN0KCIvZHVtcCIsYSk7IXRoaXMuX0VPRl9TRU5UJiZ0aGlzLnN0YXJ0ZWQmJih0aGlzLmRhdGFTZW50Pj10aGlzLm9wdGlvbnMubWF4U2l6ZXx8dGhpcy5oaXREdXJhdGlvbj49dGhpcy5vcHRpb25zLm1heER1cmF0aW9uKSYmdGhpcy5zdG9wKCl9O2Quc2VuZFNuYXBzaG90PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gdGhpcy5zbmFwc2hvdC5nZXQoe29uU3VjY2VzczpmdW5jdGlvbihiKXthLnNhdmVQYWdlU25hcHNob3QoYik7cmV0dXJuITB9LG9uRmFpbDpmdW5jdGlvbigpe3JldHVybiExfX0pfTtkLl9jcmVhdGVTbmFwc2hvdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1mLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJue2NvbnRlbnQ6YS5zdW1tYXJ5Lmh0bWx9fSlbImNhdGNoIl0oZnVuY3Rpb24oYSl7cmV0dXJue2Vycm9yOmF9fSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm57Y29udGVudDphLmNvbnRlbnQsCmVycm9yOmEuZXJyb3J9fSk7dGhpcy5zbmFwc2hvdD17Z2V0OmZ1bmN0aW9uKGMpe3ZhciBlPWMub25TdWNjZXNzLGQ9Yy5vbkZhaWw7cmV0dXJuIGIudGhlbihmdW5jdGlvbihiKXt2YXIgYz1iLmVycm9yO2I9Yi5jb250ZW50O2M/KGI9ZC5jYWxsKGEsYixjKSxhLmZhdGFsKCJpbnZhbGlkLXNuYXBzaG90IixjKSk6Yj1lLmNhbGwoYSxiKTtyZXR1cm4gYn0pfX19O2Quc2F2ZVBhZ2VTbmFwc2hvdD1mdW5jdGlvbihhKXtpZih0aGlzLmluZGV4ZXImJiF0aGlzLmluZGV4ZXIuZGlzYWJsZWQmJiF0aGlzLnNuYXBzaG90U2VudClyZXR1cm4gdGhpcy5zbmFwc2hvdFNlbnQ9ITAsYT1wKCkoe2NvbnRlbnQ6YSxmcmFtZUlkOjAsdGFiSWQ6dGhpcy50YWJJZCxyZWNvcmRTdGFtcDoobmV3IERhdGUpLmdldFRpbWUoKX0sdGhpcy5wYWdlKSx0aGlzLl9zYXZlQ2hhbmdlcyh7cGFnZTphfSl9O2QuX3NlbmRJbml0aWFsRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPVtdLGM9ZnVuY3Rpb24oKXt2YXIgYj0KYS5jYXB0b3JzLmdldCgicmVzaXplIik7cmV0dXJuIGImJmIuZ2V0VmFsdWUuY2FsbChhKX0oKSxlPXRoaXMudmlld3BvcnQuc2Nyb2xsaW5nRWxlbWVudCxkPXRoaXMuX2dldEluaXRpYWxTY3JvbGwoKS5tYXAoZnVuY3Rpb24oYil7dmFyIGM9Yi5zY3JvbGwsZD1jWzBdO2M9Y1sxXTtiPWEuaW5kZXhlci5maW5kKGIudGFyZ2V0KTtiPWI9PT1hLmRvY3VtZW50fHxiPT09YS53aW5kb3c/ZTpiO3JldHVybiBhLl9nZXRFdmVudE9iamVjdCgic2Nyb2xsIixiLHt4OmMseTpkLHBhZ2U6Yj09PWV9KX0pO2MmJmIucHVzaChjKTtiLnB1c2guYXBwbHkoYixkKTt0aGlzLl9zYXZlQ2hhbmdlcyh7ZXZlbnRzOmJ9KX07ZC5fc2VuZFByZUNhY2hlZERhdGE9ZnVuY3Rpb24oYSl7YT0odm9pZCAwPT09YT97fTphKS5mb3JjZTthPXZvaWQgMD09PWE/ITE6YTtpZih0aGlzLnByZWNhY2hlLmxlbmd0aClmb3IodmFyIGI7bnVsbCE9KGI9dGhpcy5wcmVjYWNoZS5zaGlmdCgpKTspdGhpcy5fcmVxdWVzdChiWzBdLApiWzFdLGEpfTtkLl9jb25uZWN0VG9QYXJlbnQ9ZnVuY3Rpb24oKXt0aGlzLl9zZW5kTWVzc2FnZSgiY29ubmVjdCIse2lkOnRoaXMuX2lkZW50aWZpZXJ9KX07ZC5fc2VuZE1lc3NhZ2U9ZnVuY3Rpb24oYSxiKXsoRmE/dGhpcy53aW5kb3cudG9wOnRoaXMud2luZG93KS5wb3N0TWVzc2FnZSh7dHlwZTphLGRhdGE6Yn0sIioiKX07ZC5fdW5pdmVyc2FsSGFuZGxlcj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZT0odm9pZCAwPT09Yj97fTpiKS5leHRyYSxkPXZvaWQgMD09PWU/W106ZTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGI9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KGIpLGs9MDtrPGI7aysrKWVba109YXJndW1lbnRzW2tdO2MuZXJyb3JMb2dnZXIoZnVuY3Rpb24oKXtjLnBhdXNlZHx8YS5hcHBseShjLGUuY29uY2F0KGQpKX0sInVuaXZlcnNhbC1oYW5kbGVyIil9fTtkLl9jcmVhdGVJbnN0YW5jZT1mdW5jdGlvbigpe2Zvcih2YXIgYT1hcmd1bWVudHMubGVuZ3RoLGI9CkFycmF5KGEpLGM9MDtjPGE7YysrKWJbY109YXJndW1lbnRzW2NdO3JldHVybiBuKCkodGhpcy5jb25zdHJ1Y3RvcixiKX07RigpKGMsW3trZXk6IndpbmRvdyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHQud2luZG93fX0se2tleToiZG9jdW1lbnQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZXh0LmRvY3VtZW50fX0se2tleToiYm9keU5vZGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fYm9keU5vZGV8fCh0aGlzLl9fYm9keU5vZGU9dGhpcy5kb2N1bWVudC5ib2R5KX19LHtrZXk6ImZwc0RlbGF5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMUUzL3RoaXMuZnBzfX0se2tleToiZG9jdHlwZSIsZ2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuZG9jdW1lbnQuZG9jdHlwZSlyZXR1cm4iIjt2YXIgYT10aGlzLmRvY3VtZW50LmRvY3R5cGV8fHt9LGI9YS5wdWJsaWNJZCxjPWEuc3lzdGVtSWQ7cmV0dXJuIlx4M2MhRE9DVFlQRSAiK1thLm5hbWV8fAoiaHRtbCIsYj8nIFBVQkxJQyAiJytiKyciJzoiIiwhYiYmYz8iIFNZU1RFTSI6IiIsYz8nICInK2MrJyInOiIiXS5qb2luKCIiKSsiXHgzZSJ9fSx7a2V5OiJyb290Tm9kZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19yb290Tm9kZXx8KHRoaXMuX19yb290Tm9kZT10aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl9fSx7a2V5OiJzdGFtcCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWVyP3RoaXMuX3RpbWVyLnN0YW1wKCk6MH19LHtrZXk6ImV2ZW50SUQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudElEP3RoaXMuX2V2ZW50SUQrPTE6dGhpcy5fZXZlbnRJRD0xfX0se2tleToicGFnZSIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52aWV3cG9ydD90aGlzLnZpZXdwb3J0LmdldFNpemUoKTp7d2lkdGg6MCxoZWlnaHQ6MH0sYj1VLkRPTVV0aWxzLmJhc2UoKSxjPSEhdGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJiYXNlW2hyZWZdIik7CnJldHVybnttZXRhOntiYXNlOmIsaGFzQmFzZTpjLHZpZXdwb3J0OmEsdGl0bGU6dGhpcy5kb2N1bWVudC50aXRsZSxkb2N0eXBlOnRoaXMuZG9jdHlwZSxhZGRyZXNzOkwuaHJlZix1YTpuYXZpZ2F0b3IudXNlckFnZW50LHJlZmVycmVyOnRoaXMuZG9jdW1lbnQucmVmZXJyZXIsc2NyZWVuOnt3aWR0aDpkYS53aWR0aCxoZWlnaHQ6ZGEuaGVpZ2h0fSxsb2NhdGlvbjp7aG9zdDpMLmhvc3QscHJvdG9jb2w6TC5wcm90b2NvbCxwYXRoOkwucGF0aG5hbWV9fX19fSx7a2V5OiJkb21haW4iLGdldDpmdW5jdGlvbigpe3JldHVybiBMLnByb3RvY29sKyIvLyIrKEwuaG9zdHx8TC5ob3N0bmFtZSkrKEwucG9ydD8iOiIrTC5wb3J0OiIiKX19LHtrZXk6InRhYklkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFiSWR9fV0pO3JldHVybiBjfShkLmEpLGVhPXtJU19JTkNPR05JVE86aWEuSVNfSU5DT0dOSVRPLElTX01PQklMRV9ERVZJQ0U6aWEuSVNfTU9CSUxFX0RFVklDRSxET19OT1RfVFJBQ0s6aWEuRE9fTk9UX1RSQUNLfTsKei5JdGVyYWJsZVV0aWxzLmZvcmluKGVhLGZ1bmN0aW9uKGEpe3ZhciBiPXt2YWx1ZTplYVthXX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHJhLGEsYik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHJhLnByb3RvdHlwZSxhLGIpfSl9KS5jYWxsKHRoaXMsYygxMilbImRlZmF1bHQiXSxjKDIyKS5Qcm9taXNlLGMoOClbImRlZmF1bHQiXSl9LGZ1bmN0aW9uKGEsYixjKXtiPWMoMjUpWyJkZWZhdWx0Il07YS5leHBvcnRzPWMoNjcpKCk/YjpjKDY4KX0sZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihiKXt2YXIgYz17b2JqZWN0OiEwLHN5bWJvbDohMH07YS5leHBvcnRzPWZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiBiKXJldHVybiExO3ZhciBhPWIoInRlc3Qgc3ltYm9sIik7dHJ5e1N0cmluZyhhKX1jYXRjaChnKXtyZXR1cm4hMX1yZXR1cm4gY1t0eXBlb2YgYi5pdGVyYXRvcl0mJmNbdHlwZW9mIGIudG9QcmltaXRpdmVdJiZjW3R5cGVvZiBiLnRvU3RyaW5nVGFnXT8hMDohMX19KS5jYWxsKHRoaXMsCmMoMjUpWyJkZWZhdWx0Il0pfSxmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGIpe3ZhciBkPWMoNjkpLGw9Yyg4MyksZz1PYmplY3QuY3JlYXRlLG49T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsaD1PYmplY3QuZGVmaW5lUHJvcGVydHksdz1PYmplY3QucHJvdG90eXBlLHAsbT1nKG51bGwpO2lmKCJmdW5jdGlvbiI9PT10eXBlb2YgYil7dmFyIHE9Yjt0cnl7U3RyaW5nKHEoKSk7dmFyIGs9ITB9Y2F0Y2goSCl7fX12YXIgZT1mdW5jdGlvbigpe3ZhciBhPWcobnVsbCk7cmV0dXJuIGZ1bmN0aW9uKGIpe2Zvcih2YXIgYz0wLGUsazthW2IrKGN8fCIiKV07KSsrYztiKz1jfHwiIjthW2JdPSEwO2U9IkBAIitiO2godyxlLGQuZ3MobnVsbCxmdW5jdGlvbihhKXtrfHwoaz0hMCxoKHRoaXMsZSxkKGEpKSxrPSExKX0pKTtyZXR1cm4gZX19KCk7dmFyIEI9ZnVuY3Rpb24oYSl7aWYodGhpcyBpbnN0YW5jZW9mIEIpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIik7CnJldHVybiBwKGEpfTthLmV4cG9ydHM9cD1mdW5jdGlvbiBaKGEpe2lmKHRoaXMgaW5zdGFuY2VvZiBaKXRocm93IG5ldyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciIpO2lmKGspcmV0dXJuIHEoYSk7dmFyIGI9ZyhCLnByb3RvdHlwZSk7YT1hPT09QT8iIjpTdHJpbmcoYSk7cmV0dXJuIG4oYix7X19kZXNjcmlwdGlvbl9fOmQoIiIsYSksX19uYW1lX186ZCgiIixlKGEpKX0pfTtuKHAseyJmb3IiOmQoZnVuY3Rpb24oYSl7cmV0dXJuIG1bYV0/bVthXTptW2FdPXAoU3RyaW5nKGEpKX0pLGtleUZvcjpkKGZ1bmN0aW9uKGEpe3ZhciBiO2woYSk7Zm9yKGIgaW4gbSlpZihtW2JdPT09YSlyZXR1cm4gYn0pLGhhc0luc3RhbmNlOmQoIiIscSYmcS5oYXNJbnN0YW5jZXx8cCgiaGFzSW5zdGFuY2UiKSksaXNDb25jYXRTcHJlYWRhYmxlOmQoIiIscSYmcS5pc0NvbmNhdFNwcmVhZGFibGV8fHAoImlzQ29uY2F0U3ByZWFkYWJsZSIpKSxpdGVyYXRvcjpkKCIiLHEmJgpxLml0ZXJhdG9yfHxwKCJpdGVyYXRvciIpKSxtYXRjaDpkKCIiLHEmJnEubWF0Y2h8fHAoIm1hdGNoIikpLHJlcGxhY2U6ZCgiIixxJiZxLnJlcGxhY2V8fHAoInJlcGxhY2UiKSksc2VhcmNoOmQoIiIscSYmcS5zZWFyY2h8fHAoInNlYXJjaCIpKSxzcGVjaWVzOmQoIiIscSYmcS5zcGVjaWVzfHxwKCJzcGVjaWVzIikpLHNwbGl0OmQoIiIscSYmcS5zcGxpdHx8cCgic3BsaXQiKSksdG9QcmltaXRpdmU6ZCgiIixxJiZxLnRvUHJpbWl0aXZlfHxwKCJ0b1ByaW1pdGl2ZSIpKSx0b1N0cmluZ1RhZzpkKCIiLHEmJnEudG9TdHJpbmdUYWd8fHAoInRvU3RyaW5nVGFnIikpLHVuc2NvcGFibGVzOmQoIiIscSYmcS51bnNjb3BhYmxlc3x8cCgidW5zY29wYWJsZXMiKSl9KTtuKEIucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpkKHApLHRvU3RyaW5nOmQoIiIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX25hbWVfX30pfSk7bihwLnByb3RvdHlwZSx7dG9TdHJpbmc6ZChmdW5jdGlvbigpe3JldHVybiJTeW1ib2wgKCIrCmwodGhpcykuX19kZXNjcmlwdGlvbl9fKyIpIn0pLHZhbHVlT2Y6ZChmdW5jdGlvbigpe3JldHVybiBsKHRoaXMpfSl9KTtoKHAucHJvdG90eXBlLHAudG9QcmltaXRpdmUsZCgiIixmdW5jdGlvbigpe3ZhciBhPWwodGhpcyk7cmV0dXJuInN5bWJvbCI9PT10eXBlb2YgYT9hOmEudG9TdHJpbmcoKX0pKTtoKHAucHJvdG90eXBlLHAudG9TdHJpbmdUYWcsZCgiYyIsIlN5bWJvbCIpKTtoKEIucHJvdG90eXBlLHAudG9TdHJpbmdUYWcsZCgiYyIscC5wcm90b3R5cGVbcC50b1N0cmluZ1RhZ10pKTtoKEIucHJvdG90eXBlLHAudG9QcmltaXRpdmUsZCgiYyIscC5wcm90b3R5cGVbcC50b1ByaW1pdGl2ZV0pKX0pLmNhbGwodGhpcyxjKDI1KVsiZGVmYXVsdCJdKX0sZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWMoNzApLGY9Yyg3OCksbD1jKDc5KSxnPWMoODApOyhhLmV4cG9ydHM9ZnVuY3Rpb24oYSxiKXt2YXIgYztpZigyPmFyZ3VtZW50cy5sZW5ndGh8fCJzdHJpbmciIT09dHlwZW9mIGEpe3ZhciBsPQpiO2I9YTthPW51bGx9ZWxzZSBsPWFyZ3VtZW50c1syXTtpZihudWxsPT1hKXt2YXIgaD1jPSEwO3ZhciBuPSExfWVsc2UgaD1nLmNhbGwoYSwiYyIpLG49Zy5jYWxsKGEsImUiKSxjPWcuY2FsbChhLCJ3Iik7aD17dmFsdWU6Yixjb25maWd1cmFibGU6aCxlbnVtZXJhYmxlOm4sd3JpdGFibGU6Y307cmV0dXJuIGw/ZChmKGwpLGgpOmh9KS5ncz1mdW5jdGlvbihhLGIsYyxoKXsic3RyaW5nIiE9PXR5cGVvZiBhJiYoaD1jLGM9YixiPWEsYT1udWxsKTtudWxsPT1iP2I9QTpsKGIpP251bGw9PWM/Yz1BOmwoYyl8fChoPWMsYz1BKTooaD1iLGI9Yz1BKTtpZihudWxsPT1hKXt2YXIgbj0hMDthPSExfWVsc2Ugbj1nLmNhbGwoYSwiYyIpLGE9Zy5jYWxsKGEsImUiKTtiPXtnZXQ6YixzZXQ6Yyxjb25maWd1cmFibGU6bixlbnVtZXJhYmxlOmF9O3JldHVybiBoP2QoZihoKSxiKTpifX0sZnVuY3Rpb24oYSxiLGMpe2EuZXhwb3J0cz1jKDcxKSgpP09iamVjdC5hc3NpZ246Yyg3Mil9LGZ1bmN0aW9uKGEsCmIsYyl7YS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmFzc2lnbjtpZigiZnVuY3Rpb24iIT09dHlwZW9mIGEpcmV0dXJuITE7dmFyIGI9e2ZvbzoicmF6In07YShiLHtiYXI6ImR3YSJ9LHt0cnp5OiJ0cnp5In0pO3JldHVybiJyYXpkd2F0cnp5Ij09PWIuZm9vK2IuYmFyK2IudHJ6eX19LGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jKDczKSxmPWMoNzcpLGw9TWF0aC5tYXg7YS5leHBvcnRzPWZ1bmN0aW9uKGEsYil7dmFyIGMsZyxoPWwoYXJndW1lbnRzLmxlbmd0aCwyKTthPU9iamVjdChmKGEpKTt2YXIgbj1mdW5jdGlvbihkKXt0cnl7YVtkXT1iW2RdfWNhdGNoKGspe2N8fChjPWspfX07Zm9yKGc9MTtnPGg7KytnKWI9YXJndW1lbnRzW2ddLGQoYikuZm9yRWFjaChuKTtpZihjIT09QSl0aHJvdyBjO3JldHVybiBhfX0sZnVuY3Rpb24oYSxiLGMpe2EuZXhwb3J0cz1jKDc0KSgpP09iamVjdC5rZXlzOmMoNzUpfSxmdW5jdGlvbihhLGIsYyl7YS5leHBvcnRzPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBPYmplY3Qua2V5cygicHJpbWl0aXZlIiksCiEwfWNhdGNoKGQpe3JldHVybiExfX19LGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jKDM1KSxmPU9iamVjdC5rZXlzO2EuZXhwb3J0cz1mdW5jdGlvbihhKXtyZXR1cm4gZihkKGEpP09iamVjdChhKTphKX19LGZ1bmN0aW9uKGEsYixjKXthLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YygzNSk7YS5leHBvcnRzPWZ1bmN0aW9uKGEpe2lmKCFkKGEpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCB1c2UgbnVsbCBvciB1bmRlZmluZWQiKTtyZXR1cm4gYX19LGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jKDM1KSxmPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLGw9T2JqZWN0LmNyZWF0ZTthLmV4cG9ydHM9ZnVuY3Rpb24oYSl7dmFyIGI9bChudWxsKTtmLmNhbGwoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKGQoYSkpe2E9T2JqZWN0KGEpO2Zvcih2YXIgYyBpbiBhKWJbY109YVtjXX19KTtyZXR1cm4gYn19LGZ1bmN0aW9uKGEsYixjKXthLmV4cG9ydHM9ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PQp0eXBlb2YgYX19LGZ1bmN0aW9uKGEsYixjKXthLmV4cG9ydHM9Yyg4MSkoKT9TdHJpbmcucHJvdG90eXBlLmNvbnRhaW5zOmMoODIpfSxmdW5jdGlvbihhLGIsYyl7YS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuImZ1bmN0aW9uIiE9PXR5cGVvZiJyYXpkd2F0cnp5Ii5jb250YWlucz8hMTohMD09PSJyYXpkd2F0cnp5Ii5jb250YWlucygiZHdhIikmJiExPT09InJhemR3YXRyenkiLmNvbnRhaW5zKCJmb28iKX19LGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1TdHJpbmcucHJvdG90eXBlLmluZGV4T2Y7YS5leHBvcnRzPWZ1bmN0aW9uKGEsYil7cmV0dXJuLTE8ZC5jYWxsKHRoaXMsYSxiKX19LGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jKDg0KTthLmV4cG9ydHM9ZnVuY3Rpb24oYSl7aWYoIWQoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcihhKyIgaXMgbm90IGEgc3ltYm9sIik7cmV0dXJuIGF9fSxmdW5jdGlvbihhLGIsYyl7YS5leHBvcnRzPWZ1bmN0aW9uKGEpe3JldHVybiBhPyJzeW1ib2wiPT09CnR5cGVvZiBhPyEwOmEuY29uc3RydWN0b3ImJiJTeW1ib2wiPT09YS5jb25zdHJ1Y3Rvci5uYW1lPyJTeW1ib2wiPT09YVthLmNvbnN0cnVjdG9yLnRvU3RyaW5nVGFnXTohMTohMX19LGZ1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oYil7KGZ1bmN0aW9uKGIsYyl7YS5leHBvcnRzPWMoKX0pKHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgYX1mdW5jdGlvbiBjKCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGIubmV4dFRpY2socCl9fWZ1bmN0aW9uIGQoKXtyZXR1cm4idW5kZWZpbmVkIiE9PXR5cGVvZiBzYT9mdW5jdGlvbigpe3NhKHApfTp3KCl9ZnVuY3Rpb24gaCgpe3ZhciBhPTAsYj1uZXcgY2EocCksYz10LmNyZWF0ZVRleHROb2RlKCIiKTtiLm9ic2VydmUoYyx7Y2hhcmFjdGVyRGF0YTohMH0pO3JldHVybiBmdW5jdGlvbigpe2MuZGF0YT1hPSsrYSUyfX1mdW5jdGlvbiByKCl7dmFyIGE9bmV3IE1lc3NhZ2VDaGFubmVsOwphLnBvcnQxLm9ubWVzc2FnZT1wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLnBvcnQyLnBvc3RNZXNzYWdlKDApfX1mdW5jdGlvbiB3KCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIEkocCwxKX19ZnVuY3Rpb24gcCgpe2Zvcih2YXIgYT0wO2E8TjthKz0yKSgwLFFbYV0pKFFbYSsxXSksUVthXT1BLFFbYSsxXT1BO049MH1mdW5jdGlvbiBGKCl7dHJ5e3ZhciBhPUZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCkucmVxdWlyZSgidmVydHgiKTtzYT1hLnJ1bk9uTG9vcHx8YS5ydW5PbkNvbnRleHQ7cmV0dXJuIGQoKX1jYXRjaChyYSl7cmV0dXJuIHcoKX19ZnVuY3Rpb24gcShhLGIpe3ZhciBjPXRoaXMsZD1uZXcgdGhpcy5jb25zdHJ1Y3RvcihlKTtkW2hhXT09PUEmJksoZCk7dmFyIGs9Yy5fc3RhdGU7aWYoayl7dmFyIGc9YXJndW1lbnRzW2stMV07UChmdW5jdGlvbigpe3JldHVybiBEKGssZCxnLGMuX3Jlc3VsdCl9KX1lbHNlIEUoYyxkLGEsYik7cmV0dXJuIGR9ZnVuY3Rpb24gayhhKXtpZihhJiYKIm9iamVjdCI9PT10eXBlb2YgYSYmYS5jb25zdHJ1Y3Rvcj09PXRoaXMpcmV0dXJuIGE7dmFyIGI9bmV3IHRoaXMoZSk7dShiLGEpO3JldHVybiBifWZ1bmN0aW9uIGUoKXt9ZnVuY3Rpb24gQihhKXt0cnl7cmV0dXJuIGEudGhlbn1jYXRjaChyYSl7cmV0dXJuIFMuZXJyb3I9cmEsU319ZnVuY3Rpb24gSChhLGIsYyxlKXt0cnl7YS5jYWxsKGIsYyxlKX1jYXRjaCh1YSl7cmV0dXJuIHVhfX1mdW5jdGlvbiB6KGEsYixjKXtQKGZ1bmN0aW9uKGEpe3ZhciBlPSExLGQ9SChjLGIsZnVuY3Rpb24oYyl7ZXx8KGU9ITAsYiE9PWM/dShhLGMpOnkoYSxjKSl9LGZ1bmN0aW9uKGIpe2V8fChlPSEwLEcoYSxiKSl9LCJTZXR0bGU6ICIrKGEuX2xhYmVsfHwiIHVua25vd24gcHJvbWlzZSIpKTshZSYmZCYmKGU9ITAsRyhhLGQpKX0sYSl9ZnVuY3Rpb24gWihhLGIpe2IuX3N0YXRlPT09Uj95KGEsYi5fcmVzdWx0KTpiLl9zdGF0ZT09PVQ/RyhhLGIuX3Jlc3VsdCk6RShiLEEsZnVuY3Rpb24oYil7cmV0dXJuIHUoYSwKYil9LGZ1bmN0aW9uKGIpe3JldHVybiBHKGEsYil9KX1mdW5jdGlvbiB2KGIsYyxlKXtjLmNvbnN0cnVjdG9yPT09Yi5jb25zdHJ1Y3RvciYmZT09PXEmJmMuY29uc3RydWN0b3IucmVzb2x2ZT09PWs/WihiLGMpOmU9PT1TPyhHKGIsUy5lcnJvciksUy5lcnJvcj1udWxsKTplPT09QT95KGIsYyk6YShlKT96KGIsYyxlKTp5KGIsYyl9ZnVuY3Rpb24gdShhLGIpe2lmKGE9PT1iKUcoYSxuZXcgVHlwZUVycm9yKCJZb3UgY2Fubm90IHJlc29sdmUgYSBwcm9taXNlIHdpdGggaXRzZWxmIikpO2Vsc2V7dmFyIGM9dHlwZW9mIGI7bnVsbD09PWJ8fCJvYmplY3QiIT09YyYmImZ1bmN0aW9uIiE9PWM/eShhLGIpOnYoYSxiLEIoYikpfX1mdW5jdGlvbiB4KGEpe2EuX29uZXJyb3ImJmEuX29uZXJyb3IoYS5fcmVzdWx0KTtDKGEpfWZ1bmN0aW9uIHkoYSxiKXthLl9zdGF0ZT09PVgmJihhLl9yZXN1bHQ9YixhLl9zdGF0ZT1SLDAhPT1hLl9zdWJzY3JpYmVycy5sZW5ndGgmJlAoQyxhKSl9ZnVuY3Rpb24gRyhhLApiKXthLl9zdGF0ZT09PVgmJihhLl9zdGF0ZT1ULGEuX3Jlc3VsdD1iLFAoeCxhKSl9ZnVuY3Rpb24gRShhLGIsYyxlKXt2YXIgZD1hLl9zdWJzY3JpYmVycyxrPWQubGVuZ3RoO2EuX29uZXJyb3I9bnVsbDtkW2tdPWI7ZFtrK1JdPWM7ZFtrK1RdPWU7MD09PWsmJmEuX3N0YXRlJiZQKEMsYSl9ZnVuY3Rpb24gQyhhKXt2YXIgYj1hLl9zdWJzY3JpYmVycyxjPWEuX3N0YXRlO2lmKDAhPT1iLmxlbmd0aCl7Zm9yKHZhciBlLGQsaz1hLl9yZXN1bHQsZz0wO2c8Yi5sZW5ndGg7Zys9MyllPWJbZ10sZD1iW2crY10sZT9EKGMsZSxkLGspOmQoayk7YS5fc3Vic2NyaWJlcnMubGVuZ3RoPTB9fWZ1bmN0aW9uIEQoYixjLGUsZCl7dmFyIGs9YShlKSxnPXZvaWQgMCxmPXZvaWQgMCxsPXZvaWQgMCxCPXZvaWQgMDtpZihrKXt0cnl7Zz1lKGQpfWNhdGNoKHFhKXtTLmVycm9yPXFhLGc9U31nPT09Uz8oQj0hMCxmPWcuZXJyb3IsZy5lcnJvcj1udWxsKTpsPSEwO2lmKGM9PT1nKXtHKGMsbmV3IFR5cGVFcnJvcigiQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLiIpKTsKcmV0dXJufX1lbHNlIGc9ZCxsPSEwO2MuX3N0YXRlPT09WCYmKGsmJmw/dShjLGcpOkI/RyhjLGYpOmI9PT1SP3koYyxnKTpiPT09VCYmRyhjLGcpKX1mdW5jdGlvbiBNKGEsYil7dHJ5e2IoZnVuY3Rpb24oYil7dShhLGIpfSxmdW5jdGlvbihiKXtHKGEsYil9KX1jYXRjaChlYSl7RyhhLGVhKX19ZnVuY3Rpb24gSyhhKXthW2hhXT1ZKys7YS5fc3RhdGU9QTthLl9yZXN1bHQ9QTthLl9zdWJzY3JpYmVycz1bXX12YXIgTD12b2lkIDAsSj1MPUFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheTpmdW5jdGlvbihhKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfSxOPTAsc2E9dm9pZCAwLFY9dm9pZCAwLFA9ZnVuY3Rpb24oYSxiKXtRW05dPWE7UVtOKzFdPWI7Tis9MjsyPT09TiYmKFY/VihwKTppYSgpKX0sZmE9KEw9InVuZGVmaW5lZCIhPT10eXBlb2YgbT9tOkEpfHx7fSxjYT1mYS5NdXRhdGlvbk9ic2VydmVyfHxmYS5XZWJLaXRNdXRhdGlvbk9ic2VydmVyOwpmYT0idW5kZWZpbmVkIj09PXR5cGVvZiBzZWxmJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBiJiYiW29iamVjdCBwcm9jZXNzXSI9PT17fS50b1N0cmluZy5jYWxsKGIpO3ZhciBVPSJ1bmRlZmluZWQiIT09dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5JiYidW5kZWZpbmVkIiE9PXR5cGVvZiBpbXBvcnRTY3JpcHRzJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBNZXNzYWdlQ2hhbm5lbCxRPUFycmF5KDFFMyksaWE9dm9pZCAwO2lhPWZhP2MoKTpjYT9oKCk6VT9yKCk6TD09PUE/RigpOncoKTt2YXIgaGE9TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIpLFg9dm9pZCAwLFI9MSxUPTIsUz17ZXJyb3I6bnVsbH0sWT0wLGFhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3RoaXMuX2luc3RhbmNlQ29uc3RydWN0b3I9YTt0aGlzLnByb21pc2U9bmV3IGEoZSk7dGhpcy5wcm9taXNlW2hhXXx8Syh0aGlzLnByb21pc2UpO0ooYik/KHRoaXMuX3JlbWFpbmluZz10aGlzLmxlbmd0aD0KYi5sZW5ndGgsdGhpcy5fcmVzdWx0PUFycmF5KHRoaXMubGVuZ3RoKSwwPT09dGhpcy5sZW5ndGg/eSh0aGlzLnByb21pc2UsdGhpcy5fcmVzdWx0KToodGhpcy5sZW5ndGg9dGhpcy5sZW5ndGh8fDAsdGhpcy5fZW51bWVyYXRlKGIpLDA9PT10aGlzLl9yZW1haW5pbmcmJnkodGhpcy5wcm9taXNlLHRoaXMuX3Jlc3VsdCkpKTpHKHRoaXMucHJvbWlzZSxFcnJvcigiQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5IikpfWEucHJvdG90eXBlLl9lbnVtZXJhdGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7dGhpcy5fc3RhdGU9PT1YJiZiPGEubGVuZ3RoO2IrKyl0aGlzLl9lYWNoRW50cnkoYVtiXSxiKX07YS5wcm90b3R5cGUuX2VhY2hFbnRyeT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IsZD1jLnJlc29sdmU7ZD09PWs/KGQ9QihhKSxkPT09cSYmYS5fc3RhdGUhPT1YP3RoaXMuX3NldHRsZWRBdChhLl9zdGF0ZSxiLGEuX3Jlc3VsdCk6CiJmdW5jdGlvbiIhPT10eXBlb2YgZD8odGhpcy5fcmVtYWluaW5nLS0sdGhpcy5fcmVzdWx0W2JdPWEpOmM9PT1PPyhjPW5ldyBjKGUpLHYoYyxhLGQpLHRoaXMuX3dpbGxTZXR0bGVBdChjLGIpKTp0aGlzLl93aWxsU2V0dGxlQXQobmV3IGMoZnVuY3Rpb24oYil7cmV0dXJuIGIoYSl9KSxiKSk6dGhpcy5fd2lsbFNldHRsZUF0KGQoYSksYil9O2EucHJvdG90eXBlLl9zZXR0bGVkQXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXMucHJvbWlzZTtlLl9zdGF0ZT09PVgmJih0aGlzLl9yZW1haW5pbmctLSxhPT09VD9HKGUsYyk6dGhpcy5fcmVzdWx0W2JdPWMpOzA9PT10aGlzLl9yZW1haW5pbmcmJnkoZSx0aGlzLl9yZXN1bHQpfTthLnByb3RvdHlwZS5fd2lsbFNldHRsZUF0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztFKGEsQSxmdW5jdGlvbihhKXtyZXR1cm4gYy5fc2V0dGxlZEF0KFIsYixhKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGMuX3NldHRsZWRBdChULGIsYSl9KX07cmV0dXJuIGF9KCksCk89ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEpe3RoaXNbaGFdPVkrKzt0aGlzLl9yZXN1bHQ9dGhpcy5fc3RhdGU9QTt0aGlzLl9zdWJzY3JpYmVycz1bXTtpZihlIT09YSl7aWYoImZ1bmN0aW9uIiE9PXR5cGVvZiBhKXRocm93IG5ldyBUeXBlRXJyb3IoIllvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3IiKTtpZih0aGlzIGluc3RhbmNlb2YgYilNKHRoaXMsYSk7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt9fWIucHJvdG90eXBlWyJjYXRjaCJdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnRoZW4obnVsbCxhKX07Yi5wcm90b3R5cGVbImZpbmFsbHkiXT1mdW5jdGlvbihiKXt2YXIgYz0KdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gYShiKT90aGlzLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGMucmVzb2x2ZShiKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYX0pfSxmdW5jdGlvbihhKXtyZXR1cm4gYy5yZXNvbHZlKGIoKSkudGhlbihmdW5jdGlvbigpe3Rocm93IGE7fSl9KTp0aGlzLnRoZW4oYixiKX07cmV0dXJuIGJ9KCk7Ty5wcm90b3R5cGUudGhlbj1xO08uYWxsPWZ1bmN0aW9uKGEpe3JldHVybihuZXcgYWEodGhpcyxhKSkucHJvbWlzZX07Ty5yYWNlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIEooYSk/bmV3IGIoZnVuY3Rpb24oYyxlKXtmb3IodmFyIGQ9YS5sZW5ndGgsaz0wO2s8ZDtrKyspYi5yZXNvbHZlKGFba10pLnRoZW4oYyxlKX0pOm5ldyBiKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIobmV3IFR5cGVFcnJvcigiWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLiIpKX0pfTtPLnJlc29sdmU9aztPLnJlamVjdD1mdW5jdGlvbihhKXt2YXIgYj0KbmV3IHRoaXMoZSk7RyhiLGEpO3JldHVybiBifTtPLl9zZXRTY2hlZHVsZXI9ZnVuY3Rpb24oYSl7Vj1hfTtPLl9zZXRBc2FwPWZ1bmN0aW9uKGEpe1A9YX07Ty5fYXNhcD1QO08ucG9seWZpbGw9ZnVuY3Rpb24oKXt2YXIgYT12b2lkIDA7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgZ2xvYmFsKWE9Z2xvYmFsO2Vsc2UgaWYoInVuZGVmaW5lZCIhPT10eXBlb2Ygc2VsZilhPXNlbGY7ZWxzZSB0cnl7YT1GdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfWNhdGNoKG1hKXt0aHJvdyBFcnJvcigicG9seWZpbGwgZmFpbGVkIGJlY2F1c2UgZ2xvYmFsIG9iamVjdCBpcyB1bmF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Iik7fXZhciBiPWEuUHJvbWlzZTtpZihiKXt2YXIgYz1udWxsO3RyeXtjPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChiLnJlc29sdmUoKSl9Y2F0Y2gobWEpe31pZigiW29iamVjdCBQcm9taXNlXSI9PT1jJiYhYi5jYXN0KXJldHVybn1hLlByb21pc2U9T307CnJldHVybiBPLlByb21pc2U9T30pfSkuY2FsbCh0aGlzLGMoMzgpKX0sZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGIsZil7YS5leHBvcnRzPWM9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihhLGIpe2EuX19wcm90b19fPWI7cmV0dXJuIGF9O3JldHVybiBjKGIsZil9YS5leHBvcnRzPWN9LGZ1bmN0aW9uKGEsYixjKXtiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN8fCJvYmplY3QiPT09dHlwZW9mIHNlbGYmJnNlbGZ9KCl8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7dmFyIGQ9Yi5yZWdlbmVyYXRvclJ1bnRpbWUmJjA8PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpLmluZGV4T2YoInJlZ2VuZXJhdG9yUnVudGltZSIpLGY9ZCYmYi5yZWdlbmVyYXRvclJ1bnRpbWU7Yi5yZWdlbmVyYXRvclJ1bnRpbWU9QTthLmV4cG9ydHM9Yyg4OCk7aWYoZCliLnJlZ2VuZXJhdG9yUnVudGltZT1mO2Vsc2UgdHJ5e2RlbGV0ZSBiLnJlZ2VuZXJhdG9yUnVudGltZX1jYXRjaChsKXtiLnJlZ2VuZXJhdG9yUnVudGltZT0KQX19LGZ1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oYixjKXshZnVuY3Rpb24oZCl7ZnVuY3Rpb24gZyhhLGIsYyxlKXtiPU9iamVjdC5jcmVhdGUoKGImJmIucHJvdG90eXBlIGluc3RhbmNlb2YgbD9iOmwpLnByb3RvdHlwZSk7ZT1uZXcgeihlfHxbXSk7Yi5faW52b2tlPWsoYSxjLGUpO3JldHVybiBifWZ1bmN0aW9uIGYoYSxiLGMpe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6YS5jYWxsKGIsYyl9fWNhdGNoKFUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOlV9fX1mdW5jdGlvbiBsKCl7fWZ1bmN0aW9uIGgoKXt9ZnVuY3Rpb24gcCgpe31mdW5jdGlvbiBtKGEpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaChmdW5jdGlvbihiKXthW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9pbnZva2UoYixhKX19KX1mdW5jdGlvbiBxKGEpe2Z1bmN0aW9uIGIoZSxkLGssZyl7ZT1mKGFbZV0sYSxkKTtpZigidGhyb3ciPT09ZS50eXBlKWcoZS5hcmcpO2Vsc2V7dmFyIGw9CmUuYXJnO3JldHVybihlPWwudmFsdWUpJiYib2JqZWN0Ij09PXR5cGVvZiBlJiZ1LmNhbGwoZSwiX19hd2FpdCIpP2MucmVzb2x2ZShlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24oYSl7YigibmV4dCIsYSxrLGcpfSxmdW5jdGlvbihhKXtiKCJ0aHJvdyIsYSxrLGcpfSk6Yy5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oYSl7bC52YWx1ZT1hO2sobCl9LGZ1bmN0aW9uKGEpe3JldHVybiBiKCJ0aHJvdyIsYSxrLGcpfSl9fXZhciBlO3RoaXMuX2ludm9rZT1mdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGsoKXtyZXR1cm4gbmV3IGMoZnVuY3Rpb24oYyxlKXtiKGEsZCxjLGUpfSl9cmV0dXJuIGU9ZT9lLnRoZW4oayxrKTprKCl9fWZ1bmN0aW9uIGsoYSxiLGMpe3ZhciBkPUk7cmV0dXJuIGZ1bmN0aW9uKGssZyl7aWYoZD09PU0pdGhyb3cgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihkPT09TCl7aWYoInRocm93Ij09PWspdGhyb3cgZztyZXR1cm4gdCgpfWMubWV0aG9kPQprO2ZvcihjLmFyZz1nOzspe3ZhciBsPWMuZGVsZWdhdGU7aWYobCYmKGw9ZShsLGMpKSl7aWYobD09PUopY29udGludWU7cmV0dXJuIGx9aWYoIm5leHQiPT09Yy5tZXRob2QpYy5zZW50PWMuX3NlbnQ9Yy5hcmc7ZWxzZSBpZigidGhyb3ciPT09Yy5tZXRob2Qpe2lmKGQ9PT1JKXRocm93IGQ9TCxjLmFyZztjLmRpc3BhdGNoRXhjZXB0aW9uKGMuYXJnKX1lbHNlInJldHVybiI9PT1jLm1ldGhvZCYmYy5hYnJ1cHQoInJldHVybiIsYy5hcmcpO2Q9TTtsPWYoYSxiLGMpO2lmKCJub3JtYWwiPT09bC50eXBlKXtkPWMuZG9uZT9MOks7aWYobC5hcmc9PT1KKWNvbnRpbnVlO3JldHVybnt2YWx1ZTpsLmFyZyxkb25lOmMuZG9uZX19InRocm93Ij09PWwudHlwZSYmKGQ9TCxjLm1ldGhvZD0idGhyb3ciLGMuYXJnPWwuYXJnKX19fWZ1bmN0aW9uIGUoYSxiKXt2YXIgYz1hLml0ZXJhdG9yW2IubWV0aG9kXTtpZihjPT09eCl7Yi5kZWxlZ2F0ZT1udWxsO2lmKCJ0aHJvdyI9PT1iLm1ldGhvZCl7aWYoYS5pdGVyYXRvclsicmV0dXJuIl0mJgooYi5tZXRob2Q9InJldHVybiIsYi5hcmc9eCxlKGEsYiksInRocm93Ij09PWIubWV0aG9kKSlyZXR1cm4gSjtiLm1ldGhvZD0idGhyb3ciO2IuYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2QiKX1yZXR1cm4gSn1jPWYoYyxhLml0ZXJhdG9yLGIuYXJnKTtpZigidGhyb3ciPT09Yy50eXBlKXJldHVybiBiLm1ldGhvZD0idGhyb3ciLGIuYXJnPWMuYXJnLGIuZGVsZWdhdGU9bnVsbCxKO2M9Yy5hcmc7aWYoIWMpcmV0dXJuIGIubWV0aG9kPSJ0aHJvdyIsYi5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxiLmRlbGVnYXRlPW51bGwsSjtpZihjLmRvbmUpYlthLnJlc3VsdE5hbWVdPWMudmFsdWUsYi5uZXh0PWEubmV4dExvYywicmV0dXJuIiE9PWIubWV0aG9kJiYoYi5tZXRob2Q9Im5leHQiLGIuYXJnPXgpO2Vsc2UgcmV0dXJuIGM7Yi5kZWxlZ2F0ZT1udWxsO3JldHVybiBKfQpmdW5jdGlvbiBCKGEpe3ZhciBiPXt0cnlMb2M6YVswXX07MSBpbiBhJiYoYi5jYXRjaExvYz1hWzFdKTsyIGluIGEmJihiLmZpbmFsbHlMb2M9YVsyXSxiLmFmdGVyTG9jPWFbM10pO3RoaXMudHJ5RW50cmllcy5wdXNoKGIpfWZ1bmN0aW9uIEgoYSl7dmFyIGI9YS5jb21wbGV0aW9ufHx7fTtiLnR5cGU9Im5vcm1hbCI7ZGVsZXRlIGIuYXJnO2EuY29tcGxldGlvbj1ifWZ1bmN0aW9uIHooYSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dO2EuZm9yRWFjaChCLHRoaXMpO3RoaXMucmVzZXQoITApfWZ1bmN0aW9uIFooYSl7aWYoYSl7dmFyIGI9YVtBXTtpZihiKXJldHVybiBiLmNhbGwoYSk7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBhLm5leHQpcmV0dXJuIGE7aWYoIWlzTmFOKGEubGVuZ3RoKSl7dmFyIGM9LTE7Yj1mdW5jdGlvbiBRKCl7Zm9yKDsrK2M8YS5sZW5ndGg7KWlmKHUuY2FsbChhLGMpKXJldHVybiBRLnZhbHVlPWFbY10sUS5kb25lPSExLFE7US52YWx1ZT0KeDtRLmRvbmU9ITA7cmV0dXJuIFF9O3JldHVybiBiLm5leHQ9Yn19cmV0dXJue25leHQ6dH19ZnVuY3Rpb24gdCgpe3JldHVybnt2YWx1ZTp4LGRvbmU6ITB9fXZhciB2PU9iamVjdC5wcm90b3R5cGUsdT12Lmhhc093blByb3BlcnR5LHgseT0iZnVuY3Rpb24iPT09dHlwZW9mIGI/Yjp7fSxBPXkuaXRlcmF0b3J8fCJAQGl0ZXJhdG9yIixFPXkuYXN5bmNJdGVyYXRvcnx8IkBAYXN5bmNJdGVyYXRvciIsQz15LnRvU3RyaW5nVGFnfHwiQEB0b1N0cmluZ1RhZyI7eT0ib2JqZWN0Ij09PXR5cGVvZiBhO3ZhciBEPWQucmVnZW5lcmF0b3JSdW50aW1lO2lmKEQpeSYmKGEuZXhwb3J0cz1EKTtlbHNle0Q9ZC5yZWdlbmVyYXRvclJ1bnRpbWU9eT9hLmV4cG9ydHM6e307RC53cmFwPWc7dmFyIEk9InN1c3BlbmRlZFN0YXJ0IixLPSJzdXNwZW5kZWRZaWVsZCIsTT0iZXhlY3V0aW5nIixMPSJjb21wbGV0ZWQiLEo9e307ZD17fTtkW0FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9Oyh5PSh5PU9iamVjdC5nZXRQcm90b3R5cGVPZikmJgp5KHkoWihbXSkpKSkmJnkhPT12JiZ1LmNhbGwoeSxBKSYmKGQ9eSk7dmFyIE49cC5wcm90b3R5cGU9bC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkKTtoLnByb3RvdHlwZT1OLmNvbnN0cnVjdG9yPXA7cC5jb25zdHJ1Y3Rvcj1oO3BbQ109aC5kaXNwbGF5TmFtZT0iR2VuZXJhdG9yRnVuY3Rpb24iO0QuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4oYT0iZnVuY3Rpb24iPT09dHlwZW9mIGEmJmEuY29uc3RydWN0b3IpP2E9PT1ofHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KGEuZGlzcGxheU5hbWV8fGEubmFtZSk6ITF9O0QubWFyaz1mdW5jdGlvbihhKXtPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGEscCk6KGEuX19wcm90b19fPXAsQyBpbiBhfHwoYVtDXT0iR2VuZXJhdG9yRnVuY3Rpb24iKSk7YS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShOKTtyZXR1cm4gYX07RC5hd3JhcD1mdW5jdGlvbihhKXtyZXR1cm57X19hd2FpdDphfX07Cm0ocS5wcm90b3R5cGUpO3EucHJvdG90eXBlW0VdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O0QuQXN5bmNJdGVyYXRvcj1xO0QuYXN5bmM9ZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGQ9bmV3IHEoZyhhLGIsYyxlKSk7cmV0dXJuIEQuaXNHZW5lcmF0b3JGdW5jdGlvbihiKT9kOmQubmV4dCgpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZG9uZT9hLnZhbHVlOmQubmV4dCgpfSl9O20oTik7TltDXT0iR2VuZXJhdG9yIjtOW0FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O04udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn07RC5rZXlzPWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYSliLnB1c2goYyk7Yi5yZXZlcnNlKCk7cmV0dXJuIGZ1bmN0aW9uIFEoKXtmb3IoO2IubGVuZ3RoOyl7dmFyIGM9Yi5wb3AoKTtpZihjIGluIGEpcmV0dXJuIFEudmFsdWU9YyxRLmRvbmU9ITEsUX1RLmRvbmU9ITA7cmV0dXJuIFF9fTtELnZhbHVlcz1aOwp6LnByb3RvdHlwZT17Y29uc3RydWN0b3I6eixyZXNldDpmdW5jdGlvbihhKXt0aGlzLm5leHQ9dGhpcy5wcmV2PTA7dGhpcy5zZW50PXRoaXMuX3NlbnQ9eDt0aGlzLmRvbmU9ITE7dGhpcy5kZWxlZ2F0ZT1udWxsO3RoaXMubWV0aG9kPSJuZXh0Ijt0aGlzLmFyZz14O3RoaXMudHJ5RW50cmllcy5mb3JFYWNoKEgpO2lmKCFhKWZvcih2YXIgYiBpbiB0aGlzKSJ0Ij09PWIuY2hhckF0KDApJiZ1LmNhbGwodGhpcyxiKSYmIWlzTmFOKCtiLnNsaWNlKDEpKSYmKHRoaXNbYl09eCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGE9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoInRocm93Ij09PWEudHlwZSl0aHJvdyBhLmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsZSl7ay50eXBlPSJ0aHJvdyI7ay5hcmc9YTtjLm5leHQ9YjtlJiYoYy5tZXRob2Q9Im5leHQiLGMuYXJnPXgpO3JldHVybiEhZX0KaWYodGhpcy5kb25lKXRocm93IGE7Zm9yKHZhciBjPXRoaXMsZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7MDw9ZTstLWUpe3ZhciBkPXRoaXMudHJ5RW50cmllc1tlXSxrPWQuY29tcGxldGlvbjtpZigicm9vdCI9PT1kLnRyeUxvYylyZXR1cm4gYigiZW5kIik7aWYoZC50cnlMb2M8PXRoaXMucHJldil7dmFyIGc9dS5jYWxsKGQsImNhdGNoTG9jIiksZj11LmNhbGwoZCwiZmluYWxseUxvYyIpO2lmKGcmJmYpe2lmKHRoaXMucHJldjxkLmNhdGNoTG9jKXJldHVybiBiKGQuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxkLmZpbmFsbHlMb2MpcmV0dXJuIGIoZC5maW5hbGx5TG9jKX1lbHNlIGlmKGcpe2lmKHRoaXMucHJldjxkLmNhdGNoTG9jKXJldHVybiBiKGQuY2F0Y2hMb2MsITApfWVsc2UgaWYoZil7aWYodGhpcy5wcmV2PGQuZmluYWxseUxvYylyZXR1cm4gYihkLmZpbmFsbHlMb2MpfWVsc2UgdGhyb3cgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7Cn19fSxhYnJ1cHQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xOzA8PWM7LS1jKXt2YXIgZT10aGlzLnRyeUVudHJpZXNbY107aWYoZS50cnlMb2M8PXRoaXMucHJldiYmdS5jYWxsKGUsImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PGUuZmluYWxseUxvYyl7dmFyIGQ9ZTticmVha319ZCYmKCJicmVhayI9PT1hfHwiY29udGludWUiPT09YSkmJmQudHJ5TG9jPD1iJiZiPD1kLmZpbmFsbHlMb2MmJihkPW51bGwpO2M9ZD9kLmNvbXBsZXRpb246e307Yy50eXBlPWE7Yy5hcmc9YjtyZXR1cm4gZD8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1kLmZpbmFsbHlMb2MsSik6dGhpcy5jb21wbGV0ZShjKX0sY29tcGxldGU6ZnVuY3Rpb24oYSxiKXtpZigidGhyb3ciPT09YS50eXBlKXRocm93IGEuYXJnOyJicmVhayI9PT1hLnR5cGV8fCJjb250aW51ZSI9PT1hLnR5cGU/dGhpcy5uZXh0PWEuYXJnOiJyZXR1cm4iPT09YS50eXBlPyh0aGlzLnJ2YWw9CnRoaXMuYXJnPWEuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT1hLnR5cGUmJmImJih0aGlzLm5leHQ9Yik7cmV0dXJuIEp9LGZpbmlzaDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xOzA8PWI7LS1iKXt2YXIgYz10aGlzLnRyeUVudHJpZXNbYl07aWYoYy5maW5hbGx5TG9jPT09YSlyZXR1cm4gdGhpcy5jb21wbGV0ZShjLmNvbXBsZXRpb24sYy5hZnRlckxvYyksSChjKSxKfX0sImNhdGNoIjpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xOzA8PWI7LS1iKXt2YXIgYz10aGlzLnRyeUVudHJpZXNbYl07aWYoYy50cnlMb2M9PT1hKXthPWMuY29tcGxldGlvbjtpZigidGhyb3ciPT09YS50eXBlKXt2YXIgZT1hLmFyZztIKGMpfXJldHVybiBlfX10aHJvdyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iik7fSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGEsYixjKXt0aGlzLmRlbGVnYXRlPQp7aXRlcmF0b3I6WihhKSxyZXN1bHROYW1lOmIsbmV4dExvYzpjfTsibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXgpO3JldHVybiBKfX19fShmdW5jdGlvbigpe3JldHVybiB0aGlzfHwib2JqZWN0Ij09PXR5cGVvZiBzZWxmJiZzZWxmfSgpfHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpKX0pLmNhbGwodGhpcyxjKDI1KVsiZGVmYXVsdCJdLGMoMjIpLlByb21pc2UpfSxmdW5jdGlvbihhLGIsYyl7Yy5yKGIpO2MuZChiLCJNYXBVdGlscyIsZnVuY3Rpb24oKXtyZXR1cm4gZH0pO3ZhciBkPXtzZXRJZk5vdEV4aXN0czpmdW5jdGlvbihhLGIsYyl7ITE9PT1hLmhhcyhiKSYmYS5zZXQoYix0aGlzLmludm9rZShjKSl9LGdldE9yU2V0OmZ1bmN0aW9uKGEsYixjKXtpZihhLmhhcyhiKSlyZXR1cm4gYS5nZXQoYik7Yz10aGlzLmludm9rZShjKTthLnNldChiLGMpO3JldHVybiBjfSxnZXRBbmRVcGRhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWM9dGhpcy5pbnZva2UoYyk7YS5oYXMoYikmJgooZD1hLmdldChiKSk7YS5zZXQoYixjKTtyZXR1cm4gZH19fSxmdW5jdGlvbihhLGIsYyl7Yy5yKGIpO2MuZChiLCJNYXRoVXRpbHMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KTt2YXIgZD1jKDMpLGY9e3RvQ2h1bmtzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zbGljZSgwKSxnPWMubGVuZ3RoLGY9Zz09PWI/TWF0aC5yb3VuZDpNYXRoLmZsb29yLGw9MDtyZXR1cm4gYy5yZWR1Y2UoZnVuY3Rpb24oYSxoLGspe3ZhciBlPWYoYi8oZy9rKSk7MDxrJiYxPGUtbCYmZFsiZGVmYXVsdCJdLndhcm4oIkludmFsaWQgaW5kZXggIitlKyI6ICIrZihiLyhnLyhrLTEpKSkrIiBceDNjXHgzZFx4M2UgIitmKGIvKGcvaykpLFtjLmxlbmd0aCxrLGJdLFtjLmxlbmd0aC9rXSxbYi8oYy5sZW5ndGgvayldKTtsPWU7YVtlXT1hW2VdfHxbXTthW2VdLnB1c2goaCk7cmV0dXJuIGF9LFtdKX0sc3BsaXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5yZWR1Y2UoZnVuY3Rpb24oYSxjLGQpe2Q9TWF0aC5mbG9vcihkLwpiKTthW2RdPShhW2RdfHxbXSkuY29uY2F0KGMpO3JldHVybiBhfSxbXSl9LGF2ZzpmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGg/YS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStifSkvYS5sZW5ndGg6TmFOfSxtYXg6ZnVuY3Rpb24oYSl7dmFyIGI9TmFOO2lmKDA8YS5sZW5ndGgpe3ZhciBjPWEubGVuZ3RoLTI7Zm9yKGI9YVthLmxlbmd0aC0xXTswPD1jO2MtLSliPWI+YVtjXT9iOmFbY119cmV0dXJuIGJ9LHJhbmRvbTpmdW5jdGlvbihhLGIpe3ZvaWQgMD09PWEmJihhPTApO3JldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqYithKX19fV0pWyJkZWZhdWx0Il19Y2F0Y2goYSl7UWE9e2Vycm9yOmEsc2NvcGU6InJlY29kZXIifX12YXIgaD17bWl4aW46ZnVuY3Rpb24oYSl7dmFyIGIsYztmb3IoYj0xO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspaWYoYXJndW1lbnRzW2JdKXtmb3IoYyBpbiBhcmd1bWVudHNbYl0pYXJndW1lbnRzW2JdLmhhc093blByb3BlcnR5KGMpJiYKKGFbY109YXJndW1lbnRzW2JdW2NdKTthcmd1bWVudHNbYl0uaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikmJihhLnRvU3RyaW5nPWFyZ3VtZW50c1tiXS50b1N0cmluZyl9cmV0dXJuIGF9LF9oaWRkZW5GcmFtZXM6e319LEo9ZnVuY3Rpb24oYSl7YT1hfHx7fTtoLm1peGluKHRoaXMsYSk7dGhpcy5faW5pdENvbXBvbmVudCgpfTtKLnByb3RvdHlwZS5faW5pdENvbXBvbmVudD1mdW5jdGlvbigpe307Si5pbmhlcml0PWZ1bmN0aW9uKGEpe2E9YXx8e307dmFyIGI9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpPYmplY3Q7YS5oYXNPd25Qcm9wZXJ0eSgiY29uc3RydWN0b3IiKXx8KGEuY29uc3RydWN0b3I9ZnVuY3Rpb24oKXtiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO3ZhciBjPWZ1bmN0aW9uKCl7fTtjLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLmNvbnN0cnVjdG9yLnByb3RvdHlwZT1uZXcgYztoLm1peGluKGEuY29uc3RydWN0b3IucHJvdG90eXBlLGEpO2EuY29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yPQphLmNvbnN0cnVjdG9yO2EuY29uc3RydWN0b3Iuc3VwZXJjbGFzcz1iLnByb3RvdHlwZTthLmNvbnN0cnVjdG9yLmluaGVyaXQ9Si5pbmhlcml0O3JldHVybiBhLmNvbnN0cnVjdG9yfTtoLmZvckVhY2hLZXk9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCBpbiBhKWEuaGFzT3duUHJvcGVydHkoZCkmJmIuY2FsbChjLGQsYVtkXSxhKX07aC5pc0VxdWFsPWZ1bmN0aW9uKGEsYil7dmFyIGM9ITA7aC5mb3JFYWNoS2V5KGEsZnVuY3Rpb24oYSxmKXtiLmhhc093blByb3BlcnR5KGEpJiZiW2FdPT09Znx8KGM9ITEpfSk7aWYoIWMpcmV0dXJuIGM7aC5mb3JFYWNoS2V5KGIsZnVuY3Rpb24oYixmKXthLmhhc093blByb3BlcnR5KGIpJiZhW2JdPT09Znx8KGM9ITEpfSk7cmV0dXJuIGN9O2guZ2V0TmF0aXZlRnVuY3Rpb249ZnVuY3Rpb24oYSxiKXtiPWJ8fG07dmFyIGM9Yi5jb25zdHJ1Y3RvciYmYi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUmJmIuY29uc3RydWN0b3IucHJvdG90eXBlW2FdfHwKYlthXTt0cnl7aWYoYyYmYy5hcHBseSlyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseShiLGFyZ3VtZW50cyl9fWNhdGNoKGQpe3JldHVybiBiW2FdfXJldHVybiBjfTtoLnNldFRpbWVvdXQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBoLmdldE5hdGl2ZUZ1bmN0aW9uKCJzZXRUaW1lb3V0IikoRChhLGN8fCJzZXRUaW1lb3V0IiksYil9O3ZhciB4PUouaW5oZXJpdCh7X2luaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt4LnN1cGVyY2xhc3MuX2luaXRDb21wb25lbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX2xpc3RlbmVycz1bXX0sb246ZnVuY3Rpb24oYSxiLGMsZCxmKXtmPXguX2dldE9wdHMoZik7Yj1iLnNwbGl0KCIsIik7dmFyIGw9Yi5sZW5ndGgsZz10aGlzLl9saXN0ZW5lcnMsaDtmb3IoaD0wO2g8bDtoKyspe3ZhciByPWJbaF07dmFyIHc9RChmdW5jdGlvbihhKXtjLmNhbGwoZHx8dGhpcyxhfHxtLmV2ZW50KX0sIm9uIisocnx8IiIpKyhmLm5hbWV8fCIiKSk7CmdbZy5sZW5ndGhdPVthLHIsYyxkLGYsd107YS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihyLHcseC5fcHJlcE9wdHMoZikpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIityLHcpfX0sdW46ZnVuY3Rpb24oYSxiLGMsZCxmKXtmPXguX2dldE9wdHMoZik7dmFyIGw9dGhpcy5fbGlzdGVuZXJzLGc9bC5sZW5ndGgsbjtmb3Iobj0wO248ZztuKyspe3ZhciByPWxbbl07aWYoclswXT09YSYmclsxXT09YiYmclsyXT09YyYmclszXT09ZCYmaC5pc0VxdWFsKHJbNF0sZikpe2wuc3BsaWNlKG4sMSk7dGhpcy5fcmVtb3ZlTGlzdGVuZXIoYSxiLHJbNV0sZik7YnJlYWt9fX0sdW5BbGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9saXN0ZW5lcnMsYj1hLmxlbmd0aCxjO2ZvcihjPTA7YzxiO2MrKyl7dmFyIGQ9YVtjXTt0aGlzLl9yZW1vdmVMaXN0ZW5lcihkWzBdLGRbMV0sZFs1XSxkWzRdKX1hLmxlbmd0aD0wfSxfcmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oYSwKYixjLGQpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lcj9hLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjLHguX3ByZXBPcHRzKGQpKTphLmRldGFjaEV2ZW50JiZhLmRldGFjaEV2ZW50KCJvbiIrYixjKX19KTt4LnN1cHBvcnRzUGFzc2l2ZT1mdW5jdGlvbigpe2lmKHguX3N1cHBvcnRzUGFzc2l2ZSE9PUEpcmV0dXJuIHguX3N1cHBvcnRzUGFzc2l2ZTt4Ll9zdXBwb3J0c1Bhc3NpdmU9ITE7dHJ5e3ZhciBhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwicGFzc2l2ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB4Ll9zdXBwb3J0c1Bhc3NpdmU9ITB9fSk7bS5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0IixudWxsLGEpfWNhdGNoKGIpe31yZXR1cm4geC5fc3VwcG9ydHNQYXNzaXZlfTt4Ll9nZXRPcHRzPWZ1bmN0aW9uKGEpe3JldHVybiBoLm1peGluKHtjYXB0dXJlOiEwLHBhc3NpdmU6ITB9LGF8fHt9KX07eC5fcHJlcE9wdHM9ZnVuY3Rpb24oYSl7cmV0dXJuIHguc3VwcG9ydHNQYXNzaXZlKCk/CmE6ISFhLmNhcHR1cmV9O3gub249ZnVuY3Rpb24oKXt4Ll9pbnN0YW5jZXx8KHguX2luc3RhbmNlPW5ldyB4KTt4Ll9pbnN0YW5jZS5vbi5hcHBseSh4Ll9pbnN0YW5jZSxhcmd1bWVudHMpfTt4LnVuPWZ1bmN0aW9uKCl7eC5faW5zdGFuY2UmJnguX2luc3RhbmNlLnVuLmFwcGx5KHguX2luc3RhbmNlLGFyZ3VtZW50cyl9O3ZhciB5PXtVTkxPQURfTVM6MCxpc1BlcmZvbWFuY2U6bS5wZXJmb3JtYW5jZSYmbS5wZXJmb3JtYW5jZS50aW1pbmcmJm0ucGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCYmbS5wZXJmb3JtYW5jZS5ub3csZ2V0TXM6ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLlVOTE9BRF9NUz90aGlzLlVOTE9BRF9NUzp0aGlzLmlzUGVyZm9tYW5jZT9NYXRoLnJvdW5kKG0ucGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCttLnBlcmZvcm1hbmNlLm5vdygpKTp5Lm9sZE1zKCl9LGdldEZvcm1TdGFydDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUGVyZm9tYW5jZT8KTWF0aC5yb3VuZChtLnBlcmZvcm1hbmNlLm5vdygpKTp0aGlzLmdldE1zKCktdGhpcy5pbml0VGltZX19O3kub2xkTXM9RGF0ZS5ub3c/RGF0ZS5ub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX07eS5pbml0VGltZT15LmdldE1zKCk7eC5vbihtLCJiZWZvcmV1bmxvYWQsdW5sb2FkIixmdW5jdGlvbigpezA9PT15LlVOTE9BRF9NUyYmKHkuVU5MT0FEX01TPXkuZ2V0TXMoKSl9KTtoLnBhZD1mdW5jdGlvbihhKXtyZXR1cm4oMTA+YT8iMCI6IiIpK2F9O3kuZ2V0VGltZXN0YW1wPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IERhdGU7YT1bYS5nZXRGdWxsWWVhcigpLGEuZ2V0TW9udGgoKSsxLGEuZ2V0RGF0ZSgpLGEuZ2V0SG91cnMoKSxhLmdldE1pbnV0ZXMoKSxhLmdldFNlY29uZHMoKV07dmFyIGI9IiIsYztmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWIrPWgucGFkKGFbY10pO3JldHVybiBifTt5LmdldFRpbWV6b25lPWZ1bmN0aW9uKCl7cmV0dXJuLShuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKX07CnkuZ2V0TWludXRlcz1mdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKHRoaXMuZ2V0TXMoKS8xRTMvNjApfTt5LmdldFNlY29uZHM9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmdldE1zKCkvMUUzKX07eS5pc1BlcmZvbWFuY2V8fCh5LmRlbHRhVGltZT0wLHkubGFzdE5vd1RpbWU9MCx5LmNvcnJlY3RUaW1lPTAseS50aW1lQ29ycmVjdG9yPWZ1bmN0aW9uKGEpe3kuY29ycmVjdFRpbWU9eS5nZXRNcygpO2EmJnkuY29ycmVjdFRpbWU8eS5sYXN0VGltZSYmKHkuZGVsdGFUaW1lKz1hLXkuY29ycmVjdFRpbWUrMjApO2guc2V0VGltZW91dChmdW5jdGlvbigpe3kudGltZUNvcnJlY3Rvcih5LmNvcnJlY3RUaW1lKX0sMjAsInRpbWVDb3JyZWN0b3IiKX0pO3kuaW5pdENvcnJlY3Rvcj1mdW5jdGlvbigpe3kuaXNQZXJmb21hbmNlfHx5LnRpbWVDb3JyZWN0b3IoMCl9O3kubm93VGltZT1mdW5jdGlvbigpe2lmKHRoaXMuaXNQZXJmb21hbmNlKXJldHVybiB0aGlzLmdldE1zKCk7CnZhciBhPXRoaXMuZ2V0TXMoKSt5LmRlbHRhVGltZTthPHkubGFzdE5vd1RpbWUmJihhKz15Lmxhc3ROb3dUaW1lKzEwKTtyZXR1cm4geS5sYXN0Tm93VGltZT1hfTt5Lm5vd0V2ZW50VGltZT1mdW5jdGlvbigpe3JldHVybiBNYXRoLnJvdW5kKCh5Lm5vd1RpbWUoKS15LmluaXRUaW1lKS81MCl9O2gudG9TdHJpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX07aC5pc0Z1bmN0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PT10eXBlb2YgYX07aC5pc0FycmF5PWZ1bmN0aW9uKGEpe3JldHVybiBoLmlzRnVuY3Rpb24oQXJyYXkuaXNBcnJheSk/QXJyYXkuaXNBcnJheShhKToiW29iamVjdCBBcnJheV0iPT09aC50b1N0cmluZyhhKX07aC5tZXJnZUFycmF5cz1mdW5jdGlvbihhKXt2YXIgYixjLGQ9YXJndW1lbnRzLmxlbmd0aDtmb3IoYj0xO2I8ZDtiKyspe3ZhciBmPWFyZ3VtZW50c1tiXTtpZihoLmlzQXJyYXkoZil8fApmJiYiW29iamVjdCBBcmd1bWVudHNdIj09PWYudG9TdHJpbmcoKSlmb3IoYz0wO2M8Zi5sZW5ndGg7YysrKWFbYS5sZW5ndGhdPWZbY119cmV0dXJuIGF9O2guZGVmZXI9ZnVuY3Rpb24oYSxiLGMsZCxmKXtyZXR1cm4gaC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5hcHBseShjLGR8fFtdKX0sYixmKX07aC50aHJvdHRsZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZixsLGc7cmV0dXJuIGZ1bmN0aW9uKCl7bD1hcmd1bWVudHM7Zz10aGlzO2Z8fGZ1bmN0aW9uKCl7Zj1udWxsO2wmJihhLmFwcGx5KGN8fGcsbCksbD1udWxsLGY9aC5zZXRUaW1lb3V0KGFyZ3VtZW50cy5jYWxsZWUsYixkKSl9KCl9fTt2YXIgWGE9Si5pbmhlcml0KHtzdG9yYWdlOm51bGwsc3RvcmFnZUtleToiZGF0YUJ1ZmZlciIsc3RvcmU6e19rZXlzOltdLF92YWx1ZXM6W10sZ2V0OmZ1bmN0aW9uKGEpe2E9aC5hcnJheUluZGV4T2YodGhpcy5fa2V5cyxhKTtyZXR1cm4tMT09YT9udWxsOnRoaXMuX3ZhbHVlc1thXX0sCnNldDpmdW5jdGlvbihhLGIpe3RoaXMuX2tleXMucHVzaChhKTt0aGlzLl92YWx1ZXMucHVzaChiKX0scG9wOmZ1bmN0aW9uKGEpe2E9aC5hcnJheUluZGV4T2YodGhpcy5fa2V5cyxhKTtpZigtMT09YSlyZXR1cm4gbnVsbDt2YXIgYj10aGlzLl92YWx1ZXNbYV07dGhpcy5fa2V5cy5zcGxpY2UoYSwxKTt0aGlzLl92YWx1ZXMuc3BsaWNlKGEsMSk7cmV0dXJuIGJ9fSxtYXhCdWZmZXJTaXplOjI1NSxmbHVzaFRpbWVvdXQ6MUU0LHN0YXJ0QnVmZmVyVGltZTowLGFjdGl2ZTohMCxtZXRhOm51bGwsb25GbHVzaDpmdW5jdGlvbigpe30sb25GbHVzaEN0eDpudWxsLGJ1ZmZlckV4cGlyZVRpbWU6ODY0RTUsX2luaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYTtYYS5zdXBlcmNsYXNzLl9pbml0Q29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLndyYXBwZXJzPVtdO3RoaXMuX2RhdGE9W107dGhpcy5fcGFja2V0TnVtYmVyPTA7dGhpcy5fZmx1c2hUSUQ9bnVsbDt0aGlzLl9zYXZlVG9TdG9yYWdlVGhyb3R0bGVkPQpoLnRocm90dGxlKHRoaXMuX3NhdmVUb1N0b3JhZ2UsMzAwLHRoaXMsIkRhdGFCdWZmZXIuX3NhdmVUb1N0b3JhZ2UiKTt0aGlzLnN0b3JhZ2UmJihhPXRoaXMuc3RvcmFnZS5nZXQodGhpcy5zdG9yYWdlS2V5KSkmJmEuZGF0YSYmYS5tZXRhJiZhLnRpbWUmJmEudGltZSt0aGlzLmJ1ZmZlckV4cGlyZVRpbWU+K3kuZ2V0TXMoKSYmdGhpcy5vbkZsdXNoLmNhbGwodGhpcy5vbkZsdXNoQ3R4fHx0aGlzLHRoaXMuZGF0YUZyb21TdG9yYWdlKGEuZGF0YSksYS5tZXRhLGEucG51bSk7dGhpcy5jbGVhcigpfSxzZXRXVlR5cGU6ZnVuY3Rpb24oYSl7dGhpcy53dlR5cGU9YTt0aGlzLl9zZW5kZXIudmVyc2lvbj1hfSxnZXRGbHVzaFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5sZW5ndGh9LG1lcmdlRGF0YTpmdW5jdGlvbihhLGIpe2gubWVyZ2VBcnJheXMoYSxiKX0sdXBkYXRlU3RhbXA6ZnVuY3Rpb24oYSxiKXthLnN0YW1wIT09QSYmKGIuc3RhbXA9YS5zdGFtcCwiZW9mIiE9PQphLnR5cGUmJmRlbGV0ZSBhLnN0YW1wKX0sYXBwZW5kOmZ1bmN0aW9uKGEsYil7dGhpcy5tZXJnZURhdGEodGhpcy5fZGF0YSxhKTt0aGlzLl9zYXZlVG9TdG9yYWdlVGhyb3R0bGVkKCk7dGhpcy5hY3RpdmUmJigoYnx8dGhpcy5nZXRGbHVzaFNpemUoKT49dGhpcy5tYXhCdWZmZXJTaXplfHx0aGlzLmdldEZsdXNoU2l6ZSgpPT09dGhpcy5tYXhDaHVua1NpemUpJiZ0aGlzLl9mbHVzaChiKSx0aGlzLl9mbHVzaFRJRHx8KHRoaXMuX2ZsdXNoVElEPWguZGVmZXIodGhpcy5fZmx1c2gsdGhpcy5mbHVzaFRpbWVvdXQsdGhpcyxbYl0sIkRhdGFCdWZmZXIuX2ZsdXNoIikpKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZXx8KHRoaXMuYWN0aXZlPSEwLHRoaXMuYXBwZW5kKFtdKSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YS5sZW5ndGg9MDt0aGlzLl9mbHVzaFRJRD1udWxsO3RoaXMuc3RvcmFnZSYmdGhpcy5zdG9yYWdlLnJlbW92ZSh0aGlzLnN0b3JhZ2VLZXkpfSwKX2ZsdXNoOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmdldEZsdXNoU2l6ZSgpKXJldHVybiB0aGlzLmNsZWFyKCksITE7dGhpcy5vbkZsdXNoLmNhbGwodGhpcy5vbkZsdXNoQ3R4fHx0aGlzLHRoaXMuX2RhdGEsdGhpcy5tZXRhLHRoaXMuX3BhY2tldE51bWJlcixhKTt0aGlzLl9wYWNrZXROdW1iZXIrKzt0aGlzLmNsZWFyKCl9LGRhdGFGcm9tU3RvcmFnZTpmdW5jdGlvbihhKXtyZXR1cm4gYX0sZGF0YVRvU3RvcmFnZTpmdW5jdGlvbihhKXtyZXR1cm4gYX0sX3NhdmVUb1N0b3JhZ2U6ZnVuY3Rpb24oKXt0aGlzLnN0b3JhZ2UmJnRoaXMuX2RhdGEubGVuZ3RoJiZ0aGlzLnN0b3JhZ2Uuc2V0KHRoaXMuc3RvcmFnZUtleSx7ZGF0YTp0aGlzLmRhdGFUb1N0b3JhZ2UodGhpcy5fZGF0YSksbWV0YTp0aGlzLm1ldGEscG51bTp0aGlzLl9wYWNrZXROdW1iZXIsdGltZTp5LmdldE1zKCl9KX19KSx6Yj0icnUgdWEgYnkga3ogYXoga2cgbHYgbWQgdGogdG0gdXogZWUgZnIgY28uaWwgY29tLmdlIGNvbS5hbSBjb20udHIiLnNwbGl0KCIgIiksCkU9e3N0b3JhZ2U6e30saW5pdDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7RChmdW5jdGlvbigpe20uWWE9bS5ZYXx8e307bS5ZYS5fbWV0cmlrYT1tLllhLl9tZXRyaWthfHx7fTthLnN0b3JhZ2U9bS5ZYS5fbWV0cmlrYX0sIiIsITApKCk7cmV0dXJuIHRoaXN9LHNldFNhZmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO0QoZnVuY3Rpb24oKXtjLnN0b3JhZ2VbYV09PT1BJiYoYy5zdG9yYWdlW2FdPWIpfSwiIiwhMCkoKTtyZXR1cm4gdGhpc30sc2V0OmZ1bmN0aW9uKGEsYil7RChmdW5jdGlvbigpe20uWWEuX21ldHJpa2FbYV09Yn0sIiIsITApKCk7cmV0dXJuIHRoaXN9LGdldDpmdW5jdGlvbihhLGIpe3JldHVybiBEKGZ1bmN0aW9uKCl7dmFyIGM9bS5ZYS5fbWV0cmlrYVthXTtyZXR1cm4gYz09PUE/YjpjfSwiIiwhMCkoKX19O2guYXN5bmM9ZnVuY3Rpb24oYSxiLGMpe2lmKG0ucG9zdE1lc3NhZ2Upe3ZhciBkPSJfX3ltX19wcm9taXNlIitNYXRoLnJhbmRvbSgpKyJfIit5LmdldE1zKCk7CnZhciBmPWZ1bmN0aW9uKGMpe3RyeXt2YXIgZz1jLmRhdGF9Y2F0Y2gobil7cmV0dXJufWc9PT1kJiYoYy5zdG9wUHJvcGFnYXRpb24mJmMuc3RvcFByb3BhZ2F0aW9uKCksYS5jYWxsKGIpLHgudW4obSwibWVzc2FnZSIsZixudWxsLHtwYXNzaXZlOiExfSkpfTt4Lm9uKG0sIm1lc3NhZ2UiLGYsbnVsbCx7cGFzc2l2ZTohMSxuYW1lOiIuYXN5bmMuIisoY3x8IiIpfSk7bS5wb3N0TWVzc2FnZShkLCIqIil9ZWxzZSBoLnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmNhbGwoYil9LDApfTt2YXIgJGI9Si5pbmhlcml0KHt0cmFuc3BvcnRzOltdLGdsb2JhbENvbmZpZzpFLHBvc3RQYXJhbXM6W10saXNEaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsb2JhbENvbmZpZy5nZXQoIm9vIil9LHNlbmQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGY9W2FdLGw9dGhpcyxnPWN8fGZ1bmN0aW9uKCl7fTtsLmlzRGlzYWJsZWQoKT9nLmNhbGwoZCk6ZnVuY3Rpb24gdyhhKXtpZihhPHRoaXMudHJhbnNwb3J0cy5sZW5ndGgpdHJ5e3ZhciBjPQpuZXcgdGhpcy50cmFuc3BvcnRzW2FdKHtwb3N0UGFyYW1zOnRoaXMucG9zdFBhcmFtcyxxdWVyeVN0cmluZ1BhcmFtczp0aGlzLnF1ZXJ5U3RyaW5nUGFyYW1zfSk7YlsiYnJvd3Nlci1pbmZvIl09Yy5sb2dJbmZvKGJbImJyb3dzZXItaW5mbyJdKTsoZnVuY3Rpb24gayhxKXtxPj1mLmxlbmd0aD9jLmJsb2NrTmV4dCgpfHx3LmNhbGwodGhpcyxhKzEpOmMucmVxdWVzdChmW3FdLGIsZnVuY3Rpb24oYSxiLGMpe2E/Zy5jYWxsKGQsYixjKTpoLmFzeW5jKGZ1bmN0aW9uKCl7ay5jYWxsKGwscSsxKX0sdGhpcywic2VuZGVyQ2FsbCIpfSx0aGlzKX0pLmNhbGwodGhpcywwKX1jYXRjaChGKXtsYShGLCJzZW5kIGJ5ICIrKGMmJmMuaWQpKSx3LmNhbGwodGhpcyxhKzEpfX0uY2FsbCh0aGlzLDApfX0pLHdhPXt9O2gua2V5cz1mdW5jdGlvbihhKXt2YXIgYixjPVtdO2ZvcihiIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShiKSYmYy5wdXNoKGIpO3JldHVybiBjfTtoLm1hcD1mdW5jdGlvbihhLGIpe3ZhciBjLApkPVtdO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspZC5wdXNoKGEoYltjXSxjKSk7cmV0dXJuIGR9O3dhLnN0cmluZ2lmeT1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9Ynx8e30sZj17fSxsPWgua2V5cyhhKS5sZW5ndGgsZyxuO2lmKGQubGFzdE9yZGVyaW5nIT09QSlmb3Iobj0xO248PWIubGFzdE9yZGVyaW5nLmxlbmd0aDtuKyspZltiLmxhc3RPcmRlcmluZ1tuLTFdXT1sK247aWYoZC5maXJzdE9yZGVyaW5nIT09QSlmb3Iobj0wO248Yi5maXJzdE9yZGVyaW5nLmxlbmd0aDtuKyspZltiLmZpcnN0T3JkZXJpbmdbbl1dPW47Zm9yKGcgaW4gYSlpZihhLmhhc093blByb3BlcnR5KGcpKWlmKGQ9YVtnXSxoLmlzQXJyYXkoZCkpZm9yKG49MDtuPGQubGVuZ3RoO24rKyljLnB1c2goe2tleTpnLHZhbHVlOmVuY29kZVVSSUNvbXBvbmVudChnKSsiXHgzZCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhkW25dKSl9KTtlbHNlIGMucHVzaCh7a2V5OmcsdmFsdWU6ZW5jb2RlVVJJQ29tcG9uZW50KGcpKwoiXHgzZCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhkKSl9KTtjLnNvcnQoZnVuY3Rpb24oYSxiKXt2YXIgYz1mW2Eua2V5XSxkPWZbYi5rZXldOyJ1bmRlZmluZWQiPT09dHlwZW9mIGMmJihjPWwpOyJ1bmRlZmluZWQiPT09dHlwZW9mIGQmJihkPWwpO3JldHVybiBjLWR9KTtyZXR1cm4gaC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudmFsdWV9LGMpLmpvaW4oIlx4MjYiKX07aC5pbkFycmF5PWZ1bmN0aW9uKGEsYil7dmFyIGM7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKylpZihhW2NdPT1iKXJldHVybiEwO3JldHVybiExfTt2YXIgQ2E9Si5pbmhlcml0KHtwb3N0UGFyYW1zOltdLGluZGV4OjAsYmxvY2tOZXh0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGxvZ0luZm86ZnVuY3Rpb24oYSl7dmFyIGI7aWYoYSlyZXR1cm4gYT0oYj1hLm1hdGNoKC9edGk6XGQ6LykpP2EucmVwbGFjZShiWzBdLCIiKTphLCJ0aToiK3RoaXMuaW5kZXgrIjoiK2F9LF9idWlsZFVybDpmdW5jdGlvbihhLGIpe3ZhciBjPQp3YS5zdHJpbmdpZnkoYix0aGlzLnF1ZXJ5U3RyaW5nUGFyYW1zKTtyZXR1cm4gYSsoLTE8YS5pbmRleE9mKCI/Iik/Ilx4MjYiOmM/Ij8iOiIiKStjfSxfc3BsaXRQYXJhbXM6ZnVuY3Rpb24oYSl7dmFyIGI9e30sYz17fTtoLmZvckVhY2hLZXkoYSxmdW5jdGlvbihhLGYpe2guaW5BcnJheSh0aGlzLnBvc3RQYXJhbXMsYSk/Y1thXT1mOmJbYV09Zn0sdGhpcyk7cmV0dXJue2dldDpiLHBvc3Q6Y319LF9wYXJzZVJlc3A6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9fSksWmE9Q2EuaW5oZXJpdCh7aWQ6IlhIUiIsaW5kZXg6NyxtZXRob2Q6IlBPU1QiLHdpdGhDcmVkZW50aWFsczohMCxyZXF1ZXN0OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBmPXRoaXMsbDtpZigvW15hLXowLTkuOi1dLy50ZXN0KEwuaG9zdCkmJm0ub3BlcmEmJiJmdW5jdGlvbiI9PT10eXBlb2YgbS5vcGVyYS52ZXJzaW9uKXt2YXIgZz1tLm9wZXJhLnZlcnNpb24oKTtpZigic3RyaW5nIj09PXR5cGVvZiBnJiYiMTIiPT09Zy5zcGxpdCgiLiIpWzBdKXJldHVybiBjLmNhbGwoZCwKITEpfWlmKG0uWE1MSHR0cFJlcXVlc3Qpe3ZhciBoPW5ldyBYTUxIdHRwUmVxdWVzdDtpZigid2l0aENyZWRlbnRpYWxzImluIGgpe2I9dGhpcy5fc3BsaXRQYXJhbXMoYik7YT10aGlzLl9idWlsZFVybChhLGIuZ2V0KTt0cnl7aC5vcGVuKHRoaXMubWV0aG9kLGEsITApfWNhdGNoKHIpe3JldHVybiBjLmNhbGwoZCwhMSl9aC53aXRoQ3JlZGVudGlhbHM9dGhpcy53aXRoQ3JlZGVudGlhbHM7dGhpcy5fc2V0SGVhZGVycyhoKTtoLnNlbmQodGhpcy5fcHJlcGFyZVBvc3RQYXJhbXMoYikpO2gub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PWgucmVhZHlTdGF0ZSl7dHJ5e2w9Zi5fcGFyc2VSZXNwKGgucmVzcG9uc2VUZXh0KX1jYXRjaChyKXtyZXR1cm4gYy5jYWxsKGQsITEpfWMuYXBwbHkoZCxbMjAwPT09aC5zdGF0dXNdLmNvbmNhdChsKSl9fTt0aGlzLl90aW1lT3V0Q2hlY2soaCxjLGQpO3JldHVybn19Yy5jYWxsKGQsITEpfSxfdGltZU91dENoZWNrOmZ1bmN0aW9uKGEsCmIsYyl7dGhpcy50aW1lb3V0JiYoYS50aW1lb3V0PXRoaXMudGltZW91dCxoLnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmFib3J0P2EuYWJvcnQoKTpiLmNhbGwoYywhMSl9LHRoaXMudGltZW91dCsxMDApKX0sc2V0TWV0aG9kOmZ1bmN0aW9uKGEpe3RoaXMubWV0aG9kPWF9LF9wcmVwYXJlUG9zdFBhcmFtczpmdW5jdGlvbihhKXtyZXR1cm4gd2Euc3RyaW5naWZ5KGEucG9zdCl9LF9zZXRIZWFkZXJzOmZ1bmN0aW9uKGEpe2Euc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIil9fSksdj17fTtoLm1lbW9yaXplPWZ1bmN0aW9uKGEsYil7dmFyIGM9Im1lbW9yaXplIjtyZXR1cm4gZnVuY3Rpb24oKXsibWVtb3JpemUiPT09YyYmKGM9YS5hcHBseShifHx0aGlzLGFyZ3VtZW50cykpO3JldHVybiBjfX07di5pc0FuZHJvaWRXZWJWaWV3PUQoZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50fHwiIjtyZXR1cm4gYS5tYXRjaCgvQW5kcm9pZC4qVmVyc2lvblwvWzAtOV1bMC05Ll0qXHNDaHJvbWVcL1swLTldWzAtOS5dLyl8fAphLm1hdGNoKC9BbmRyb2lkLipWZXJzaW9uXC9bMC05XVswLTkuXSpccyg/Ok1vYmlsZVxzKT9TYWZhcmlcL1swLTldWzAtOS5dKlxzQ2hyb21lXC9bMC05XVswLTkuXSovKXx8YS5tYXRjaCgvOyB3dlwpLipDaHJvbWVcL1swLTldWzAtOS5dKlxzTW9iaWxlLyl9LCJpc0FuZHJvaWRXZWJWaWV3Iik7dmFyIGFjPUNhLmluaGVyaXQoe2lkOiJiZWFjb24iLGluZGV4OjEscmVxdWVzdDpmdW5jdGlvbihhLGIsYyxkKXsiZnVuY3Rpb24iPT09dHlwZW9mIG5hdmlnYXRvci5zZW5kQmVhY29uJiYhdi5pc0FuZHJvaWRXZWJWaWV3KCkmJm5hdmlnYXRvci5vbkxpbmU/KGI9dGhpcy5fc3BsaXRQYXJhbXMoYiksYi5nZXRbImZvcmNlLXVybGVuY29kZWQiXT0xLGMuY2FsbChkLG5hdmlnYXRvci5zZW5kQmVhY29uKHRoaXMuX2J1aWxkVXJsKGEsYi5nZXQpLHdhLnN0cmluZ2lmeShiLnBvc3QpKSkpOmMuY2FsbChkLCExKX19KTtoLnJhbmRvbT1mdW5jdGlvbihhLGIpezI+YXJndW1lbnRzLmxlbmd0aCYmCihiPWEsYT0wKTsxPmFyZ3VtZW50cy5sZW5ndGgmJihiPTEwNzM3NDE4MjQpO3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGItYSkpK2F9O3ZhciAkYT1DYS5pbmhlcml0KHtpZDoiZm9ybSIsaW5kZXg6MixlbmN0eXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLGh0bWxmaWxlT25seTohMSxfaW5pdENvbXBvbmVudDpmdW5jdGlvbigpeyRhLnN1cGVyY2xhc3MuX2luaXRDb21wb25lbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpOyJfaHRtbGZpbGUiaW4gJGEucHJvdG90eXBlfHwoJGEucHJvdG90eXBlLl9odG1sZmlsZT10aGlzLl9jcmVhdGVIdG1sZmlsZSgpKTt0aGlzLl9kb2M9dGhpcy5faHRtbGZpbGV8fCh0aGlzLmh0bWxmaWxlT25seT9udWxsOnQpfSxyZXF1ZXN0OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBmPXRoaXMuX2RvYztpZighZilyZXR1cm4gYy5jYWxsKGQsITEpO2I9dGhpcy5fc3BsaXRQYXJhbXMoYik7dmFyIGw9ImlmciIraC5yYW5kb20oKTsKdmFyIGc9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7Zy5zdHlsZS5sZWZ0PSItOTk5OTlweCI7Zy5zdHlsZS50b3A9Ii05OTk5OXB4Ijt2YXIgbj1bJ1x4M2NpZnJhbWUgbmFtZVx4M2QiJyxsLCciXHgzZVx4M2MvaWZyYW1lXHgzZScsJ1x4M2Nmb3JtIGFjdGlvblx4M2QiJyx0aGlzLl9idWlsZFVybChhLGIuZ2V0KSwnIiBtZXRob2RceDNkInBvc3QiIHRhcmdldFx4M2QiJyxsLCciIGVuY3R5cGVceDNkIicsdGhpcy5lbmN0eXBlLCciXHgzZSddO2guZm9yRWFjaEtleShiLnBvc3QsZnVuY3Rpb24oYSl7aC5tZXJnZUFycmF5cyhuLFsnXHgzY2lucHV0IHR5cGVceDNkImhpZGRlbiIgYXV0b2NvbXBsZXRlXHgzZCJvZmYiIGF1dG9jb3JyZWN0XHgzZCJvZmYiJywnIGF1dG9jYXBpdGFsaXplXHgzZCJvZmYiIHNwZWxsY2hlY2tceDNkImZhbHNlIiBuYW1lXHgzZCInLGEsJyIvXHgzZSddKX0pO2gubWVyZ2VBcnJheXMobixbIlx4M2MvZm9ybVx4M2UiXSk7CmcuaW5uZXJIVE1MPW4uam9pbigiIik7Zi5ib2R5LmFwcGVuZENoaWxkKGcpO3ZhciByPWcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImZvcm0iKVswXTtoLmZvckVhY2hLZXkoYi5wb3N0LGZ1bmN0aW9uKGEsYil7clthXS52YWx1ZT1ifSk7ci5zdWJtaXQoKTtoLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmJvZHkucmVtb3ZlQ2hpbGQoZyl9LDFFNCwiVHJhbnNwb3J0Rm9ybS5yZXF1ZXN0LjIiKTtyZXR1cm4gYy5jYWxsKGQsITAsInRmLnJlcXVlc3QiKX0sX2NyZWF0ZUh0bWxmaWxlOmZ1bmN0aW9uKCl7dHJ5e2lmKG0uQWN0aXZlWE9iamVjdCl7dmFyIGE9bmV3IEFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIik7YS5vcGVuKCk7YS53cml0ZSgiXHgzY2h0bWxceDNlXHgzY2JvZHlceDNlXHgzYy9ib2R5XHgzZVx4M2MvaHRtbFx4M2UiKTthLmNsb3NlKCk7cmV0dXJuIGF9fWNhdGNoKGIpe31yZXR1cm4gbnVsbH19KSxiYz0kYS5pbmhlcml0KHtpZDoiaHRtbGZpbGUiLGluZGV4OjMsaHRtbGZpbGVPbmx5OiEwfSksCkRhPUNhLmluaGVyaXQoe2lkOiJpbWciLGluZGV4OjQscmVxdWVzdDpmdW5jdGlvbihhLGIsYyxkKXthPXRoaXMuX2J1aWxkVXJsKGEsYik7dmFyIGY9ITE7Yj10LmNyZWF0ZUVsZW1lbnQoImltZyIpO2M9Y3x8ZnVuY3Rpb24oKXt9O2Iub25sb2FkPUQoZnVuY3Rpb24oKXtmfHwoYy5jYWxsKGQsITApLGY9ITApfSwiVHJhbnNwb3J0SW1hZ2UucmVxdWVzdCIpO2Iub25lcnJvcj1EKGZ1bmN0aW9uKCl7Znx8KGMuY2FsbChkLCExKSxmPSEwKX0sIlRyYW5zcG9ydEltYWdlLnJlcXVlc3QiKTtiLnNyYz1hO3RoaXMudGltZW91dCYmaC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Znx8KGMuY2FsbChkLCExKSxmPSEwKX0sdGhpcy50aW1lb3V0LCJ0aS5yZXF1ZXN0Iil9fSksYWE9e3N0cmluZ2lmeTpmdW5jdGlvbihhKXt0cnl7dmFyIGI9SlNPTi5zdHJpbmdpZnkoYSl9Y2F0Y2goYyl7fXJldHVybiBoLmluQXJyYXkoWyJ7fSIsQV0sYik/Im51bGwiOmJ9fTtoLnRvSlNPTj1mdW5jdGlvbihhKXt2YXIgYjsKaWYoYT09PUEpcmV0dXJuIiI7aWYobnVsbD09PWEpcmV0dXJuIm51bGwiO3N3aXRjaChhLmNvbnN0cnVjdG9yKXtjYXNlIEJvb2xlYW46cmV0dXJuIGEudG9TdHJpbmcoKTtjYXNlIE51bWJlcjpyZXR1cm4gaXNGaW5pdGUoYSk/YS50b1N0cmluZygpOiJudWxsIjtjYXNlIFN0cmluZzpyZXR1cm4nIicrYS5yZXBsYWNlKC9cXC9nLCJcXFxcIikucmVwbGFjZSgvIi9nLCdcXCInKS5yZXBsYWNlKC9cbi9nLCJcXG4iKS5yZXBsYWNlKC9cci9nLCJcXHIiKSsnIic7Y2FzZSBBcnJheTp2YXIgYz1bXTt2YXIgZD0wO2ZvcihiPWEubGVuZ3RoO2Q8YjtkKyspY1tjLmxlbmd0aF09aC50b0pTT04oYVtkXSk7cmV0dXJuIlsiK2Muam9pbigiLCIpKyJdIjtjYXNlIE9iamVjdDpjPVtdO2ZvcihkIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShkKSYmYVtkXSE9PUEmJihjW2MubGVuZ3RoXT1oLnRvSlNPTihkKSsiOiIraC50b0pTT04oYVtkXSkpO3JldHVybiJ7IitjLmpvaW4oIiwiKSsifSI7ZGVmYXVsdDpyZXR1cm4gYWEuc3RyaW5naWZ5KGEpfX07CnZhciBZPUouaW5oZXJpdCh7Y291bnRlcklkOiIiLF9pbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7WS5zdXBlcmNsYXNzLl9pbml0Q29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9scz1udWxsO3RyeXt0aGlzLl9scz1tLmxvY2FsU3RvcmFnZX1jYXRjaChhKXt9fSxzZXQ6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmlzRW5hYmxlZCgpKXRyeXshYnx8YiYmaC5pc0FycmF5KGIpJiYhYi5sZW5ndGg/dGhpcy5yZW1vdmUoYSk6dGhpcy5fbHMuc2V0SXRlbSh0aGlzLl9nZXRMc0tleShhKSxoLnRvSlNPTihiKSl9Y2F0Y2goYyl7fX0sZ2V0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNFbmFibGVkKCkpdHJ5e3JldHVybiBKU09OLnBhcnNlKHRoaXMuX2xzLmdldEl0ZW0odGhpcy5fZ2V0THNLZXkoYSkpKX1jYXRjaChiKXt9cmV0dXJuIG51bGx9LHJlbW92ZTpmdW5jdGlvbihhKXtpZih0aGlzLmlzRW5hYmxlZCgpKXRyeXt0aGlzLl9scy5yZW1vdmVJdGVtKHRoaXMuX2dldExzS2V5KGEpKX1jYXRjaChiKXt9fSwKaXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xzJiZtLkpTT04mJiJvYmplY3QiPT10eXBlb2YgdGhpcy5fbHMmJiJvYmplY3QiPT10eXBlb2YgbS5KU09OfSxnZXRTdG9yYWdlSWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldCgibHNpZCIpO2F8fChhPU1hdGgucm91bmQoTWF0aC5yYW5kb20oKSp5LmdldE1zKCkpLHRoaXMuc2V0KCJsc2lkIixhKSk7cmV0dXJuIGF9LGNsZWFyU3RvcmFnZUlkOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmUoImxzaWQiKX0sX2dldExzS2V5OmZ1bmN0aW9uKGEpe3JldHVybiJfeW0iK3RoaXMuY291bnRlcklkKyJfIithfX0pO2guZm52MzJhPWZ1bmN0aW9uKGEpe3ZhciBiPTIxNjYxMzYyNjEsYzt2YXIgZD0wO2ZvcihjPWEubGVuZ3RoO2Q8YzsrK2QpYl49YS5jaGFyQ29kZUF0KGQpLGIrPShiPDwxKSsoYjw8NCkrKGI8PDcpKyhiPDw4KSsoYjw8MjQpO3JldHVybiBiPj4+MH07aC5jbGVhclRpbWVvdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGguZ2V0TmF0aXZlRnVuY3Rpb24oImNsZWFyVGltZW91dCIpKGEpfTsKaC5nZXRUbGQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fdGxkKXt2YXIgYT1MLmhvc3RuYW1lLnNwbGl0KCIuIik7dGhpcy5fdGxkPWFbYS5sZW5ndGgtMV19cmV0dXJuIHRoaXMuX3RsZH07aC5oaWRkZW5GcmFtZUNyZWF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjO2lmKGM9aC5faGlkZGVuRnJhbWVzW2FdKXJldHVybi0xPT09aC5hcnJheUluZGV4T2YoYy5vd25lcnMsYikmJmMub3duZXJzLnB1c2goYiksYy5mcmFtZSYmYy5mcmFtZS5wb3N0TWVzc2FnZSYmYy5mcmFtZS5wb3N0TWVzc2FnZSgiZnJhbWVSZWluaXQiLCIqIiksYy5mcmFtZTtjPWguZ2V0TmF0aXZlRnVuY3Rpb24oImNyZWF0ZUVsZW1lbnQiLHQpKCJpZnJhbWUiKTtoLm1peGluKGMuc3R5bGUse2Rpc3BsYXk6Im5vbmUiLHdpZHRoOiIxcHgiLGhlaWdodDoiMXB4Iix2aXNpYmlsaXR5OiJoaWRkZW4ifSk7Yy5zcmM9YTt0LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChjKTtoLl9oaWRkZW5GcmFtZXNbYV09e2ZyYW1lOmMsCm93bmVyczpbYl19O3JldHVybiBjfTtoLmhpZGRlbkZyYW1lUmVtb3ZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9aC5faGlkZGVuRnJhbWVzW2FdLGQ7YyYmLTEhPT1oLmFycmF5SW5kZXhPZihjLm93bmVycyxiKSYmKGMub3duZXJzPWguZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhIT09Yn0sYy5vd25lcnMpLGMub3duZXJzLmxlbmd0aHx8KChkPWMuZnJhbWUucGFyZW50Tm9kZSkmJmQucmVtb3ZlQ2hpbGQoYy5mcmFtZSksZGVsZXRlIGguX2hpZGRlbkZyYW1lc1thXSkpfTt2YXIga2E9e2FiYzoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiLHRhaWw6IisvXHgzZCIsdGFpbFNhZmU6IiotXyIsZW5jb2RlOmZ1bmN0aW9uKGEsYil7dmFyIGM9KGthLmFiYysoYj9rYS50YWlsU2FmZTprYS50YWlsKSkuc3BsaXQoIiIpLGQ9YS5sZW5ndGgsZj1bXSxsPWQtZCUzLGc7Zm9yKGc9MDtnPGw7Zys9Myl7dmFyIG49KGFbZ108PAoxNikrKGFbZysxXTw8OCkrYVtnKzJdO2gubWVyZ2VBcnJheXMoZixbY1tuPj4xOCY2M10sY1tuPj4xMiY2M10sY1tuPj42JjYzXSxjW24mNjNdXSl9c3dpdGNoKGQtbCl7Y2FzZSAxOm49YVtsXTw8NDtoLm1lcmdlQXJyYXlzKGYsW2Nbbj4+NiY2M10sY1tuJjYzXSxjWzY0XSxjWzY0XV0pO2JyZWFrO2Nhc2UgMjpuPShhW2xdPDwxMCkrKGFbbCsxXTw8MiksaC5tZXJnZUFycmF5cyhmLFtjW24+PjEyJjYzXSxjW24+PjYmNjNdLGNbbiY2M10sY1s2NF1dKX1yZXR1cm4gZi5qb2luKCIiKX0sZGVjb2RlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWthLmFiYysoYj9rYS50YWlsU2FmZTprYS50YWlsKSxkPTAsZj0iIixsLGcsaCxyLHc7YS5sZW5ndGglNDspYSs9Ilx4M2QiO2Rve2w9Yy5pbmRleE9mKGEuY2hhckF0KGQrKykpO2c9Yy5pbmRleE9mKGEuY2hhckF0KGQrKykpO3I9Yy5pbmRleE9mKGEuY2hhckF0KGQrKykpO3c9Yy5pbmRleE9mKGEuY2hhckF0KGQrKykpO2lmKDA+bHx8MD4KZ3x8MD5yfHwwPncpcmV0dXJuIG51bGw7aD1sPDwxOHxnPDwxMnxyPDw2fHc7bD1oPj4xNiYyNTU7Zz1oPj44JjI1NTtoJj0yNTU7Zj02ND09cj9mK1N0cmluZy5mcm9tQ2hhckNvZGUobCk6NjQ9PXc/ZitTdHJpbmcuZnJvbUNoYXJDb2RlKGwsZyk6ZitTdHJpbmcuZnJvbUNoYXJDb2RlKGwsZyxoKX13aGlsZShkPGEubGVuZ3RoKTtyZXR1cm4gZn19LFJhPXtlbmNvZGU6ZnVuY3Rpb24oYSl7dmFyIGI9W10sYzt2YXIgZD0wO2ZvcihjPWEubGVuZ3RoO2Q8YztkKyspe3ZhciBmPWEuY2hhckNvZGVBdChkKTsxMjg+Zj9iLnB1c2goZik6KDEyNzxmJiYyMDQ4PmY/Yi5wdXNoKGY+PjZ8MTkyKTooYi5wdXNoKGY+PjEyfDIyNCksYi5wdXNoKGY+PjYmNjN8MTI4KSksYi5wdXNoKGYmNjN8MTI4KSl9cmV0dXJuIGJ9fTt2LmlzU2FtZVNpdGU9aC5tZW1vcml6ZShmdW5jdGlvbigpe3ZhciBhPS9DaHJvbWVcLyhcZCspXC4vO3JldHVybiBtLm5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmCihhPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goYSkpJiYxPGEubGVuZ3RoPyhhPXBhcnNlSW50KGFbMV0sMTApLDc2PD1hKTohMX0pO3ZhciBOPUouaW5oZXJpdCh7Y291bnRlcklkOiIiLG9ubHlDdXJyZW50RG9tYWluOiExLHNraXBQcmVmaXg6ITEsc2FtZVNpdGVTdHI6IiIsX2luaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYTtOLnN1cGVyY2xhc3MuX2luaXRDb21wb25lbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX2RvbWFpbj1udWxsO3YuaXNTYW1lU2l0ZSgpJiYodGhpcy5zYW1lU2l0ZVN0cj0iU2FtZVNpdGVceDNkTm9uZSIpO2lmKCF0aGlzLm9ubHlDdXJyZW50RG9tYWluKXt2YXIgYj1tLmxvY2F0aW9uLmhvc3Quc3BsaXQoIi4iKTtmb3IoYT0yOzspaWYoYTw9Yi5sZW5ndGgpe2lmKHRoaXMuX2RvbWFpbj0iLiIrYi5zbGljZSgtYSkuam9pbigiLiIpLGErKyx0aGlzLmlzRW5hYmxlZCgpKWJyZWFrfWVsc2V7dGhpcy5fZG9tYWluPW51bGw7YnJlYWt9fX0sY3JlYXRlOmZ1bmN0aW9uKGEsCmIsYyl7YT1bdGhpcy5fcHJlcGFyZU5hbWUoYSkrIlx4M2QiK2VuY29kZVVSSUNvbXBvbmVudChiKV07YyYmKGI9bmV3IERhdGUsYi5zZXRUaW1lKGIuZ2V0VGltZSgpKzZFNCpjKSxhLnB1c2goImV4cGlyZXNceDNkIitiLnRvR01UU3RyaW5nKCkpKTt0aGlzLnNhbWVTaXRlU3RyJiYoYS5wdXNoKHRoaXMuc2FtZVNpdGVTdHIpLCJodHRwczoiPT09bS5sb2NhdGlvbi5wcm90b2NvbCYmYS5wdXNoKCJTZWN1cmUiKSk7dGhpcy5fZG9tYWluJiZhLnB1c2goImRvbWFpblx4M2QiK3RoaXMuX2RvbWFpbik7YS5wdXNoKCJwYXRoXHgzZC8iKTt0cnl7dC5jb29raWU9YS5qb2luKCI7Iil9Y2F0Y2goZCl7fX0scmVhZDpmdW5jdGlvbihhKXt0cnl7dmFyIGI9dC5jb29raWV9Y2F0Y2goYyl7fXJldHVybiBiJiZiLm1hdGNoKG5ldyBSZWdFeHAoIig/Ol58O1xccyopIit0aGlzLl9wcmVwYXJlTmFtZShhKSsiXHgzZChbXjtdKikiKSk/ZGVjb2RlVVJJQ29tcG9uZW50KFJlZ0V4cC4kMSk6bnVsbH0sCmVyYXNlOmZ1bmN0aW9uKGEpe3RoaXMuY3JlYXRlKGEsIiIsLTEpfSxpc0VuYWJsZWQ6ZnVuY3Rpb24oKXt0aGlzLmNyZWF0ZSgibWV0cmlrYV9lbmFibGVkIiwiMSIsNjApO3ZhciBhPSEhdGhpcy5yZWFkKCJtZXRyaWthX2VuYWJsZWQiKTt0aGlzLmVyYXNlKCJtZXRyaWthX2VuYWJsZWQiKTtyZXR1cm4gYX0sX3ByZXBhcmVOYW1lOmZ1bmN0aW9uKGEpe3JldHVybih0aGlzLnNraXBQcmVmaXg/IiI6Il95bV8iKSthKyh0aGlzLmNvdW50ZXJJZD8iXyIrdGhpcy5jb3VudGVySWQ6IiIpfX0pO04uZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihuZXcgTih7b25seUN1cnJlbnREb21haW46ITB9KSkucmVhZChhKX07Ti5zZXQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybihuZXcgTih7b25seUN1cnJlbnREb21haW46ITB9KSkuY3JlYXRlKGEsYixjKX07Ti5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IE4oe29ubHlDdXJyZW50RG9tYWluOiEwfSkpLmlzRW5hYmxlZCgpfTt2LmdldElUUFlhQnJvVmVyc2lvbj0KZnVuY3Rpb24oKXt2YXIgYT0vXHNZcHRwXC9cZFwuKFxkKylccy8sYj1udWxsO20ubmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50JiYoYT1hLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkpJiYxPGEubGVuZ3RoJiYoYj1wYXJzZUludChhWzFdLDEwKSk7cmV0dXJuIGJ9O3YuZWRnVmVyc2lvbj1oLm1lbW9yaXplKGZ1bmN0aW9uKCl7dmFyIGE9bnVsbDt2YXIgYj0vRWRnXC8oXGQrKVwuLzttLm5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmKGI9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaChiKSkmJjE8Yi5sZW5ndGgmJihhPXBhcnNlSW50KGJbMV0sMTApKTtyZXR1cm4gYX0pO3YuaXNTYWZhcmlXZWJWaWV3PUQoZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50fHwiIjtyZXR1cm4gbmF2aWdhdG9yLnZlbmRvciYmLTE8bmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCJBcHBsZSIpJiYoIWEubWF0Y2goL1NhZmFyaS8pJiZhLm1hdGNoKC9Nb2JpbGUvKXx8CmEubWF0Y2goL0NGTmV0d29ya1wvWzAtOV1bMC05Ll0qLipEYXJ3aW5cL1swLTldWzAtOS5dKi8pfHwtMSE9PWEuaW5kZXhPZigiRkJfSUFCIil8fC0xIT09YS5pbmRleE9mKCJGQkFWIil8fC0xIT09YS5pbmRleE9mKCJPS0FwcCIpfHwtMSE9PWEuaW5kZXhPZigiR1NBLyIpKX0sImlzU2FmYXJpV2ViVmlldyIpO3YuaXNGRj1EKGZ1bmN0aW9uKGEpe3ZhciBiPSExO20mJm0uZG9jdW1lbnQmJm0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZtLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSYmKGI9Ik1vekFwcGVhcmFuY2UiaW4gbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUmJiJ1bmRlZmluZWQiIT09dHlwZW9mIG0uSW5zdGFsbFRyaWdnZXIpO2lmKGImJmEmJm0ubmF2aWdhdG9yJiZtLm5hdmlnYXRvci51c2VyQWdlbnQmJm0ubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCl7dmFyIGM9bS5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XC8oWzAtOV0rKS8pOwpiPSExO2MmJmMubGVuZ3RoJiYoYz0rY1sxXSxiPWM+PWEpfXJldHVybiBifSwiaXNGRiIpO3YuaXNTYWZhcmk9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5hdmlnYXRvci52ZW5kb3ImJi0xPG5hdmlnYXRvci52ZW5kb3IuaW5kZXhPZigiQXBwbGUiKSYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goIkNyaU9TIil9Y2F0Y2goYSl7fXJldHVybiExfTt2LmdldE1hY09TVmVyc2lvbj1EKGZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvTWFjIE9TIFggKFswLTldKylfKFswLTldKylfKFswLTldKykvKTtyZXR1cm4gYT9bK2FbMV0sK2FbMl0sK2FbM11dOlswLDAsMF19LCIiLCEwKTt2LmdldFBsYXRmb3JtPUQoZnVuY3Rpb24oKXtyZXR1cm4iIituYXZpZ2F0b3IucGxhdGZvcm19LCIiLCEwKTt2LmlzSU9TPUQoZnVuY3Rpb24oKXt2YXIgYT12LmdldFBsYXRmb3JtKCl8fCIiO3JldHVybiJpUGhvbmUiPT09YXx8ImlQYWQiPT09CmF9LCIiLCEwKTt2LmlzSVRQU2FmYXJpPWgubWVtb3JpemUoZnVuY3Rpb24oKXt2YXIgYT12LmdldE1hY09TVmVyc2lvbigpO3JldHVybih2LmlzSU9TKCl8fDEwPGFbMF18fDEwPT09YVswXSYmMTM8PWFbMV0pJiZ2LmlzU2FmYXJpKCl9KTt2YXIgRWE9e19zdG9yYWdlOm5ldyBZLGdsb2JhbENvbmZpZzpudWxsLGtleToienpsYyIsdXNlckluZm86IiIsdXBkYXRlSW5mbzpmdW5jdGlvbihhKXtoLmZvckVhY2hLZXkodGhpcy5nZXRJbmZvRmxhZ3MoKSxmdW5jdGlvbihiLGMpe3ZhciBkPWMuY2FsbCh0aGlzKTtkJiYoYVtiXT1kKX0sdGhpcyk7cmV0dXJuIGF9LGdldFltOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fc3RvcmFnZS5nZXQodGhpcy55bUtleSl8fHt9O3JldHVybiBhLnJlc3A/YS5yZXNwOnRoaXMuZ2VuWW0uY2FsbCh0aGlzLGEpfSxnZXRZbUQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9zdG9yYWdlLmdldCh0aGlzLnltS2V5KXx8e307aWYoYS5kbW4pcmV0dXJuIGEuZG1ufSwKZ2V0Wlo6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5nZXQodGhpcy5rZXkpP3RoaXMuX3N0b3JhZ2UuZ2V0KHRoaXMua2V5KTp0aGlzLnp6fSxnZXRQUDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsb2JhbENvbmZpZyYmdGhpcy5nbG9iYWxDb25maWcuZ2V0KCJwcCIpP3RoaXMuZ2xvYmFsQ29uZmlnLmdldCgicHAiKTp0aGlzLnBwfSxnZXRQVTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsb2JhbENvbmZpZyYmdGhpcy5nbG9iYWxDb25maWcuZ2V0KCJwdSIpP3RoaXMuZ2xvYmFsQ29uZmlnLmdldCgicHUiKTp0aGlzLnB1fSxnZXRGaXA6ZnVuY3Rpb24oKXtpZih0aGlzLl9zdG9yYWdlLmdldCh0aGlzLmZpcEtleSkpcmV0dXJuIHRoaXMuX3N0b3JhZ2UuZ2V0KHRoaXMuZmlwS2V5KX0sZ2V0SW5mb0ZsYWdzOmZ1bmN0aW9uKCl7cmV0dXJue3BpOnRoaXMuZ2V0WW0scGlkOnRoaXMuZ2V0WW1ELHp6OnRoaXMuZ2V0WloscHA6dGhpcy5nZXRQUCxwdTp0aGlzLmdldFBVLGZpcDp0aGlzLmdldEZpcH19LApjaGVja1ZlcnNpb246ZnVuY3Rpb24oKXt2YXIgYT12LmVkZ1ZlcnNpb24oKSxiPXYuZ2V0SVRQWWFCcm9WZXJzaW9uKCk7cmV0dXJuIHRoaXMuZ2xvYmFsQ29uZmlnLmdldCgiaXNFVSIpPzE6NTA8PWImJjk5Pj1ifHxhJiY3OTw9YT8wOiF2LmlzSVRQU2FmYXJpKCl8fHYuaXNTYWZhcmlXZWJWaWV3KCl9LG5vb3A6ZnVuY3Rpb24oKXt9LGdlblB1OmZ1bmN0aW9uKGEpe3ZhciBiPWguZm52MzJhKG0ubG9jYXRpb24uaG9zdCkrdGhpcy51c2VySW5mbzt0aGlzLnB1PWI7YS5zZXQoInB1IixiKTtyZXR1cm4gYn0seW1LZXk6InBpIixnZW5ZbTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9TSgpLGQ9eS5nZXRNaW51dGVzKCk7aWYoIXRoaXMuY2hlY2tWZXJzaW9uKCkmJm0uZmV0Y2gmJnRoaXMuX3N0b3JhZ2UuZ2V0KCJyZXRyeVJlcXMiKSYmInlhbmRleC5ydSI9PWMuaG9zdG5hbWUmJiIvIj09Yy5wYXRobmFtZSYmIShhLmx0JiZhLmx0KzE0NDA+ZCkpe2EubHQ9ZDtjPVsiYXV0by5ydS9kYWlrdSIsCiJ0aGVxdWVzdGlvbi5ydS9kYWlrdSIsInd3dy5raW5vcG9pc2sucnUvZGFpa3UiLCJ3d3cubWF4aW1vbmxpbmUucnUvX3ltIl07dmFyIGY9Y1toLnJhbmRvbSgwLGMubGVuZ3RoKV07ZmV0Y2goIi8vIitmLHtjcmVkZW50aWFsczoiaW5jbHVkZSJ9KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmpzb24oKX0pLnRoZW4oZnVuY3Rpb24oYyl7YyYmKGEucmVzcD1jLl95bV91aWQsYS5kbW49a2EuZW5jb2RlKFJhLmVuY29kZShmKSksYi5fc3RvcmFnZS5zZXQoYi55bUtleSxhKSl9KVsiY2F0Y2giXShmdW5jdGlvbigpe2IuX3N0b3JhZ2Uuc2V0KGIueW1LZXksYSl9KX19LGluaXRQVTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dmFyIGQ9di5pc0ZGKDY4KTt0aGlzLmdsb2JhbENvbmZpZz1iO2IuZ2V0KCJwdSIpIT09QXx8dGhpcy5jaGVja1ZlcnNpb24oKSYmIWR8fChiLnNldFNhZmUoInB1IixudWxsKSxhLmFkZEhhbmRsZXIoImdwdS1nZXQiLGZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6ImdwdS1nZXQiLApwdTpiLmdldCgicHUiKX19LHRoaXMpLG0ub3BlbmVyPyhkPWguc2V0VGltZW91dChmdW5jdGlvbigpe2MuZ2VuUHUoYil9LDIwMCwicHUiKSxhLnNlbmRUb0lmcmFtZShtLm9wZW5lcix7dHlwZToiZ3B1LWdldCJ9LHRoaXMuaGFuZGxlR3B1KGQpLHRoaXMpKTp0aGlzLmdlblB1KGIpKX0saGFuZGxlR3B1OmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiPWIucHU7aC5jbGVhclRpbWVvdXQoYSk7YiYmKHRoaXMucHU9Yix0aGlzLmdsb2JhbENvbmZpZy5zZXQoInB1IixiKSl9fSxvbmljZWNhbmRpZGF0ZTpEKGZ1bmN0aW9uKGEpe3ZhciBiO3RyeXt2YXIgYz0oYj1hLmxvY2FsRGVzY3JpcHRpb24uc2RwKSYmYi5tYXRjaCgvYz1JTlxzW1x3XGRdK1xzKFtcd1xkOi5dKykvKX1jYXRjaChkKXthLm9uaWNlY2FuZGlkYXRlPXRoaXMubm9vcDsiY2xvc2VkIiE9PWEuaWNlQ29ubmVjdGlvblN0YXRlJiZhLmNsb3NlKCk7cmV0dXJufWMmJjA8Yy5sZW5ndGgmJih0aGlzLnBwPWguZm52MzJhKGNbMV0pLAp0aGlzLmdsb2JhbENvbmZpZy5zZXQoInBwIix0aGlzLnBwKSk7YS5vbmljZWNhbmRpZGF0ZT10aGlzLm5vb3A7YS5jbG9zZSgpfSwid3J0Iiksb25PZmZlcjpmdW5jdGlvbihhLGIpe2guaXNGdW5jdGlvbihhLnNldExvY2FsRGVzY3JpcHRpb24pJiZhLnNldExvY2FsRGVzY3JpcHRpb24oYix0aGlzLm5vb3AsdGhpcy5ub29wKX0saW5pdFBQOkQoZnVuY3Rpb24oYSl7dmFyIGI9bS5SVENQZWVyQ29ubmVjdGlvbnx8bS5tb3pSVENQZWVyQ29ubmVjdGlvbnx8bS53ZWJraXRSVENQZWVyQ29ubmVjdGlvbjt0aGlzLmdsb2JhbENvbmZpZz1hO2lmKG0ubmF2aWdhdG9yLm9uTGluZSYmYiYmYS5nZXQoInBwIik9PUEmJih0aGlzLmdsb2JhbENvbmZpZy5zZXRTYWZlKCJwcCIsbnVsbCksYiYmYi5wcm90b3R5cGUmJmIucHJvdG90eXBlLmNvbnN0cnVjdG9yJiZiLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5uYW1lKSl7dHJ5e3ZhciBjPW5ldyBiKHtpY2VTZXJ2ZXJzOltdfSk7Yy5jcmVhdGVEYXRhQ2hhbm5lbCgieS5tZXRyaWthIil9Y2F0Y2goZil7cmV0dXJufWlmKGguaXNGdW5jdGlvbihjLmNyZWF0ZU9mZmVyKSYmCiFjLmNyZWF0ZU9mZmVyLmxlbmd0aCl7dHJ5e3ZhciBkPWMuY3JlYXRlT2ZmZXIoKX1jYXRjaChmKXtyZXR1cm59aC5pc0Z1bmN0aW9uKGQudGhlbikmJmQudGhlbihoLmJpbmQodGhpcy5vbk9mZmVyLHRoaXMsYykpO2Mub25pY2VjYW5kaWRhdGU9aC5iaW5kKHRoaXMub25pY2VjYW5kaWRhdGUsdGhpcyxjKX19fSwicmNpbml0IiksaW5pdFpaOmZ1bmN0aW9uKCl7dmFyIGE9InJ1IixiPXYuaXNGRig2OCksYz12LmVkZ1ZlcnNpb24oKSxkPXRoaXM7aWYoIXRoaXMuZ2V0WlooKSYmKCF0aGlzLmNoZWNrVmVyc2lvbigpfHxiKSl7aWYoYnx8YyYmNzk8PWMpYT0ibWQiO3RoaXMuenpVcmw9Imh0dHBzOi8vbWMueWFuZGV4LiIrYStrYS5kZWNvZGUoIkwyMWxkSEpwYTJFdmVucHNZeTVvZEcxcyIpO2guaGlkZGVuRnJhbWVDcmVhdGUodGhpcy56elVybCx0aGlzLmtleSk7eC5vbihtLCJtZXNzYWdlIix0aGlzLm9uTWVzc2FnZSx0aGlzLHtwYXNzaXZlOiExfSk7dGhpcy50aW1lb3V0PWguc2V0VGltZW91dChmdW5jdGlvbigpe3gudW4obSwKIm1lc3NhZ2UiLGQub25NZXNzYWdlLGQse3Bhc3NpdmU6ITF9KTtoLmhpZGRlbkZyYW1lUmVtb3ZlKGQuenpVcmwsZC5rZXkpO2Queno9Im5hIn0sM0UzLCJjZC5pbml0WloiKX19LG9uTWVzc2FnZTpmdW5jdGlvbihhKXthLmRhdGEmJmEuZGF0YS5zdWJzdHImJiJfX3ltX196eiI9PT1hLmRhdGEuc3Vic3RyKDAsOCkmJih0aGlzLnp6PWEuZGF0YS5zdWJzdHIoOCksaC5oaWRkZW5GcmFtZVJlbW92ZSh0aGlzLnp6VXJsLHRoaXMua2V5KSx0aGlzLl9zdG9yYWdlLnNldCh0aGlzLmtleSx0aGlzLnp6KSx4LnVuKG0sIm1lc3NhZ2UiLHRoaXMub25NZXNzYWdlLHRoaXMse3Bhc3NpdmU6ITF9KSxoLmNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpKX0sZmlwS2V5OiJmaXAiLGZwRmFjdG9yczoid2ViR0wgcGx1Z2lucyBhcHBsZVBheSBkbnQgZm9udCBuYXZpIGpzSGVhcCBzY3JlZW4gc3BlZWNoIHZpZGVvIG1NZWRpYSIuc3BsaXQoIiAiKSxpbml0RmlwOmZ1bmN0aW9uKCl7dmFyIGE9MDthPQp2LmlzRkYoNjgpOyFPYmplY3Qua2V5c3x8dGhpcy5jaGVja1ZlcnNpb24oKSYmIWF8fHRoaXMuX3N0b3JhZ2UuZ2V0KHRoaXMuZmlwS2V5KXx8KGE9bmV3IGtiKGgucmVkdWNlKGZ1bmN0aW9uKGEsYyl7YVtjXT0xO3JldHVybiBhfSx7fSx0aGlzLmZwRmFjdG9ycykpLGE9YS50b1N0cmluZyghMSkuam9pbigiLSIpLHRoaXMuX3N0b3JhZ2Uuc2V0KHRoaXMuZmlwS2V5LGEpKX19LFY9JGIuaW5oZXJpdCh7cHJvdG9jb2w6IiIsaG9zdDoibWMueWFuZGV4LnJ1IixxdWVyeVN0cmluZ1BhcmFtczp7Zmlyc3RPcmRlcmluZzpbIndtb2RlIiwiY2FsbGJhY2siLCJjbnQtY2xhc3MiXSxsYXN0T3JkZXJpbmc6WyJicm93c2VyLWluZm8iXX0scmVzb3VyY2U6IiIsY291bnRlcklkOiIiLGNvdW50ZXJUeXBlOjAscmV0cnk6ITEsdHJhbnNwb3J0czpbYWMsWmEsRGEsYmNdLF9pbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7Vi5zdXBlcmNsYXNzLl9pbml0Q29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTsKdGhpcy5yZXRyeSYmKHRoaXMuX3N0b3JhZ2U9bmV3IFkpfSxzZW5kOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBmPXRoaXMuZ2xvYmFsQ29uZmlnLmdldCh4YS5nbG9iYWxLZXkpLGw9dGhpcztmJiYzIT09dGhpcy5jb3VudGVySWQ/ZihmdW5jdGlvbigpe3ZhciBnPWwuX3JlZ2lzdGVyUmVxdWVzdChhLGIpO2wuX3NlbmRTYXZlZFJlcXVlc3QoZyxhLGIsYyxkKX0sYSk6KGY9bC5fcmVnaXN0ZXJSZXF1ZXN0KGEsYiksbC5fc2VuZFNhdmVkUmVxdWVzdChmLGEsYixjLGQpKX0sX3NlbmRTYXZlZFJlcXVlc3Q6ZnVuY3Rpb24oYSxiLGMsZCxmKXt2YXIgbD10aGlzLmdsb2JhbENvbmZpZy5nZXQoImZpcnN0UmVxU3RhdHVzIiksZz1iLmZvcmNlTm9SZWRpcmVjdDtpZigicHJvY2VzcyI9PWwpdGhpcy5nbG9iYWxDb25maWcuc2V0KCJmaXJzdFJlcUNhbGxiYWNrcyIsaC5tZXJnZUFycmF5cyh0aGlzLmdsb2JhbENvbmZpZy5nZXQoImZpcnN0UmVxQ2FsbGJhY2tzIil8fFtdLFtbdGhpcyxhcmd1bWVudHNdXSkpOwplbHNle2x8fHRoaXMuZ2xvYmFsQ29uZmlnLnNldCgiZmlyc3RSZXFTdGF0dXMiLCJwcm9jZXNzIik7dGhpcy5jb3VudGVyVHlwZSYmKGJbImNudC1jbGFzcyJdPXRoaXMuY291bnRlclR5cGUpO3RoaXMuZ2xvYmFsQ29uZmlnLmdldCgicHJpIikmJihjLnByaT10aGlzLmdsb2JhbENvbmZpZy5nZXQoInByaSIpKTtjLnN0PXkuZ2V0U2Vjb25kcygpO2MudT1WLl91c2VySUQ7dGhpcy5nbG9iYWxDb25maWcuZ2V0KCJpc0VVIil8fChjPUVhLnVwZGF0ZUluZm8oYykpO2w9W3RoaXMucHJvdG9jb2wsIi8vIix0aGlzLmhvc3QsIi8iLHRoaXMucmVzb3VyY2UsIi8iLHRoaXMuY291bnRlcklkLGc/Ii8xIjoiIl0uam9pbigiIik7ZGVsZXRlIGIuZm9yY2VOb1JlZGlyZWN0O3ZhciBuPVtdO2MmJihoLmZvckVhY2hLZXkoYyxmdW5jdGlvbihhLGIpeyJ0IiE9YSYmaC5tZXJnZUFycmF5cyhuLFthLGJdKX0pLGMudCYmaC5tZXJnZUFycmF5cyhuLFsidCIsYy50XSkpO24ubGVuZ3RoJiYoYlsiYnJvd3Nlci1pbmZvIl09Cm4uam9pbigiOiIpKTtyZXR1cm4gVi5zdXBlcmNsYXNzLnNlbmQuY2FsbCh0aGlzLGwsYixmdW5jdGlvbigpe3ZhciBiO3RoaXMuZ2xvYmFsQ29uZmlnLnNldCgiZmlyc3RSZXFTdGF0dXMiLCJjb21wbGV0ZSIpO3RoaXMuX3VucmVnaXN0ZXJSZXF1ZXN0KGEpO3ZhciBjPXRoaXMuZ2xvYmFsQ29uZmlnLmdldCgiZmlyc3RSZXFDYWxsYmFja3MiKTt0aGlzLmdsb2JhbENvbmZpZy5zZXQoImZpcnN0UmVxQ2FsbGJhY2tzIixudWxsKTtpZihjKWZvcihiPTA7YjxjLmxlbmd0aDtiKyspY1tiXVswXS5fc2VuZFNhdmVkUmVxdWVzdC5hcHBseShjW2JdWzBdLGNbYl1bMV0pO2QmJmQuYXBwbHkoZixhcmd1bWVudHMpfSx0aGlzKX19LF9pc1JldHJ5RW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJldHJ5JiZ0aGlzLl9zdG9yYWdlJiZ0aGlzLl9zdG9yYWdlLmlzRW5hYmxlZCgpfSxfcmVnaXN0ZXJSZXF1ZXN0OmZ1bmN0aW9uKGEsYil7dmFyIGM7aWYodGhpcy5faXNSZXRyeUVuYWJsZWQoKSl7Yi5ycW5sPQpiLnJxbmx8fDA7Yi5ycW5sKys7dmFyIGQ9dGhpcy5fc3RvcmFnZS5nZXQoInJldHJ5UmVxcyIpfHx7fTtmb3IoYz0xO2RbY107KWMrKztkW2NdPXtwcm90b2NvbDp0aGlzLnByb3RvY29sLGhvc3Q6dGhpcy5ob3N0LHJlc291cmNlOnRoaXMucmVzb3VyY2UsY291bnRlcklkOnRoaXMuY291bnRlcklkLGNvdW50ZXJUeXBlOnRoaXMuY291bnRlclR5cGUscG9zdFBhcmFtczp0aGlzLnBvc3RQYXJhbXMscGFyYW1zOmEsYnJvd3NlckluZm86YixnaGlkOnRoaXMuZ2xvYmFsQ29uZmlnLmdldCgiX2dsb2JhbE1ldHJpa2FIaXRJZCIpLHRpbWU6eS5nZXRNcygpfTt0aGlzLl9zdG9yYWdlLnNldCgicmV0cnlSZXFzIixkKTtyZXR1cm4gY319LF91bnJlZ2lzdGVyUmVxdWVzdDpmdW5jdGlvbihhKXtpZihhJiZ0aGlzLl9pc1JldHJ5RW5hYmxlZCgpKXt2YXIgYj10aGlzLl9zdG9yYWdlLmdldCgicmV0cnlSZXFzIil8fHt9O2JbYV0mJihkZWxldGUgYlthXSx0aGlzLl9zdG9yYWdlLnNldCgicmV0cnlSZXFzIiwKYikpfX0sX2dldFZlcnNpb246RChmdW5jdGlvbigpe3JldHVybiB6YX0sIiIsITApfSk7Vi5fc3RvcmFnZT1uZXcgWTtWLmluaXRDb29raWU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IE4oe29ubHlDdXJyZW50RG9tYWluOiJ1aWQiIT09YX0pLGM9Yi5yZWFkKGEpLGQ9Vi5fc3RvcmFnZS5nZXQoYSksZj0hMSxsPWIucmVhZCgiZCIpLGc9eS5nZXRTZWNvbmRzKCk7ZCYmIWMmJihjPWQsZj0hMCxiLmNyZWF0ZShhLGMsNTI1NjAwKSxiLmNyZWF0ZSgiZCIsZyw1MjU2MDApKTtpZighYyljPWcrIiIraC5yYW5kb20oKSxiLmNyZWF0ZShhLGMsNTI1NjAwKSxiLmNyZWF0ZSgiZCIsZyw1MjU2MDApO2Vsc2UgaWYoIWx8fDE1NzY4RTM8Zy1wYXJzZUludChsKSliLmNyZWF0ZShhLGMsNTI1NjAwKSxiLmNyZWF0ZSgiZCIsZyw1MjU2MDApO1YuX3N0b3JhZ2Uuc2V0KGEsYyk7Vi5fdXNlcklEPWM7cmV0dXJuIGZ9O1YucmV0cmFuc21pdD1mdW5jdGlvbihhKXt2YXIgYj1WLl9zdG9yYWdlLGM9Yi5nZXQoInJldHJ5UmVxcyIpfHwKe30sZDtiLnJlbW92ZSgicmV0cnlSZXFzIik7aC5mb3JFYWNoS2V5KGMsZnVuY3Rpb24oYixjKXt2YXIgZz15LmdldE1zKCk7YS5nZXQoImZpcnN0UmVxU3RhdHVzIil8fGEuc2V0KCJmaXJzdFJlcVN0YXR1cyIsImNvbXBsZXRlIik7Yy5naGlkJiZjLmdoaWQhPWEuZ2V0KCJfZ2xvYmFsTWV0cmlrYUhpdElkIikmJmMudGltZSYmYy50aW1lKzE3MjhFNT5nJiY1MDA8Zy1jLnRpbWUmJjI+PWMuYnJvd3NlckluZm8ucnFubCYmKGQ9bmV3IFYoe3Byb3RvY29sOmMucHJvdG9jb2wsaG9zdDpjLmhvc3QscmVzb3VyY2U6Yy5yZXNvdXJjZSxjb3VudGVySWQ6Yy5jb3VudGVySWQsY291bnRlclR5cGU6Yy5jb3VudGVyVHlwZSxwb3N0UGFyYW1zOmMucG9zdFBhcmFtc3x8W10scmV0cnk6ITB9KSxkLnNlbmQoYy5wYXJhbXMsYy5icm93c2VySW5mbykpfSl9O2guZmxldGNoZXI9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLGM9MCxkPTI1NSxmPTI1NSxsLGcsaDtiOyl7bD0yMTxiPzIxOgpiO2ItPWw7ZG8gZz0ic3RyaW5nIj09dHlwZW9mIGE/YS5jaGFyQ29kZUF0KGMpOmFbY10sYysrLDI1NTxnJiYoaD1nPj44LGcmPTI1NSxnXj1oKSxkKz1nLGYrPWQ7d2hpbGUoLS1sKTtkPShkJjI1NSkrKGQ+PjgpO2Y9KGYmMjU1KSsoZj4+OCl9YT0oZCYyNTUpKyhkPj44KTw8OHwoZiYyNTUpKyhmPj44KTtyZXR1cm4gNjU1MzU9PWE/MDphfTt2YXIgY2M9LyhcP3wmKXR1cmJvX3VpZD0oW1x3XGRdKykoJHwmKS8sZGM9aC5tZW1vcml6ZShmdW5jdGlvbigpe3ZhciBhPW5ldyBOLGI9TSgpO3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYyhhLGIpfX0pLGVjPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5zZWFyY2gubWF0Y2goY2MpLGQ9bnVsbCxmPWEucmVhZCgidHVyYm9fdWlkIik7YyYmMjw9Yy5sZW5ndGg/KGQ9Y1syXSxhLmNyZWF0ZSgidHVyYm9fdWlkIixkLDg2NDAwKSk6ZiYmKGQ9Zik7cmV0dXJuIGR9O2guYXJyYXlFdmVyeT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7Zm9yKGQ9MDtkPAphLmxlbmd0aDtkKyspaWYoIWIuY2FsbChjLGFbZF0sZCxhKSlyZXR1cm4hMTtyZXR1cm4hMH07aC5pczRCeXRlcz1mdW5jdGlvbihhKXtyZXR1cm4haC5hcnJheUV2ZXJ5KChlbmNvZGVVUklDb21wb25lbnQoYSkubWF0Y2goLyglW0EtRixcZF17Mn0pKy9nKXx8W10pLmpvaW4oIiIpLnNwbGl0KCIlIiksZnVuY3Rpb24oYSl7cmV0dXJuIDI0MD5wYXJzZUludChhLDE2KX0pfTtoLnRyaW09ZnVuY3Rpb24oYSxiKXthPVN0cmluZyhhKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIik7YiYmYS5sZW5ndGg+YiYmKGE9YS5zdWJzdHIoMCxiKSk7cmV0dXJuIGF9O2guaXNOdW1iZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGlzRmluaXRlKGEpJiYhaXNOYU4oYSkmJiJbb2JqZWN0IE51bWJlcl0iPT09aC50b1N0cmluZyhhKX07aC5pc1N0cmluZz1mdW5jdGlvbihhKXtyZXR1cm4iW29iamVjdCBTdHJpbmddIj09PWgudG9TdHJpbmcoYSl9O2guX2hhc0luZGV4T2Y9W10uaW5kZXhPZiYmMD09PVtBXS5pbmRleE9mKEEpOwpoLmFycmF5SW5kZXhPZj1oLl9oYXNJbmRleE9mP2Z1bmN0aW9uKGEsYil7cmV0dXJuIGEuaW5kZXhPZihiKX06ZnVuY3Rpb24oYSxiKXt2YXIgYztmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfTtoLndhcm5pbmc9ZnVuY3Rpb24oKXttLmNvbnNvbGUmJiJmdW5jdGlvbiI9PT10eXBlb2YgbS5jb25zb2xlLndhcm4mJmNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9O2guaXNPYmplY3Q9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBhJiZudWxsIT09YSYmIltvYmplY3QgT2JqZWN0XSI9PT1oLnRvU3RyaW5nKGEpfWNhdGNoKGIpe3JldHVybiExfX07aC5fdXJsUGFyc2VyPW51bGw7aC5wYXJzZVVybD1mdW5jdGlvbihhKXtpZighdGhpcy5fdXJsUGFyc2VyKXRyeXt0aGlzLl91cmxQYXJzZXI9dC5jcmVhdGVFbGVtZW50KCJhIil9Y2F0Y2goYil7fXJldHVybiB0aGlzLl91cmxQYXJzZXI/KHRoaXMuX3VybFBhcnNlci5ocmVmPQphLHtwcm90b2NvbDp0aGlzLl91cmxQYXJzZXIucHJvdG9jb2wsaG9zdDp0aGlzLl91cmxQYXJzZXIuaG9zdCxwb3J0OnRoaXMuX3VybFBhcnNlci5wb3J0LGhvc3RuYW1lOnRoaXMuX3VybFBhcnNlci5ob3N0bmFtZSxoYXNoOnRoaXMuX3VybFBhcnNlci5oYXNoLHNlYXJjaDp0aGlzLl91cmxQYXJzZXIuc2VhcmNoLHF1ZXJ5OnRoaXMuX3VybFBhcnNlci5zZWFyY2gucmVwbGFjZSgvXlw/LywiIikscGF0aG5hbWU6dGhpcy5fdXJsUGFyc2VyLnBhdGhuYW1lfHwiLyIscGF0aDoodGhpcy5fdXJsUGFyc2VyLnBhdGhuYW1lfHwiLyIpK3RoaXMuX3VybFBhcnNlci5zZWFyY2gsaHJlZjp0aGlzLl91cmxQYXJzZXIuaHJlZn0pOnt9fTtoLl9wbGF5ZXJSZWdleHA9L14uK1wubXRwcm94eVwueWFuZGV4XC5uZXQkLztoLmlzTWV0cmlrYVBsYXllcj1mdW5jdGlvbigpe3JldHVybiJNZXRyaWthUGxheWVyIj09bS5uYW1lfHx0aGlzLl9wbGF5ZXJSZWdleHAudGVzdChtLmxvY2F0aW9uLmhvc3RuYW1lKX07CmguaXNOYXRpdmVGdW5jdGlvbj1mdW5jdGlvbihhLGIpe3JldHVybiBhJiYiZnVuY3Rpb24iPT09dHlwZW9mIGE/KG5ldyBSZWdFeHAoImZ1bmN0aW9uXFxzKiIrYisiXFxzKlxcKFxcKVxccypcXHtcXHMqXFxbbmF0aXZlW1xccy1dY29kZVxcXVxccypcXH0iLCJpIikpLnRlc3QoYS50b1N0cmluZygpKTohMX07dmFyIHU9e30sZmM9aC5tZW1vcml6ZShmdW5jdGlvbigpe3ZhciBhPXt9LGI9NTksYz1TdHJpbmcuZnJvbUNoYXJDb2RlLGQsZj0iQSBCIEJJRyBCT0RZIEJVVFRPTiBERCBESVYgREwgRFQgRU0gRklFTERTRVQgRk9STSBIMSBIMiBIMyBINCBINSBINiBIUiBJIElNRyBJTlBVVCBMSSBPTCBQIFBSRSBTRUxFQ1QgU01BTEwgU1BBTiBTVFJPTkcgU1VCIFNVUCBUQUJMRSBUQk9EWSBURCBURVhUQVJFQSBURk9PVCBUSCBUSEVBRCBUUiBVIFVMIEFCQlIgQVJFQSBCTE9DS1FVT1RFIENBUFRJT04gQ0VOVEVSIENJVEUgQ09ERSBDQU5WQVMgREZOIEVNQkVEIEZPTlQgSU5TIEtCRCBMRUdFTkQgTEFCRUwgTUFQIE9CSkVDVCBRIFMgU0FNUCBTVFJJS0UgVFQgQVJUSUNMRSBBVURJTyBBU0lERSBGT09URVIgSEVBREVSIE1FTlUgTUVURVIgTkFWIFBST0dSRVNTIFNFQ1RJT04gVElNRSBWSURFTyBOT0lOREVYIE5PQlIgTUFJTiBzdmcgY2lyY2xlIGNsaXBwYXRoIGVsbGlwc2UgZGVmcyBmb3JlaWdub2JqZWN0IGcgZ2x5cGggZ2x5cGhyZWYgaW1hZ2UgbGluZSBsaW5lYXJncmFkaWVudCBtYXJrZXIgbWFzayBwYXRoIHBhdHRlcm4gcG9seWdvbiBwb2x5bGluZSByYWRpYWxncmFkaWVudCByZWN0IHNldCB0ZXh0IHRleHRwYXRoIHRpdGxlIi5zcGxpdCgiICIpOwpmb3IoZD0wO2Q8Zi5sZW5ndGg7ZCsrKWFbZltkXV09YyhiKSxiKys7cmV0dXJuIGF9KTt1LmdldERvY3VtZW50Q2hhcnNldD1mdW5jdGlvbigpe3JldHVybigiIisodC5jaGFyYWN0ZXJTZXR8fHQuY2hhcnNldHx8IiIpKS50b0xvd2VyQ2FzZSgpfTt1LmdldEJvZHk9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpOzA8YS5sZW5ndGg7KXJldHVybiBhWzBdfTt1LmdldFJvb3RFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGE9dC5kb2N1bWVudEVsZW1lbnQsYj11LmdldEJvZHkoKTtyZXR1cm4iQ1NTMUNvbXBhdCI9PXQuY29tcGF0TW9kZT9hOmJ8fGF9O3UuZ2V0Vmlld3BvcnRTaXplPWZ1bmN0aW9uKCl7dmFyIGE9dS5nZXRSb290RWxlbWVudCgpO3JldHVyblthLmNsaWVudFdpZHRofHxtLmlubmVyV2lkdGgsYS5jbGllbnRIZWlnaHR8fG0uaW5uZXJIZWlnaHRdfTt1LmdldERvY3VtZW50VGl0bGU9ZnVuY3Rpb24oKXt2YXIgYT10LnRpdGxlOyJzdHJpbmciIT0KdHlwZW9mIGEmJihhPShhPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRpdGxlIikpJiZhLmxlbmd0aD9hWzBdLmlubmVySFRNTDoiIik7cmV0dXJuIGF9O3YuZ2V0U2lsdmVybGlnaHRWZXJzaW9uPWgubWVtb3JpemUoZnVuY3Rpb24oKXtpZihtLkFjdGl2ZVhPYmplY3QpdHJ5e3ZhciBhPW5ldyBBY3RpdmVYT2JqZWN0KCJBZ0NvbnRyb2wuQWdDb250cm9sIik7dmFyIGI9ZnVuY3Rpb24oYSxiLGQsZil7Zm9yKDtjKGEsYik7KWJbZF0rPWY7YltkXS09Zn07dmFyIGM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5pc1ZlcnNpb25TdXBwb3J0ZWQoYlswXSsiLiIrYlsxXSsiLiIrYlsyXSsiLiIrYlszXSl9O3ZhciBkPVsxLDAsMCwwXTtiKGEsZCwwLDEpO2IoYSxkLDEsMSk7YihhLGQsMiwxRTQpO2IoYSxkLDIsMUUzKTtiKGEsZCwyLDEwMCk7YihhLGQsMiwxMCk7YihhLGQsMiwxKTtiKGEsZCwzLDEpO3ZhciBmPWQuam9pbigiLiIpfWNhdGNoKGwpe31lbHNlIGlmKGI9bS5uYXZpZ2F0b3IsCmI9Yi5wbHVnaW5zJiZiLnBsdWdpbnNbIlNpbHZlcmxpZ2h0IFBsdWctSW4iXSlmPWIuZGVzY3JpcHRpb247cmV0dXJuIGZ8fCIifSk7di5nZXRGbGFzaFZlcnNpb249aC5tZW1vcml6ZShmdW5jdGlvbigpe3ZhciBhPW0ubmF2aWdhdG9yO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgYS5wbHVnaW5zJiYib2JqZWN0Ij09dHlwZW9mIGEucGx1Z2luc1siU2hvY2t3YXZlIEZsYXNoIl0pe3ZhciBiPWEucGx1Z2luc1siU2hvY2t3YXZlIEZsYXNoIl07dmFyIGM9Yi52ZXJzaW9uO2lmKChiPWIuZGVzY3JpcHRpb24pfHxjKWlmKGE9YS5taW1lVHlwZXMsInVuZGVmaW5lZCI9PXR5cGVvZiBhfHwhYVsiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giXXx8YVsiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giXS5lbmFibGVkUGx1Z2luKWM/di5fZmxhc2hWZXJzaW9uPWM6YiYmKHYuX2ZsYXNoVmVyc2lvbj1iLnJlcGxhY2UoLyhbYS16QS1aXXxccykrLywiIikucmVwbGFjZSgvKFxzK3J8XHMrYlswLTldKykvLAoiLiIpKX1lbHNlIGlmKCJ1bmRlZmluZWQiIT10eXBlb2YgbS5BY3RpdmVYT2JqZWN0KXRyeXtpZihjPW5ldyBBY3RpdmVYT2JqZWN0KCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaCIpLGI9Yy5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKSl2Ll9mbGFzaFZlcnNpb249Yi5zcGxpdCgiICIpWzFdLnJlcGxhY2UoLywvZywiLiIpLnJlcGxhY2UoL1teLlxkXS9nLCIiKX1jYXRjaChkKXt9cmV0dXJuIHYuX2ZsYXNoVmVyc2lvbn0pO3YuZ2V0TGFuZ3VhZ2U9aC5tZW1vcml6ZShmdW5jdGlvbigpe3ZhciBhPShtLm5hdmlnYXRvcj9uYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZToiIikudG9Mb3dlckNhc2UoKTtyZXR1cm4gaC5pc1N0cmluZyhhKT9hOiIifSk7di5nZXRKYXZhRW5hYmxlZD1oLm1lbW9yaXplKGZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuYXZpZ2F0b3IuamF2YUVuYWJsZWQoKX1jYXRjaChhKXtyZXR1cm4hMX19KTsKdi5nZXRGaW5nZXJQcmludD1oLm1lbW9yaXplKGZ1bmN0aW9uKCl7dmFyIGE9W10sYjtpZihuYXZpZ2F0b3IucGx1Z2lucyYmbmF2aWdhdG9yLnBsdWdpbnMubGVuZ3RoKWZvcihiPTA7YjxuYXZpZ2F0b3IucGx1Z2lucy5sZW5ndGg7YisrKXt2YXIgYz1uYXZpZ2F0b3IucGx1Z2luc1tiXTtoLm1lcmdlQXJyYXlzKGEsW2MubmFtZSxjLnZlcnNpb24sYy5kZXNjcmlwdGlvbixjLmZpbGVuYW1lXSl9aWYobmF2aWdhdG9yLm1pbWVUeXBlcyYmbmF2aWdhdG9yLm1pbWVUeXBlcy5sZW5ndGgpZm9yKGI9MDtiPG5hdmlnYXRvci5taW1lVHlwZXMubGVuZ3RoO2IrKyljPW5hdmlnYXRvci5taW1lVHlwZXNbYl0saC5tZXJnZUFycmF5cyhhLFtjLnR5cGUsYy5kZXNjcmlwdGlvbixjLnN1ZmZpeGVzXSk7cmV0dXJuIGguZm52MzJhKGEuam9pbigiOyIpKSsiMDEifSk7di5nZXROb3RpZmljYXRpb25QZXJtaXNzaW9uPWZ1bmN0aW9uKCl7dHJ5e3ZhciBhPU5vdGlmaWNhdGlvbi5wZXJtaXNzaW9ufWNhdGNoKGIpe31zd2l0Y2goYSl7Y2FzZSAiZGVuaWVkIjpyZXR1cm4gMTsKY2FzZSAiZ3JhbnRlZCI6cmV0dXJuIDJ9fTt2LmlzSWZyYW1lPWgubWVtb3JpemUoZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG0udG9wIT1tfWNhdGNoKGEpe3JldHVybiExfX0pO3YuX25NYXA9e290aGVyOiIwIixub25lOiIxIix1bmtub3duOiIyIix3aWZpOiIzIixldGhlcm5ldDoiNCIsYmx1ZXRvb3RoOiI1IixjZWxsdWxhcjoiNiIsd2ltYXg6IjciLG1peGVkOiI4In07di5uZXRUeXBlPWZ1bmN0aW9uKCl7dmFyIGE9KG5hdmlnYXRvci5jb25uZWN0aW9ufHx7dHlwZToiIn0pLnR5cGU7cmV0dXJuIHYuX25NYXBbYV18fGF9O3YuaXNIZWFkTGVzcz1oLm1lbW9yaXplKGZ1bmN0aW9uKCl7dmFyIGEsYj1bIl9waGFudG9tIiwiX19uaWdodG1hcmUiLCJjYWxsUGhhbnRvbSJdO2ZvcihhPTA7YTxiLmxlbmd0aDthKyspaWYobVtiW2FdXSlyZXR1cm4hMDtyZXR1cm4vUGhhbnRvbUpTLy50ZXN0KG0ubmF2aWdhdG9yLnVzZXJBZ2VudCl8fG0ubmF2aWdhdG9yLndlYmRyaXZlcnx8bS5pc0Nocm9tZSYmCiFtLmNocm9tZT8hMDovSGVhZGxlc3NDaHJvbWUvLnRlc3QobS5uYXZpZ2F0b3IudXNlckFnZW50KX0pO3YuZ2V0TmF2aWdhdGlvblN0YXJ0PWgubWVtb3JpemUoZnVuY3Rpb24oKXt2YXIgYT1tLnBlcmZvcm1hbmNlfHxtLndlYmtpdFBlcmZvcm1hbmNlO3JldHVybiBhJiZhLnRpbWluZyYmYS50aW1pbmcubmF2aWdhdGlvblN0YXJ0fSk7di5pc1NhbWVPcmlnaW5Ub3BGcmFtZT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbS50b3AuY29udGVudFdpbmRvd3x8ITB9Y2F0Y2goYSl7cmV0dXJuITF9fTt2LmlzRGVza3RvcD1mdW5jdGlvbihhKXt2YXIgYj1hLmdldCgiYnQiLHt9KTthLmdldCgiYnQiKT09PUEmJihiLnA9bmF2aWdhdG9yLmdldEJhdHRlcnk/bmF2aWdhdG9yLmdldEJhdHRlcnkoKTpudWxsLGEuc2V0KCJidCIsYiksYi5wJiZiLnAudGhlbiYmYi5wLnRoZW4oZnVuY3Rpb24oYSl7Yi52PWEuY2hhcmdpbmcmJjA9PT1hLmNoYXJnaW5nVGltZX0pKTtyZXR1cm4gYi52fTt2LmlzU2VsZW5pdW09CmgubWVtb3JpemUoZnVuY3Rpb24oKXt2YXIgYT1bIl9zZWxlbml1bSIsImNhbGxTZWxlbml1bSIsIl9TZWxlbml1bV9JREVfUmVjb3JkZXIiXSxiPVsic2VsZW5pdW0iLCJ3ZWJkcml2ZXIiLCJkcml2ZXIiXSxjLGQ9bS5kb2N1bWVudCxmPSJfX3dlYmRyaXZlcl9ldmFsdWF0ZSBfX3NlbGVuaXVtX2V2YWx1YXRlIF9fd2ViZHJpdmVyX3NjcmlwdF9mdW5jdGlvbiBfX3dlYmRyaXZlcl9zY3JpcHRfZnVuYyBfX3dlYmRyaXZlcl9zY3JpcHRfZm4gX19meGRyaXZlcl9ldmFsdWF0ZSBfX2RyaXZlcl91bndyYXBwZWQgX193ZWJkcml2ZXJfdW53cmFwcGVkIF9fZHJpdmVyX2V2YWx1YXRlIF9fc2VsZW5pdW1fdW53cmFwcGVkIF9fZnhkcml2ZXJfdW53cmFwcGVkIi5zcGxpdCgiICIpO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspaWYobVthW2NdXSlyZXR1cm4hMDtmb3IoYz0wO2M8Zi5sZW5ndGg7YysrKWlmKGQmJmRbZltjXV0pcmV0dXJuITA7aWYobS5leHRlcm5hbCYmbS5leHRlcm5hbC50b1N0cmluZyYmCjA8PW0uZXh0ZXJuYWwudG9TdHJpbmcoKS5pbmRleE9mKCJTZXF1ZW50dW0iKSlyZXR1cm4hMDtpZihkLmRvY3VtZW50RWxlbWVudCYmZC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKWZvcihjPTA7YzxiLmxlbmd0aDtjKyspaWYoZC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKGJbY10pKXJldHVybiEwO3JldHVybiExfSk7dS5yZW1vdmVOb2RlPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJmEucGFyZW50Tm9kZTtiJiZiLnJlbW92ZUNoaWxkKGEpfTt4LnJlYWR5PWZ1bmN0aW9uKGEpe3ZhciBiPXQucmVhZHlTdGF0ZTtpZigiaW50ZXJhY3RpdmUiPT09Ynx8ImNvbXBsZXRlIj09PWIpaC5zZXRUaW1lb3V0KGEsMCwiZXZ0OjpyZWFkeSIpO2Vsc2V7dmFyIGM9ZnVuY3Rpb24oKXt4LnVuKHQsIkRPTUNvbnRlbnRMb2FkZWQiLGMpO3gudW4obSwibG9hZCIsYyk7YSgpfTt4Lm9uKHQsIkRPTUNvbnRlbnRMb2FkZWQiLGMpO3gub24obSwibG9hZCIsYyl9fTt2YXIgQWI9e3VybDoiaHR0cHM6Ly9tYy55YW5kZXgucnUvbWV0cmlrYS8iLApfdmFsdWU6bnVsbCxpbml0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2dldExzKCkucmVhZCgiaXNhZCIpO3RoaXMuZ2xvYmFsQ29uZmlnPWF8fEU7Yj90aGlzLl9zZXQoYik6dGhpcy5fZ2V0UmVxU3RhdHVzKCl8fHRoaXMuX3NlbmQoKX0sZ2V0VmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfSxfc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX3ZhbHVlPSIxIj09YXx8IjIiPT1hP2E6bnVsbH0sX3NlbmQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuX3NldFJlcVN0YXR1cygicHJvY2VzcyIpO3gucmVhZHkoZnVuY3Rpb24oKXt2YXIgYj10LmNyZWF0ZUVsZW1lbnQoImltZyIpO2Iub25sb2FkPWZ1bmN0aW9uKCl7YS5fc2F2ZVJlcSghMSk7dS5yZW1vdmVOb2RlKHRoaXMpfTtiLm9uZXJyb3I9ZnVuY3Rpb24oKXthLl9zYXZlUmVxKCEwKTt1LnJlbW92ZU5vZGUodGhpcyl9O2Iuc3JjPWEudXJsK1N0cmluZy5mcm9tQ2hhckNvZGUoOTcsMTAwLDExOCwxMDEsMTE0LDExNiw0NiwKMTAzLDEwNSwxMDIpO3YuaXNTYWZhcmkoKSYmKGIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixiLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsYi5zdHlsZS53aWR0aD0iMHB4IixiLnN0eWxlLmhlaWdodD0iMHB4Iix1LmdldFJvb3RFbGVtZW50KCkuYXBwZW5kQ2hpbGQoYikpfSl9LF9zYXZlUmVxOmZ1bmN0aW9uKGEpe3RoaXMuX3ZhbHVlPWE9YT8iMSI6IjIiO3RoaXMuX3NldFJlcVN0YXR1cygiY29tcGxldGUiKTt0aGlzLl9nZXRMcygpLmNyZWF0ZSgiaXNhZCIsYSwxMjAwKX0sX3NldFJlcVN0YXR1czpmdW5jdGlvbihhKXt0cnl7dGhpcy5nbG9iYWxDb25maWcuc2V0KCJhZFN0YXR1cyIsYSl9Y2F0Y2goYil7fX0sX2dldFJlcVN0YXR1czpmdW5jdGlvbigpe3RyeXtyZXR1cm4gdGhpcy5nbG9iYWxDb25maWcuZ2V0KCJhZFN0YXR1cyIpfWNhdGNoKGEpe3JldHVybiJjb21wbGV0ZSJ9fSxfZ2V0THM6ZnVuY3Rpb24oKXt0aGlzLl9sc3x8KHRoaXMuX2xzPW5ldyBOKTtyZXR1cm4gdGhpcy5fbHN9fTsKUmEuZGVjb2RlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iIixjPTAsZCxmLGw7YzxhLmxlbmd0aDspZD1hLmNoYXJDb2RlQXQoYyksMTI4PmQ/KGIrPVN0cmluZy5mcm9tQ2hhckNvZGUoZCksYysrKToxOTE8ZCYmMjI0PmQ/KGY9YS5jaGFyQ29kZUF0KGMrMSksYis9U3RyaW5nLmZyb21DaGFyQ29kZSgoZCYzMSk8PDZ8ZiY2MyksYys9Mik6KGY9YS5jaGFyQ29kZUF0KGMrMSksbD1hLmNoYXJDb2RlQXQoYysyKSxiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChkJjE1KTw8MTJ8KGYmNjMpPDw2fGwmNjMpLGMrPTMpO3JldHVybiBifTtoLnJlZHVjZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9MDtiPT1BJiYoYj1jWzBdLGQrKyk7Zm9yKDtkPGMubGVuZ3RoOyliPWEoYixjW2RdKSxkKys7cmV0dXJuIGJ9O2guZmlsdGVyPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXTtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKWEoYltjXSkmJmQucHVzaChiW2NdKTtyZXR1cm4gZH07YWEucGFyc2U9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGEpfWNhdGNoKGIpe3JldHVybiBudWxsfX07CnZhciBnYz1oLm1lbW9yaXplKGZ1bmN0aW9uKCl7aWYoIW0ueWFuZGV4fHwhbS55YW5kZXguZ2V0U2l0ZVVpZClyZXR1cm4iIjtpZihoLmlzRnVuY3Rpb24obS55YW5kZXguZ2V0U2l0ZVVpZCkpcmV0dXJuIG0ueWFuZGV4LmdldFNpdGVVaWQoKX0pLFNhPVYuaW5oZXJpdCh7aGl0SWQ6MCx0cmFja0hhc2g6ITEsdHJpbVBhcmFtczohMSx3ZWJ2aXNvcjohMSxjb3VudGVyOm51bGwsY291bnRlck51bTowLHdpbmRvd05hbWU6bnVsbCxyZXNvdXJjZToid2F0Y2giLHJldHJ5OiEwLHBhcmFtc1F1ZXVlOntwYXJhbXNRdWV1ZTpbXSxsZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJhbXNRdWV1ZS5sZW5ndGh9LHB1c2g6ZnVuY3Rpb24oYSl7dGhpcy5wYXJhbXNRdWV1ZS5wdXNoKGEpfSxfcmVkdWNlOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe2guYXJyYXlFdmVyeShoLmtleXMoYyksZnVuY3Rpb24oZCl7aWYoYi5oYXNPd25Qcm9wZXJ0eShkKSlyZXR1cm4gMTstMT09CmguYXJyYXlJbmRleE9mKGEsZCkmJihiW2RdPWNbZF0sZGVsZXRlIGNbZF0pO3JldHVybiAxfSk7cmV0dXJuIGJ9fSxfZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiBoLmtleXMoYSkubGVuZ3RofSxtaXhpbjpmdW5jdGlvbihhKXt2YXIgYj17fTt0aGlzLnBhcmFtc1F1ZXVlLmxlbmd0aCYmKGI9aC5yZWR1Y2UodGhpcy5fcmVkdWNlKGgua2V5cyhhKSkse30sdGhpcy5wYXJhbXNRdWV1ZSksdGhpcy5wYXJhbXNRdWV1ZT1oLmZpbHRlcih0aGlzLl9maWx0ZXIsdGhpcy5wYXJhbXNRdWV1ZSkpO3JldHVybiBoLm1peGluKHt9LGEsYil9fSxwb3N0UGFyYW1zOlsic2l0ZS1pbmZvIl0sY291bnRlcnNOb1RpdGxlOiIyMjgzNjI3MSA5OTI4MTA1IDI2MTI4MzYyIDI5ODUwNzY5IDIyMzI3NTEwIDQwMDgxNzU1IDE2MDgyOTE0IDI3OTI5NyAyMzMyMzc0NyAxNjA4Mjg5OSIuc3BsaXQoIiAiKSxmYWtlOiExLHNlbmRUaXRsZTohMCxfaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe1NhLnN1cGVyY2xhc3MuX2luaXRDb21wb25lbnQuYXBwbHkodGhpcywKYXJndW1lbnRzKTt0aGlzLl90cmFja0hhc2g9dGhpcy50cmFja0hhc2g7dGhpcy50dXJib1N0YXRlPWRjKCk7IjAiPT09IiIrdGhpcy5jb3VudGVyVHlwZSYmKHRoaXMuc2VuZFRpdGxlPS0xPT09aC5hcnJheUluZGV4T2YodGhpcy5jb3VudGVyc05vVGl0bGUsIiIrdGhpcy5jb3VudGVySWQpKX0sc2V0VHJhY2tIYXNoOmZ1bmN0aW9uKGEpe3RoaXMuX3RyYWNrSGFzaD1hfSxzZW5kSGl0OmZ1bmN0aW9uKGEpe3RoaXMuX2hpdEV4dCh7dXJsOmEudXJsLHRpdGxlOmEudGl0bGUscmVmZXJyZXI6YS5yZWZlcnJlcix2UGFyYW1zOmEudlBhcmFtcyxtb2RlczpoLm1peGluKGEubW9kZXN8fHt9LHthcjohMCxzYXZlUmVmOiEwLHB2OiEwfSksY2FsbGJhY2s6YS5jYWxsYmFjayxoYXNQcmVyZW5kZXI6YS5oYXNQcmVyZW5kZXIsY3R4OmEuY3R4fSwiaGl0Iil9LHNlbmRFeHBlcmltZW50czpmdW5jdGlvbihhKXt0aGlzLl9oaXRFeHQoe3VybDpNKCkuaHJlZix0aXRsZToiIixyZWZlcnJlcjoiIiwKbW9kZXM6e2V4OiEwLGFyOiEwfSxleHBlcmltZW50czphLmV4cGVyaW1lbnRzLGNhbGxiYWNrOmEuY2FsbGJhY2ssY3R4OmEuY3R4fSwiZXhwIil9LHNlbmRQcmVyZW5kZXJIaXQ6ZnVuY3Rpb24oYSl7dGhpcy5faGl0RXh0KHt1cmw6YS51cmwsdlBhcmFtczphLnZQYXJhbXMsdGl0bGU6YS50aXRsZSxyZWZlcnJlcjphLnJlZmVycmVyLG1vZGVzOnthcjohMCxwcTohMH19LCJoaXQiKX0sc2VuZEFqYXhIaXQ6ZnVuY3Rpb24oYSl7dGhpcy5faGl0RXh0KHt1cmw6YS51cmwsdGl0bGU6YS50aXRsZSxyZWZlcnJlcjphLnJlZmVycmVyLG1vZGVzOmEubW9kZXN9LCJoaXQiKX0sc2VuZFBhcmFtczpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLl9oaXRFeHQoe3VybDpkfHxNKCkuaHJlZix0aXRsZToiIixyZWZlcnJlcjoiIixmb3JjZU5vUmVkaXJlY3Q6ITAsdlBhcmFtczphLG1vZGVzOnthcjohMCxwYTohMCxvbmx5RGF0YTohMH0sY2FsbGJhY2s6YixjdHg6Y30sInBhIil9LF9zZW5kR29hbDpmdW5jdGlvbihhLApiLGMpe2lmKGEpe3ZhciBkPWIudXJsP2gucGFyc2VVcmwoYi51cmwpOk0oKTt0aGlzLl9oaXRFeHQoe3VybDpjKyI6Ly8iK2QuaG9zdG5hbWUrIi8iK2EsdGl0bGU6dS5nZXREb2N1bWVudFRpdGxlKCkscmVmZXJyZXI6ZC5ocmVmLGZvcmNlTm9SZWRpcmVjdDohMCx2UGFyYW1zOmIudlBhcmFtcyxtb2Rlczp7YXI6ITB9LGNhbGxiYWNrOmIuY2FsbGJhY2ssY3R4OmIuY3R4fSwiZ28iKX1lbHNlIGgud2FybmluZygiRW1wdHkgZ29hbCIpfSxzZW5kR29hbDpmdW5jdGlvbihhLGIpey9bLyY9PyNdLy50ZXN0KGEpP2gud2FybmluZygiSW5jb3JyZWN0IGdvYWwiKTp0aGlzLl9zZW5kR29hbChhJiZlbmNvZGVVUklDb21wb25lbnQoYSksYiwiZ29hbCIpfSxzZW5kRm9ybTpmdW5jdGlvbihhLGIpe3RoaXMuX3NlbmRHb2FsKGEsYiwiZm9ybSIpfSxzZW5kQ2xpY2tMaW5rOmZ1bmN0aW9uKGEsYil7dGhpcy5faGl0RXh0KHt1cmw6YS51cmwsdGl0bGU6YS50aXRsZSxyZWZlcnJlcjpifHxNKCkuaHJlZiwKbW9kZXM6YS5tb2Rlc30pfSxzZW5kRXh0TGluazpmdW5jdGlvbihhLGIpe3RoaXMuX2hpdEV4dCh7dXJsOmEudXJsLHRpdGxlOmEudGl0bGV8fCIiLHJlZmVycmVyOmJ8fE0oKS5ocmVmLHZQYXJhbXM6YS52UGFyYW1zLG1vZGVzOnthcjohMCxsbjohMCx1dDpsYn0sY2FsbGJhY2s6YS5jYWxsYmFjayxjdHg6YS5jdHh9LCJjbCIpfSxzZW5kRmlsZVVwbG9hZDpmdW5jdGlvbihhKXt0aGlzLl9oaXRFeHQoe3VybDphLnVybCx0aXRsZTphLnRpdGxlfHwiIixyZWZlcnJlcjpNKCkuaHJlZix2UGFyYW1zOmEudlBhcmFtcyxtb2Rlczp7YXI6ITAsbG46ITAsZGw6ITB9LGNhbGxiYWNrOmEuY2FsbGJhY2ssY3R4OmEuY3R4fSwiZnUiKX0sc2VuZE5vdEJvdW5jZTpmdW5jdGlvbihhLGIpe3RoaXMuX2hpdEV4dCh7dXJsOmIudXJsfHxNKCkuaHJlZix0aXRsZToiIixyZWZlcnJlcjoiIixtb2Rlczp7Y2w6YSxhcjohMCxuYjohMCxvbmx5RGF0YTohMH0sY2FsbGJhY2s6Yi5jYWxsYmFjayxjdHg6Yi5jdHh9LAoibmIiKX0sc2VuZERldmljZTpmdW5jdGlvbihhKXt0aGlzLl9oaXRFeHQoe2Jyb3dzZXJJbmZvOntkaTphLmRhdGEsZGlwOmEucG9ydH0sY2FsbGJhY2s6YS5jYWxsYmFjayxjdHg6YS5jdHh9LCJkZSIpfSxfaGl0RXh0OmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIpe2ImJihtW2FdPWIpfXZhciBkLGYsbCxnPXt9O2lmKCFoLmlzTWV0cmlrYVBsYXllcigpKXt2YXIgbj1hLm1vZGVzfHx7fTt2YXIgcj1hLmJyb3dzZXJJbmZvfHx7fTt2YXIgdz0idW5kZWZpbmVkIiE9PXR5cGVvZiBhLnJlZmVycmVyP2EucmVmZXJyZXI6YWIubGFzdFJlZmVycmVyO3ZhciBwPWEudXJsfHwiIjt2YXIgbT17fTthLm5vaGl0JiZjKCJub2hpdCIsMSk7bi5hciYmIW4ub25seURhdGEmJih3PW51bGw9PT13fHwiIj09PXc/IiI6dGhpcy5fcHJlcGFyZUhpdFVybCh3KSxwPXRoaXMuX3ByZXBhcmVIaXRVcmwoYS51cmwpKTtjKCJmb3JjZU5vUmVkaXJlY3QiLGEuZm9yY2VOb1JlZGlyZWN0KTtjKCJwYWdlLXJlZiIsCmgudHJpbSh3LG1iKSk7YygicGFnZS11cmwiLGgudHJpbShwLG1iKSk7aC5pczRCeXRlcyhhLnRpdGxlKSYmYygiY2hhcnNldCIsInV0Zi04Iik7LTEhPU0oKS5ob3N0bmFtZS5zZWFyY2goLyg/Ol58XC4pKD86eWF8eWFuZGV4KVwuKD86XHcrfGNvbT9cLlx3KykkLyk/YygidXQiLGxiKToidW5kZWZpbmVkIiE9dHlwZW9mIG4udXQmJmMoInV0IixoLnRyaW0obi51dCxoYykpO2MoImV4cCIsYS5leHBlcmltZW50cyk7KGY9YS52UGFyYW1zKSYmdGhpcy5jb3VudGVyJiZmLl9feW0mJihoLmlzTnVtYmVyKGYuX195bS50dXJib19wYWdlKSYmKHRoaXMuY291bnRlci50cD1mLl9feW0udHVyYm9fcGFnZSksaC5pc051bWJlcihmLl9feW0udHVyYm9fcGFnZV9pZCkmJih0aGlzLmNvdW50ZXIudHBpZD1mLl9feW0udHVyYm9fcGFnZV9pZCkpOyghZnx8aC5pc09iamVjdChmKSYmIWYuX195bSYmIWYuX195bXUpJiZ0aGlzLnBhcmFtc1F1ZXVlLmxlbmd0aCgpJiZoLmluQXJyYXkoWyJnbyIsImhpdCIsCiJwYSJdLGIpJiYoZj10aGlzLnBhcmFtc1F1ZXVlLm1peGluKGYpKTtmJiYocD1oLnRvSlNPTihmKSx0aGlzLnRyaW1QYXJhbXMmJnAubGVuZ3RoPmljP2w9ITA6N0U1PHA/aC53YXJuaW5nKCJUb28gYmlnIHBhcmFtcyIpOmMoInNpdGUtaW5mbyIscCkpO24uc2F2ZVJlZiYmKGFiLmxhc3RSZWZlcnJlcj13KTtnPWZ1bmN0aW9uKGEsYil7dmFyIGM9e307aC5mb3JFYWNoS2V5KGIsZnVuY3Rpb24oYSxiKXstMT09PWguYXJyYXlJbmRleE9mKFsiIiwwLEEsbnVsbF0sYikmJihjW2FdPWIpfSk7cmV0dXJuIGgubWl4aW4oe30sYSxjKX0oZyx7Z2Rwcjp4YS5nZXRTdGF0ZSh0aGlzLmdsb2JhbENvbmZpZyksdHA6dGhpcy5jb3VudGVyJiZ0aGlzLmNvdW50ZXIudHAsdHBpZDp0aGlzLmNvdW50ZXImJnRoaXMuY291bnRlci50cGlkLGZ1OnRoaXMuZ2V0RnUoYS51cmwsYS5yZWZlcnJlciksZXU6dGhpcy5nbG9iYWxDb25maWcuZ2V0KCJpc0VVIiksdGQ6dGhpcy50dXJib1N0YXRlKGVjKSxidTpnYygpLAp2OnRoaXMuX2dldFZlcnNpb24oKSxwcjphLmhhc1ByZXJlbmRlcj8xOm51bGx9KTt0aGlzLmZha2V8fChkPXRoaXMuX2dldFRlY2hJbmZvKGEudGl0bGUsbix0aGlzLmNvdW50ZXJJZCxhLnRzLGEudHosdGhpcy5fdHJhY2tIYXNoLHRoaXMuaGl0SWQsdGhpcy53ZWJ2aXNvcix0aGlzLmNvdW50ZXIsYS5ub2hpdCkpO2cud3Y9MjtoLm1peGluKHIsZCxnKTt0aGlzLnNlbmQobSxyLGZ1bmN0aW9uKCl7bCYmdGhpcy5jb3VudGVyLnBhcmFtcyhmKTthLnVzZXJQYXJhbXMmJnRoaXMuY291bnRlci51c2VyUGFyYW1zKGEudXNlclBhcmFtcyk7aC5pc0Z1bmN0aW9uKGEuY2FsbGJhY2spJiZhLmNhbGxiYWNrLmFwcGx5KGEuY3R4LGFyZ3VtZW50cyl9LHRoaXMpfX0sX3ByZXBhcmVIaXRVcmw6ZnVuY3Rpb24oYSl7dmFyIGI9TSgpLGM9Yi5ob3N0O2I9Yi5ocmVmO2lmKCFoLmlzU3RyaW5nKGEpKXJldHVybiBiO2lmKC0xIT1hLnNlYXJjaCgvXlthLXpdW1x3ListXSs6XC9cLy9pKSlyZXR1cm4gYTsKdmFyIGQ9YS5jaGFyQXQoMCk7aWYoIj8iPT1kKXJldHVybiBkPWIuc2VhcmNoKC9cPy8pLC0xPT1kP2IrYTpiLnN1YnN0cigwLGQpK2E7aWYoIiMiPT1kKXJldHVybiBkPWIuc2VhcmNoKC8jLyksLTE9PWQ/YithOmIuc3Vic3RyKDAsZCkrYTtpZigiLyI9PWQpe2lmKGQ9Yi5zZWFyY2goYyksLTEhPWQpcmV0dXJuIGIuc3Vic3RyKDAsZCtjLmxlbmd0aCkrYX1lbHNlIHJldHVybiBjPWIuc3BsaXQoIi8iKSxjW2MubGVuZ3RoLTFdPWEsYy5qb2luKCIvIik7cmV0dXJuIGF9LGdldEZ1OmZ1bmN0aW9uKGEsYil7dmFyIGM9YSE9PU0oKS5ocmVmLGQ9dC5yZWZlcnJlci5yZXBsYWNlKC9cLyQvLCIiKSxmPShifHwiIikucmVwbGFjZSgvXC8kLywiIik7ZD1kIT09ZjtmPTA7ZCYmYz9mPTM6ZD9mPTE6YyYmKGY9Mik7cmV0dXJuIGZ9LF9nZXRUZWNoSW5mbzpmdW5jdGlvbihhLGIsYyxkLGYsbCxnLG4scix3KXtmdW5jdGlvbiBwKGEsYixjKXt2YXIgZT0iIitiO2EmJmImJihjfHwtMT09PWUuaW5kZXhPZigiOiIpKSYmCihxW2FdPWUpfWZ1bmN0aW9uIEYoYSl7YlthXSYmcChhLCIxIil9dmFyIHE9e307Yj1ifHx7fTtkPWR8fHkuZ2V0VGltZXN0YW1wKCk7Zj1mfHx5LmdldFRpbWV6b25lKCk7cCgiaiIsdi5nZXRKYXZhRW5hYmxlZCgpPyIxIjoiIik7dmFyIGs9di5pc0Rlc2t0b3AodGhpcy5nbG9iYWxDb25maWcpO2shPT1BJiZwKCJkcCIsaz8iMSI6IjAiKTtwKCJudCIsdi5uZXRUeXBlKCkpO3AoIm5zIix2LmdldE5hdmlnYXRpb25TdGFydCgpKTtkYSYmcCgicyIsZGEud2lkdGgrIngiK2RhLmhlaWdodCsieCIrKGRhLmNvbG9yRGVwdGh8fGRhLnBpeGVsRGVwdGgpKTttLmRldmljZVBpeGVsUmF0aW8mJnAoInNrIixtLmRldmljZVBpeGVsUmF0aW8pO3YuaXNTZWxlbml1bSgpJiZwKCJpc3MiLCIxIik7di5pc0hlYWRMZXNzKCkmJnAoImhkbCIsIjEiKTt2LmlzSWZyYW1lKCkmJihwKCJpZnIiLCIxIikscCgic3RpIix2LmlzU2FtZU9yaWdpblRvcEZyYW1lKCk/IjEiOiIwIikpO20uaWFfZG9jdW1lbnQmJgptLmlhX2RvY3VtZW50LnNoYXJlVVJMJiZtLmlhX2RvY3VtZW50LnJlZmVycmVyJiZwKCJpaWEiLCIxIik7cCgiYWRiIixBYi5nZXRWYWwoKSk7cCgiZiIsdi5nZXRGbGFzaFZlcnNpb24oKSk7cCgibCIsdi5nZXRTaWx2ZXJsaWdodFZlcnNpb24oKSk7cCgiZnByIix2LmdldEZpbmdlclByaW50KCkpO3AoImNuIix0aGlzLmNvdW50ZXJOdW0pO2IucGF8fChrPXUuZ2V0Vmlld3BvcnRTaXplKCkscCgidyIsa1swXSsieCIra1sxXSkpO3AoInoiLGYpO3AoImkiLGQpO3AoImV0Iix5LmdldFNlY29uZHMoKSk7cCgiZW4iLHUuZ2V0RG9jdW1lbnRDaGFyc2V0KCkpO3AoImMiLG5hdmlnYXRvci5jb29raWVFbmFibGVkPyIxIjoiIik7cCgibGEiLHYuZ2V0TGFuZ3VhZ2UoKSk7cCgibnRmIix2LmdldE5vdGlmaWNhdGlvblBlcm1pc3Npb24oKSk7aC5yYW5kb20oMTAwKXx8cCgibnAiLGthLmVuY29kZShSYS5lbmNvZGUoaC50cmltKHYuZ2V0UGxhdGZvcm0oKSwxMDApKSkpO2wmJnAoIndoIiwKIjEiKTtmPSJhciBsbiByZSBkbCBjcGYgYWQgbmIgcGEgcHEgcHYgZXgiLnNwbGl0KCIgIik7Zm9yKGQ9MDtkPGYubGVuZ3RoO2QrKylGKGZbZF0pO2Y9InZhIHZ0IHNuIHNhIGhlIHBhaSIuc3BsaXQoIiAiKTtiLm5iJiZmLnB1c2goImNsIik7Zm9yKGQ9MDtkPGYubGVuZ3RoO2QrKylsPWZbZF0scChsLGJbbF0pO2Y9bmV3IFkoe2NvdW50ZXJJZDpjfSk7Zi5pc0VuYWJsZWQoKSYmKGM9Zi5nZXRTdG9yYWdlSWQoKSxkPWYuZ2V0KCJyZXFOdW0iKSx3fHwoZD9kKys6ZD0xKSxmLnNldCgicmVxTnVtIixkKSxmLmdldCgicmVxTnVtIik9PWQ/KHAoImxzIixjKSxwKCJycW4iLGQpKTooZi5yZW1vdmUoInJlcU51bSIpLGYuY2xlYXJTdG9yYWdlSWQoKSwxPGQmJihwKCJscyIsYykscCgicnFuIiwwKSkpKTtwKCJybiIsaC5yYW5kb20oKSk7cCgiaGlkIixnKTt3fHwzPT10aGlzLmNvdW50ZXJJZHx8Yi5wcXx8cCgiZHMiLFdiKHIpKTtyLl9maXJzdFBhaW50fHx3fHwoci5fZmlyc3RQYWludD0KWWIoKSxwKCJmcCIsci5fZmlyc3RQYWludCkpO2lmKG4pe2c9RS5nZXQoIndpbk5hbWVOdW0iKTtpZighZyl7aWYoZz0rbS5uYW1lfHxNYXRoLnJvdW5kKDY1NTM1Kk1hdGgucmFuZG9tKCkpKTA+ZyYmKGcqPS0xKSxnJT02NTUzNTtnPWd8fGguZmxldGNoZXIobS5uYW1lKTtFLnNldCgid2luTmFtZU51bSIsZyl9cCgid24iLGcpO3RyeXttLmhpc3RvcnkmJnAoImhsIixTdHJpbmcobS5oaXN0b3J5Lmxlbmd0aCkpfWNhdGNoKGUpe319Zz0iIjt0aGlzLnNlbmRUaXRsZSYmKGc9dGhpcy5fZ2V0VGl0bGUoYSkpO3AoInQiLGcsITApO3JldHVybiBxfSxfZ2V0VGl0bGU6ZnVuY3Rpb24oYSl7YT0idW5kZWZpbmVkIj09dHlwZW9mIGE/KGE9dS5nZXREb2N1bWVudFRpdGxlKCkpP2gudHJpbShhLEJiKToiIjpoLnRyaW0oYSxCYik7cmV0dXJuIGF9fSk7aC5hcnJheTJQcm9wcz1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCxjPXt9LGQ9YyxmO2ZvcihmPTA7ZjxiLTE7ZisrKXt2YXIgbD1hW2ZdOwpkW2xdPXt9O2Y8Yi0yJiYoZD1kW2xdKX1kW2xdPWFbYi0xXTtyZXR1cm4gY307dmFyIEthPUouaW5oZXJpdCh7c2FtcGxpbmc6MSxjb3VudGVySWQ6MjYzMDI1NjYsX2luaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXtLYS5zdXBlcmNsYXNzLl9pbml0Q29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9zZW5kZXI9bmV3IFNhKHtwcm90b2NvbDoiaHR0cHM6Iixjb3VudGVySWQ6dGhpcy5jb3VudGVySWQscmV0cnk6ITEsY291bnRlcjp7fX0pfSxsb2c6ZnVuY3Rpb24oKXt0aGlzLmxvZ1BhcmFtcyhoLmFycmF5MlByb3BzKGFyZ3VtZW50cykpfSxsb2dQYXJhbXM6ZnVuY3Rpb24oYSl7TWF0aC5yYW5kb20oKTx0aGlzLnNhbXBsaW5nJiZ0aGlzLl9zZW5kZXIuc2VuZEhpdCh7dXJsOkwuaHJlZix0aXRsZToiIixyZWZlcnJlcjoiIix2UGFyYW1zOmF9KX19KSxqYz1WLmluaGVyaXQoe3Jlc291cmNlOiJ3ZWJ2aXNvciIscmV0cnk6ITAscG9zdFBhcmFtczpbInd2LWRhdGEiXSwKc2VuZFBhY2tldDpmdW5jdGlvbihhLGIsYyxkLGYsbCxnLG4pe2lmKCFhfHwhYS5sZW5ndGgpcmV0dXJuITE7dmFyIHI9a2EuZW5jb2RlKGEsITApO2lmKDA9PXIuaW5kZXhPZigiQUFBQUFBQUFBRHciKSYmbS5FcnJvcil7dmFyIHc9RXJyb3IoKTsic3RyaW5nIj09dHlwZW9mIHcuc3RhY2smJihuZXcgS2Eoe3NhbXBsaW5nOi4xfSkpLmxvZygiYmFkIHZpc29yIHBhY2tldCA1IiwxKX1hPXtybjpoLnJhbmRvbSgpLCJwYWdlLXVybCI6Yix3bW9kZTowLCJ3di10eXBlIjowLCJ3di1oaXQiOmMsInd2LXBhcnQiOmQrMSwid3YtY2hlY2siOmguZmxldGNoZXIoYSksInd2LWRhdGEiOnJ9O2Y9e3Y6dGhpcy5fZ2V0VmVyc2lvbigpLHo6ZixpOmx9O3JldHVybiB0aGlzLnNlbmQoYSxmLGcsbil9fSksdWI9WGEuaW5oZXJpdCh7cHJvdG9jb2w6IiIsY291bnRlcklkOiIiLGNvdW50ZXJUeXBlOiIiLG1ldGE6bnVsbCxtYXhCdWZmZXJTaXplOjc1MDAsZmx1c2hUaW1lb3V0OjNFNCxzdG9yYWdlS2V5OiJ2aXNvcmJ1ZmYiLAphY3RpdmU6ITEsX2luaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt0aGlzLnN0b3JhZ2U9bmV3IFkoe2NvdW50ZXJJZDp0aGlzLmNvdW50ZXJJZH0pO3RoaXMuX3NlbmRlcj1uZXcgamMoe2dsb2JhbENvbmZpZzp0aGlzLmdsb2JhbENvbmZpZyxwcm90b2NvbDp0aGlzLnByb3RvY29sLGNvdW50ZXJJZDp0aGlzLmNvdW50ZXJJZCxjb3VudGVyVHlwZTp0aGlzLmNvdW50ZXJUeXBlfSk7dWIuc3VwZXJjbGFzcy5faW5pdENvbXBvbmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG9uRmx1c2g6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuX3NlbmRlci5zZW5kUGFja2V0KGEsYi51cmwsYi5oaXRJZCxjLGIudGltZXpvbmUsYi50aW1lc3RhbXApfX0pO3UuZ2V0RG9jdW1lbnRIVE1MPWZ1bmN0aW9uKCl7dmFyIGE9IiI7dmFyIGI9dC5kb2N1bWVudEVsZW1lbnQ7dmFyIGM9Yi5vdXRlckhUTUwsZCxmO2lmKGMpYj1jO2Vsc2V7Yz1iLmF0dHJpYnV0ZXM7dmFyIGw9IiI7Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKykoZj0KY1tkXSkmJihsKz0iICIrZi5uYW1lKydceDNkIicrKGYudmFsdWV8fCIiKSsnIicpO2I9Ilx4M2NodG1sIitsKyJceDNlIitiLmlubmVySFRNTCsiXHgzYy9odG1sXHgzZSJ9aWYoYz10LmRvY3R5cGUpYT1jLnB1YmxpY0lkPycgUFVCTElDICInK2MucHVibGljSWQrJyInOiIiLGw9Yy5zeXN0ZW1JZD8nICInK2Muc3lzdGVtSWQrJyInOiIiLGE9Ilx4M2MhRE9DVFlQRSAiK2MubmFtZSthK2wrIlx4M2VcbiI7cmV0dXJuIGErYn07dS5nZXRFbGVtZW50UGFyZW50PWZ1bmN0aW9uKGEpe2lmKCFhfHxhPT10LmRvY3VtZW50RWxlbWVudClyZXR1cm4gbnVsbDtpZihhPT11LmdldEJvZHkoKSlyZXR1cm4gdC5kb2N1bWVudEVsZW1lbnQ7dmFyIGI9bnVsbDt0cnl7Yj1hLnBhcmVudE5vZGV9Y2F0Y2goYyl7fXJldHVybiBifTt1LmdldEVsZW1lbnRDaGlsZHJlbj1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQsZixsO2lmKGEmJihkPWEuY2hpbGROb2Rlcykpe3ZhciBnPTA7Zm9yKGw9ZC5sZW5ndGg7ZzwKbDtnKyspe3ZhciBuPWRbZ107KGY9IklOUFVUIj09bi5ub2RlTmFtZSYmbi50eXBlJiYiaGlkZGVuIj09bi50eXBlLnRvTG9jYWxlTG93ZXJDYXNlKCkpfHxiJiZuLm5vZGVOYW1lIT1ifHxoLm1lcmdlQXJyYXlzKGMsW25dKX19cmV0dXJuIGN9O3UuZ2V0RWxlbWVudE5laWdoYm9yUG9zaXRpb249ZnVuY3Rpb24oYSl7dmFyIGI9dS5nZXRFbGVtZW50UGFyZW50KGEpLGM7aWYoYil7dmFyIGQ9MDtiPWIuY2hpbGROb2Rlczt2YXIgZj1hJiZhLm5vZGVOYW1lO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBsPWJbY10mJmJbY10ubm9kZU5hbWU7aWYoZj09bCl7aWYoYT09YltjXSlyZXR1cm4gZDtkKyt9fX1yZXR1cm4gMH07dS5nZXREb2N1bWVudFNjcm9sbD1mdW5jdGlvbigpe3ZhciBhPXUuZ2V0Qm9keSgpO3JldHVyblttLnBhZ2VYT2Zmc2V0fHx0LmRvY3VtZW50RWxlbWVudCYmdC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8YSYmYS5zY3JvbGxMZWZ0fHwwLG0ucGFnZVlPZmZzZXR8fAp0LmRvY3VtZW50RWxlbWVudCYmdC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxhJiZhLnNjcm9sbFRvcHx8MF19O3UuZ2V0RWxlbWVudFhZPWZ1bmN0aW9uKGEpe3ZhciBiO2lmKCFhfHwhYS5vd25lckRvY3VtZW50fHwiUEFSQU0iPT1hLnRhZ05hbWV8fGE9PXUuZ2V0Qm9keSgpfHxhPT10LmRvY3VtZW50RWxlbWVudClyZXR1cm5bMCwwXTtpZihhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCl7YT1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBjPXUuZ2V0RG9jdW1lbnRTY3JvbGwoKTtyZXR1cm5bTWF0aC5yb3VuZChhLmxlZnQrY1swXSksTWF0aC5yb3VuZChhLnRvcCtjWzFdKV19Zm9yKGI9Yz0wO2E7KWMrPWEub2Zmc2V0TGVmdCxiKz1hLm9mZnNldFRvcCxhPWEub2Zmc2V0UGFyZW50O3JldHVybltjLGJdfTt1LmdldERvY3VtZW50U2l6ZT1mdW5jdGlvbigpe3ZhciBhPXUuZ2V0Um9vdEVsZW1lbnQoKSxiPXUuZ2V0Vmlld3BvcnRTaXplKCk7cmV0dXJuW01hdGgubWF4KGEuc2Nyb2xsV2lkdGgsCmJbMF0pLE1hdGgubWF4KGEuc2Nyb2xsSGVpZ2h0LGJbMV0pXX07dS5nZXRFbGVtZW50U2l6ZT1mdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gYT09dS5nZXRCb2R5KCl8fGE9PXQuZG9jdW1lbnRFbGVtZW50P3UuZ2V0RG9jdW1lbnRTaXplKCk6KGI9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJmEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpP1tiLndpZHRoLGIuaGVpZ2h0XTpbYS5vZmZzZXRXaWR0aCxhLm9mZnNldEhlaWdodF19O3UuZ2V0RWxlbWVudFJlZ2lvbj1mdW5jdGlvbihhKXt2YXIgYj11LmdldEVsZW1lbnRYWShhKTthPXUuZ2V0RWxlbWVudFNpemUoYSk7cmV0dXJuW2JbMF0sYlsxXSxhWzBdLGFbMV1dfTt1LmNhbGNDaGlsZHJlbkNoZWNrc3VtPWZ1bmN0aW9uKGEpe3ZhciBiPUQoZnVuY3Rpb24oKXtyZXR1cm4gYS5pbm5lckhUTUx9LCIiLCEwKSgpfHwiIjtyZXR1cm4gaC5mbGV0Y2hlcihiLnJlcGxhY2UoLyg8W14+XSo+fFtcdTAwMDAtXHUwMDIwXSkvZywiIikpfTt1LmdldEZvcm1OdW1iZXI9CmZ1bmN0aW9uKGEpe3ZhciBiPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImZvcm0iKSxjO3ZhciBkPTA7Zm9yKGM9Yi5sZW5ndGg7ZDxjO2QrKylpZihiW2RdPT1hKXJldHVybiBkO3JldHVybi0xfTt1LmlzRW1wdHlGaWVsZD1mdW5jdGlvbihhKXtyZXR1cm4iSU5QVVQiPT1hLm5vZGVOYW1lJiYic3VibWl0IiE9YS50eXBlJiYiaW1hZ2UiIT1hLnR5cGUmJiJoaWRkZW4iIT1hLnR5cGU/InJhZGlvIj09YS50eXBlfHwiY2hlY2tib3giPT1hLnR5cGU/IWEuY2hlY2tlZDohYS52YWx1ZToiVEVYVEFSRUEiPT1hLm5vZGVOYW1lPyFhLnZhbHVlOiJTRUxFQ1QiPT1hLm5vZGVOYW1lPzA+YS5zZWxlY3RlZEluZGV4OiEwfTt1LmNhbGNUZXh0Q2hlY2tzdW09ZnVuY3Rpb24oYSl7dmFyIGI9IiI7YT1hLmNoaWxkTm9kZXM7dmFyIGM7dmFyIGQ9MDtmb3IoYz1hLmxlbmd0aDtkPGM7ZCsrKWFbZF0mJjM9PWFbZF0ubm9kZVR5cGUmJihiKz1hW2RdLm5vZGVWYWx1ZSk7cmV0dXJuIGguZmxldGNoZXIoYi5yZXBsYWNlKC9bXHUwMDAwLVx1MDAyMF0rL2csCiIiKSl9O3UuY2FsY0F0dHJpYkNoZWNrc3VtPWZ1bmN0aW9uKGEpe3ZhciBiPSIiLGM9IndpZHRoIGhlaWdodCBhbGlnbiB0aXRsZSBhbHQgbmFtZSIuc3BsaXQoIiAiKSxkOyJJTUciPT1hLnRhZ05hbWUmJihiKz1hLnNyYy50b0xvd2VyQ2FzZSgpKTsiQSI9PWEudGFnTmFtZSYmKGIrPWEuaHJlZi50b0xvd2VyQ2FzZSgpKTtiKz1TdHJpbmcoYS5jbGFzc05hbWV8fCIiKS50b0xvd2VyQ2FzZSgpO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspYS5nZXRBdHRyaWJ1dGUmJihiKz1TdHJpbmcoYS5nZXRBdHRyaWJ1dGUoY1tkXSl8fCIiKS50b0xvd2VyQ2FzZSgpKTtyZXR1cm4gaC5mbGV0Y2hlcihiLnJlcGxhY2UoL1tcdTAwMDAtXHUwMDIwXSsvZywiIikpfTt1LmNsYXNzTmFtZUV4aXN0cz1mdW5jdGlvbihhLGIpe3RyeXtyZXR1cm4obmV3IFJlZ0V4cCgiKD86XnxcXHMpIitiKyIoPzpcXHN8JCkiKSkudGVzdChhLmNsYXNzTmFtZSl9Y2F0Y2goYyl7cmV0dXJuITF9fTt1LmdldEVsZW1lbnRzQnlDbGFzc05hbWU9CmZ1bmN0aW9uKGEsYil7dmFyIGM7Yj1ifHx0O3ZhciBkPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKTt2YXIgZj1bXTtmb3IoYz0wO2M8ZC5sZW5ndGg7YysrKXUuY2xhc3NOYW1lRXhpc3RzKGRbY10sYSkmJmYucHVzaChkW2NdKTtyZXR1cm4gZn07dHJ5e2lmKHliKXt2YXIga2I9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihkKXtpZihjW2RdKXJldHVybiBjW2RdLmY7dmFyIGY9Y1tkXT17aWE6ZCxYOiExLGY6e319O3JldHVybiBhW2RdLmNhbGwoZi5mLGYsZi5mLGIpLGYuWD0hMCxmLmZ9dmFyIGM9e307cmV0dXJuIGIua2E9YSxiLmZhPWMsYi5pPWZ1bmN0aW9uKGEsYyxsKXtiLk8oYSxjKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyx7ZW51bWVyYWJsZTohMCxnZXQ6bH0pfSxiLnM9ZnVuY3Rpb24oYSl7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pOwpPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LGIuamE9ZnVuY3Rpb24oYSxjKXtpZigoMSZjJiYoYT1iKGEpKSw4JmMpfHw0JmMmJiJvYmplY3QiPT10eXBlb2YgYSYmYSYmYS5hKXJldHVybiBhO3ZhciBkPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoYi5zKGQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkLCJkZWZhdWx0Iix7ZW51bWVyYWJsZTohMCx2YWx1ZTphfSksMiZjJiYic3RyaW5nIiE9dHlwZW9mIGEpZm9yKHZhciBnIGluIGEpYi5pKGQsZyxmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0uYmluZChudWxsLGcpKTtyZXR1cm4gZH0sYi5nYT1mdW5jdGlvbihhKXt2YXIgYz1hJiZhLmE/ZnVuY3Rpb24oKXtyZXR1cm4gYVsiZGVmYXVsdCJdfTpmdW5jdGlvbigpe3JldHVybiBhfTtyZXR1cm4gYi5pKGMsImEiLGMpLGN9LGIuTz1mdW5jdGlvbihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX0sYi5oYT0KIiIsYihiLmxhPTApfShbZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMmJnRoaXMuZGF8fGZ1bmN0aW9uKCl7cmV0dXJuKGQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9MSxlPWFyZ3VtZW50cy5sZW5ndGg7YzxlO2MrKylmb3IodmFyIGQgaW4gYj1hcmd1bWVudHNbY10pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsZCkmJihhW2RdPWJbZF0pO3JldHVybiBhfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtiLmE9ITA7dmFyIGY9YygxKSxsPWMoMiksZz1jKDMpLGg9Yyg0KSxyPWMoNSksdz1jKDcpLHA9Yyg4KSxtPWMoOSkscT1jKDEwKSxrPWMoMTEpLGU9YygxMiksQj1jKDEzKTthPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt2YXIgYj10aGlzO3RoaXMubD1hO3RoaXMuUz17d2ViR0w6Zi5NLGRudDpwLkMsZm9udDpsLkQsc2NyZWVuOmguSixzcGVlY2g6Zy5LLGpzSGVhcDprLkYsbmF2aTpxLkgsbU1lZGlhOm0uRyxwbHVnaW5zOnIuSSwKdmlkZW86ZS5MLGFwcGxlUGF5OncuQn07dGhpcy5sPWQoe3dlYkdMOiExLGRudDohMSxwbHVnaW5zOiExLGFwcGxlUGF5OiExfSxhKTt0aGlzLlI9T2JqZWN0LmtleXModGhpcy5sKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGIubFthXX0pLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gbmV3IGIuU1thXX0pfXJldHVybiBhLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT0hMCk7dmFyIGI9dGhpcy5SLm1hcChmdW5jdGlvbihhKXt2YXIgYj0iIjt0cnl7Yj1hLmIoKX1jYXRjaChOYSl7fXJldHVybiBifSk7cmV0dXJuIGE/W0IuaGFzaChiLmpvaW4oIiIpLDIxMCldOmIubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBCLmhhc2goYSwyMTApfSl9LGF9KCk7Yi5jYT1hO2JbImRlZmF1bHQiXT1hfSxmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMmJnRoaXMuZWF8fGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3JldHVybihhPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8CntfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oYSxiKXthLl9fcHJvdG9fXz1ifXx8ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYiliLmhhc093blByb3BlcnR5KGMpJiYoYVtjXT1iW2NdKX0pKGIsYyl9cmV0dXJuIGZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe3RoaXMuY29uc3RydWN0b3I9Yn1hKGIsYyk7Yi5wcm90b3R5cGU9bnVsbD09PWM/T2JqZWN0LmNyZWF0ZShjKTooZC5wcm90b3R5cGU9Yy5wcm90b3R5cGUsbmV3IGQpfX0oKTtiLmE9ITA7dmFyIGQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3ZhciBiPWEuY2FsbCh0aGlzLCJ3ZWJnbCIpfHx0aGlzO3JldHVybiBiLmcmJiFiLlYoKSYmKGIuZz0hMSksYn1yZXR1cm4gYyhiLGEpLGIucHJvdG90eXBlLlY9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNhbnZhcy5nZXRDb250ZXh0JiYodGhpcy5jYW52YXMuZ2V0Q29udGV4dCgid2ViZ2wiKXx8dGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIikpOwpyZXR1cm4hIW0uV2ViR0xSZW5kZXJpbmdDb250ZXh0JiYhIWF9LGIucHJvdG90eXBlLmo9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jO3JldHVybiBiLmNsZWFyQ29sb3IoMCwwLDAsMSksYi5lbmFibGUoYi5ERVBUSF9URVNUKSxiLmRlcHRoRnVuYyhiLkxFUVVBTCksYi5jbGVhcihiLkNPTE9SX0JVRkZFUl9CSVR8Yi5ERVBUSF9CVUZGRVJfQklUKSwiWyIrYVswXSsiLCAiK2FbMV0rIl0ifSxiLnByb3RvdHlwZS5ZPWZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpfHxhLmdldEV4dGVuc2lvbigiV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpfHxhLmdldEV4dGVuc2lvbigiTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpO3JldHVybiBjPygwPT09KGI9YS5nZXRQYXJhbWV0ZXIoYy5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpKSYmKGI9MiksYik6bnVsbH0sYi5wcm90b3R5cGUudT0KZnVuY3Rpb24oKXt2YXIgYT10aGlzLmMsYj1bXSxjPWEuY3JlYXRlQnVmZmVyKCk7YS5iaW5kQnVmZmVyKGEuQVJSQVlfQlVGRkVSLGMpO2EuYnVmZmVyRGF0YShhLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KFstLjIsLS45LDAsLjQsLS4yNiwwLDAsLjczMjEzNDQ0NCwwXSksYS5TVEFUSUNfRFJBVyk7Yy5XPTM7Yy5aPTM7dmFyIGQ9YS5jcmVhdGVQcm9ncmFtKCksZj1hLmNyZWF0ZVNoYWRlcihhLlZFUlRFWF9TSEFERVIpO2Euc2hhZGVyU291cmNlKGYsImF0dHJpYnV0ZSB2ZWMyIGF0dHJWZXJ0ZXg7dmFyeWluZyB2ZWMyIHZhcnlpblRleENvb3JkaW5hdGU7dW5pZm9ybSB2ZWMyIHVuaWZvcm1PZmZzZXQ7dm9pZCBtYWluKCl7dmFyeWluVGV4Q29vcmRpbmF0ZVx4M2RhdHRyVmVydGV4K3VuaWZvcm1PZmZzZXQ7Z2xfUG9zaXRpb25ceDNkdmVjNChhdHRyVmVydGV4LDAsMSk7fSIpO2EuY29tcGlsZVNoYWRlcihmKTt2YXIgbD1hLmNyZWF0ZVNoYWRlcihhLkZSQUdNRU5UX1NIQURFUik7CmEuc2hhZGVyU291cmNlKGwsInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O3ZhcnlpbmcgdmVjMiB2YXJ5aW5UZXhDb29yZGluYXRlO3ZvaWQgbWFpbigpIHtnbF9GcmFnQ29sb3JceDNkdmVjNCh2YXJ5aW5UZXhDb29yZGluYXRlLDAsMSk7fSIpO2EuY29tcGlsZVNoYWRlcihsKTthLmF0dGFjaFNoYWRlcihkLGYpO2EuYXR0YWNoU2hhZGVyKGQsbCk7YS5saW5rUHJvZ3JhbShkKTthLnVzZVByb2dyYW0oZCk7ZC5hYT1hLmdldEF0dHJpYkxvY2F0aW9uKGQsImF0dHJWZXJ0ZXgiKTtkLiQ9YS5nZXRVbmlmb3JtTG9jYXRpb24oZCwidW5pZm9ybU9mZnNldCIpO2EuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZC5tYSk7YS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGQuYWEsYy5XLGEuRkxPQVQsITEsMCwwKTthLnVuaWZvcm0yZihkLiQsMSwxKTthLmRyYXdBcnJheXMoYS5UUklBTkdMRV9TVFJJUCwwLGMuWik7bnVsbCE9YS5jYW52YXMmJmIucHVzaChhLmNhbnZhcy50b0RhdGFVUkwoKSk7Yi5wdXNoKCJleHRlbnNpb25zOiIrCmEuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucygpLmpvaW4oIjsiKSk7Yi5wdXNoKCJ3ZWJnbCBhbGlhc2VkIGxpbmUgd2lkdGggcmFuZ2U6Iit0aGlzLmooYS5nZXRQYXJhbWV0ZXIoYS5BTElBU0VEX0xJTkVfV0lEVEhfUkFOR0UpKSk7Yi5wdXNoKCJ3ZWJnbCBhbGlhc2VkIHBvaW50IHNpemUgcmFuZ2U6Iit0aGlzLmooYS5nZXRQYXJhbWV0ZXIoYS5BTElBU0VEX1BPSU5UX1NJWkVfUkFOR0UpKSk7Yi5wdXNoKCJ3ZWJnbCBhbHBoYSBiaXRzOiIrYS5nZXRQYXJhbWV0ZXIoYS5BTFBIQV9CSVRTKSk7Yi5wdXNoKCJ3ZWJnbCBhbnRpYWxpYXNpbmc6IisoYS5nZXRDb250ZXh0QXR0cmlidXRlcygpLmFudGlhbGlhcz8ieWVzIjoibm8iKSk7Yi5wdXNoKCJ3ZWJnbCBibHVlIGJpdHM6IithLmdldFBhcmFtZXRlcihhLkJMVUVfQklUUykpO2IucHVzaCgid2ViZ2wgZGVwdGggYml0czoiK2EuZ2V0UGFyYW1ldGVyKGEuREVQVEhfQklUUykpO2IucHVzaCgid2ViZ2wgZ3JlZW4gYml0czoiK2EuZ2V0UGFyYW1ldGVyKGEuR1JFRU5fQklUUykpOwpiLnB1c2goIndlYmdsIG1heCBhbmlzb3Ryb3B5OiIrdGhpcy5ZKGEpKTtiLnB1c2goIndlYmdsIG1heCBjb21iaW5lZCB0ZXh0dXJlIGltYWdlIHVuaXRzOiIrYS5nZXRQYXJhbWV0ZXIoYS5NQVhfQ09NQklORURfVEVYVFVSRV9JTUFHRV9VTklUUykpO2IucHVzaCgid2ViZ2wgbWF4IGN1YmUgbWFwIHRleHR1cmUgc2l6ZToiK2EuZ2V0UGFyYW1ldGVyKGEuTUFYX0NVQkVfTUFQX1RFWFRVUkVfU0laRSkpO2IucHVzaCgid2ViZ2wgbWF4IGZyYWdtZW50IHVuaWZvcm0gdmVjdG9yczoiK2EuZ2V0UGFyYW1ldGVyKGEuTUFYX0ZSQUdNRU5UX1VOSUZPUk1fVkVDVE9SUykpO2IucHVzaCgid2ViZ2wgbWF4IHJlbmRlciBidWZmZXIgc2l6ZToiK2EuZ2V0UGFyYW1ldGVyKGEuTUFYX1JFTkRFUkJVRkZFUl9TSVpFKSk7Yi5wdXNoKCJ3ZWJnbCBtYXggdGV4dHVyZSBpbWFnZSB1bml0czoiK2EuZ2V0UGFyYW1ldGVyKGEuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpKTtiLnB1c2goIndlYmdsIG1heCB0ZXh0dXJlIHNpemU6IisKYS5nZXRQYXJhbWV0ZXIoYS5NQVhfVEVYVFVSRV9TSVpFKSk7Yi5wdXNoKCJ3ZWJnbCBtYXggdmFyeWluZyB2ZWN0b3JzOiIrYS5nZXRQYXJhbWV0ZXIoYS5NQVhfVkFSWUlOR19WRUNUT1JTKSk7Yi5wdXNoKCJ3ZWJnbCBtYXggdmVydGV4IGF0dHJpYnM6IithLmdldFBhcmFtZXRlcihhLk1BWF9WRVJURVhfQVRUUklCUykpO2IucHVzaCgid2ViZ2wgbWF4IHZlcnRleCB0ZXh0dXJlIGltYWdlIHVuaXRzOiIrYS5nZXRQYXJhbWV0ZXIoYS5NQVhfVkVSVEVYX1RFWFRVUkVfSU1BR0VfVU5JVFMpKTtiLnB1c2goIndlYmdsIG1heCB2ZXJ0ZXggdW5pZm9ybSB2ZWN0b3JzOiIrYS5nZXRQYXJhbWV0ZXIoYS5NQVhfVkVSVEVYX1VOSUZPUk1fVkVDVE9SUykpO2IucHVzaCgid2ViZ2wgbWF4IHZpZXdwb3J0IGRpbXM6Iit0aGlzLmooYS5nZXRQYXJhbWV0ZXIoYS5NQVhfVklFV1BPUlRfRElNUykpKTtiLnB1c2goIndlYmdsIHJlZCBiaXRzOiIrYS5nZXRQYXJhbWV0ZXIoYS5SRURfQklUUykpOwpiLnB1c2goIndlYmdsIHJlbmRlcmVyOiIrYS5nZXRQYXJhbWV0ZXIoYS5SRU5ERVJFUikpO2IucHVzaCgid2ViZ2wgc2hhZGluZyBsYW5ndWFnZSB2ZXJzaW9uOiIrYS5nZXRQYXJhbWV0ZXIoYS5TSEFESU5HX0xBTkdVQUdFX1ZFUlNJT04pKTtiLnB1c2goIndlYmdsIHN0ZW5jaWwgYml0czoiK2EuZ2V0UGFyYW1ldGVyKGEuU1RFTkNJTF9CSVRTKSk7Yi5wdXNoKCJ3ZWJnbCB2ZW5kb3I6IithLmdldFBhcmFtZXRlcihhLlZFTkRPUikpO2IucHVzaCgid2ViZ2wgdmVyc2lvbjoiK2EuZ2V0UGFyYW1ldGVyKGEuVkVSU0lPTikpO3RyeXt2YXIgaD1hLmdldEV4dGVuc2lvbigiV0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mbyIpO2gmJihiLnB1c2goIndlYmdsIHVubWFza2VkIHZlbmRvcjoiK2EuZ2V0UGFyYW1ldGVyKGguVU5NQVNLRURfVkVORE9SX1dFQkdMKSksYi5wdXNoKCJ3ZWJnbCB1bm1hc2tlZCByZW5kZXJlcjoiK2EuZ2V0UGFyYW1ldGVyKGguVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpKSl9Y2F0Y2goayl7fXJldHVybiBhLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdD8KKGIucHVzaCgid2ViZ2wgdmVydGV4IHNoYWRlciBoaWdoIGZsb2F0IHByZWNpc2lvbjoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuVkVSVEVYX1NIQURFUixhLkhJR0hfRkxPQVQpLnByZWNpc2lvbiksYi5wdXNoKCJ3ZWJnbCB2ZXJ0ZXggc2hhZGVyIGhpZ2ggZmxvYXQgcHJlY2lzaW9uIHJhbmdlTWluOiIrYS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYS5WRVJURVhfU0hBREVSLGEuSElHSF9GTE9BVCkucmFuZ2VNaW4pLGIucHVzaCgid2ViZ2wgdmVydGV4IHNoYWRlciBoaWdoIGZsb2F0IHByZWNpc2lvbiByYW5nZU1heDoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuVkVSVEVYX1NIQURFUixhLkhJR0hfRkxPQVQpLnJhbmdlTWF4KSxiLnB1c2goIndlYmdsIHZlcnRleCBzaGFkZXIgbWVkaXVtIGZsb2F0IHByZWNpc2lvbjoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuVkVSVEVYX1NIQURFUixhLk1FRElVTV9GTE9BVCkucHJlY2lzaW9uKSxiLnB1c2goIndlYmdsIHZlcnRleCBzaGFkZXIgbWVkaXVtIGZsb2F0IHByZWNpc2lvbiByYW5nZU1pbjoiKwphLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChhLlZFUlRFWF9TSEFERVIsYS5NRURJVU1fRkxPQVQpLnJhbmdlTWluKSxiLnB1c2goIndlYmdsIHZlcnRleCBzaGFkZXIgbWVkaXVtIGZsb2F0IHByZWNpc2lvbiByYW5nZU1heDoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuVkVSVEVYX1NIQURFUixhLk1FRElVTV9GTE9BVCkucmFuZ2VNYXgpLGIucHVzaCgid2ViZ2wgdmVydGV4IHNoYWRlciBsb3cgZmxvYXQgcHJlY2lzaW9uOiIrYS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYS5WRVJURVhfU0hBREVSLGEuTE9XX0ZMT0FUKS5wcmVjaXNpb24pLGIucHVzaCgid2ViZ2wgdmVydGV4IHNoYWRlciBsb3cgZmxvYXQgcHJlY2lzaW9uIHJhbmdlTWluOiIrYS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYS5WRVJURVhfU0hBREVSLGEuTE9XX0ZMT0FUKS5yYW5nZU1pbiksYi5wdXNoKCJ3ZWJnbCB2ZXJ0ZXggc2hhZGVyIGxvdyBmbG9hdCBwcmVjaXNpb24gcmFuZ2VNYXg6IisKYS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYS5WRVJURVhfU0hBREVSLGEuTE9XX0ZMT0FUKS5yYW5nZU1heCksYi5wdXNoKCJ3ZWJnbCBmcmFnbWVudCBzaGFkZXIgaGlnaCBmbG9hdCBwcmVjaXNpb246IithLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChhLkZSQUdNRU5UX1NIQURFUixhLkhJR0hfRkxPQVQpLnByZWNpc2lvbiksYi5wdXNoKCJ3ZWJnbCBmcmFnbWVudCBzaGFkZXIgaGlnaCBmbG9hdCBwcmVjaXNpb24gcmFuZ2VNaW46IithLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChhLkZSQUdNRU5UX1NIQURFUixhLkhJR0hfRkxPQVQpLnJhbmdlTWluKSxiLnB1c2goIndlYmdsIGZyYWdtZW50IHNoYWRlciBoaWdoIGZsb2F0IHByZWNpc2lvbiByYW5nZU1heDoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuRlJBR01FTlRfU0hBREVSLGEuSElHSF9GTE9BVCkucmFuZ2VNYXgpLGIucHVzaCgid2ViZ2wgZnJhZ21lbnQgc2hhZGVyIG1lZGl1bSBmbG9hdCBwcmVjaXNpb246IisKYS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYS5GUkFHTUVOVF9TSEFERVIsYS5NRURJVU1fRkxPQVQpLnByZWNpc2lvbiksYi5wdXNoKCJ3ZWJnbCBmcmFnbWVudCBzaGFkZXIgbWVkaXVtIGZsb2F0IHByZWNpc2lvbiByYW5nZU1pbjoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuRlJBR01FTlRfU0hBREVSLGEuTUVESVVNX0ZMT0FUKS5yYW5nZU1pbiksYi5wdXNoKCJ3ZWJnbCBmcmFnbWVudCBzaGFkZXIgbWVkaXVtIGZsb2F0IHByZWNpc2lvbiByYW5nZU1heDoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuRlJBR01FTlRfU0hBREVSLGEuTUVESVVNX0ZMT0FUKS5yYW5nZU1heCksYi5wdXNoKCJ3ZWJnbCBmcmFnbWVudCBzaGFkZXIgbG93IGZsb2F0IHByZWNpc2lvbjoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuRlJBR01FTlRfU0hBREVSLGEuTE9XX0ZMT0FUKS5wcmVjaXNpb24pLGIucHVzaCgid2ViZ2wgZnJhZ21lbnQgc2hhZGVyIGxvdyBmbG9hdCBwcmVjaXNpb24gcmFuZ2VNaW46IisKYS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYS5GUkFHTUVOVF9TSEFERVIsYS5MT1dfRkxPQVQpLnJhbmdlTWluKSxiLnB1c2goIndlYmdsIGZyYWdtZW50IHNoYWRlciBsb3cgZmxvYXQgcHJlY2lzaW9uIHJhbmdlTWF4OiIrYS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYS5GUkFHTUVOVF9TSEFERVIsYS5MT1dfRkxPQVQpLnJhbmdlTWF4KSxiLnB1c2goIndlYmdsIHZlcnRleCBzaGFkZXIgaGlnaCBpbnQgcHJlY2lzaW9uOiIrYS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYS5WRVJURVhfU0hBREVSLGEuSElHSF9JTlQpLnByZWNpc2lvbiksYi5wdXNoKCJ3ZWJnbCB2ZXJ0ZXggc2hhZGVyIGhpZ2ggaW50IHByZWNpc2lvbiByYW5nZU1pbjoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuVkVSVEVYX1NIQURFUixhLkhJR0hfSU5UKS5yYW5nZU1pbiksYi5wdXNoKCJ3ZWJnbCB2ZXJ0ZXggc2hhZGVyIGhpZ2ggaW50IHByZWNpc2lvbiByYW5nZU1heDoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuVkVSVEVYX1NIQURFUiwKYS5ISUdIX0lOVCkucmFuZ2VNYXgpLGIucHVzaCgid2ViZ2wgdmVydGV4IHNoYWRlciBtZWRpdW0gaW50IHByZWNpc2lvbjoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuVkVSVEVYX1NIQURFUixhLk1FRElVTV9JTlQpLnByZWNpc2lvbiksYi5wdXNoKCJ3ZWJnbCB2ZXJ0ZXggc2hhZGVyIG1lZGl1bSBpbnQgcHJlY2lzaW9uIHJhbmdlTWluOiIrYS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYS5WRVJURVhfU0hBREVSLGEuTUVESVVNX0lOVCkucmFuZ2VNaW4pLGIucHVzaCgid2ViZ2wgdmVydGV4IHNoYWRlciBtZWRpdW0gaW50IHByZWNpc2lvbiByYW5nZU1heDoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuVkVSVEVYX1NIQURFUixhLk1FRElVTV9JTlQpLnJhbmdlTWF4KSxiLnB1c2goIndlYmdsIHZlcnRleCBzaGFkZXIgbG93IGludCBwcmVjaXNpb246IithLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChhLlZFUlRFWF9TSEFERVIsYS5MT1dfSU5UKS5wcmVjaXNpb24pLApiLnB1c2goIndlYmdsIHZlcnRleCBzaGFkZXIgbG93IGludCBwcmVjaXNpb24gcmFuZ2VNaW46IithLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChhLlZFUlRFWF9TSEFERVIsYS5MT1dfSU5UKS5yYW5nZU1pbiksYi5wdXNoKCJ3ZWJnbCB2ZXJ0ZXggc2hhZGVyIGxvdyBpbnQgcHJlY2lzaW9uIHJhbmdlTWF4OiIrYS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYS5WRVJURVhfU0hBREVSLGEuTE9XX0lOVCkucmFuZ2VNYXgpLGIucHVzaCgid2ViZ2wgZnJhZ21lbnQgc2hhZGVyIGhpZ2ggaW50IHByZWNpc2lvbjoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuRlJBR01FTlRfU0hBREVSLGEuSElHSF9JTlQpLnByZWNpc2lvbiksYi5wdXNoKCJ3ZWJnbCBmcmFnbWVudCBzaGFkZXIgaGlnaCBpbnQgcHJlY2lzaW9uIHJhbmdlTWluOiIrYS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYS5GUkFHTUVOVF9TSEFERVIsYS5ISUdIX0lOVCkucmFuZ2VNaW4pLGIucHVzaCgid2ViZ2wgZnJhZ21lbnQgc2hhZGVyIGhpZ2ggaW50IHByZWNpc2lvbiByYW5nZU1heDoiKwphLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChhLkZSQUdNRU5UX1NIQURFUixhLkhJR0hfSU5UKS5yYW5nZU1heCksYi5wdXNoKCJ3ZWJnbCBmcmFnbWVudCBzaGFkZXIgbWVkaXVtIGludCBwcmVjaXNpb246IithLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChhLkZSQUdNRU5UX1NIQURFUixhLk1FRElVTV9JTlQpLnByZWNpc2lvbiksYi5wdXNoKCJ3ZWJnbCBmcmFnbWVudCBzaGFkZXIgbWVkaXVtIGludCBwcmVjaXNpb24gcmFuZ2VNaW46IithLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChhLkZSQUdNRU5UX1NIQURFUixhLk1FRElVTV9JTlQpLnJhbmdlTWluKSxiLnB1c2goIndlYmdsIGZyYWdtZW50IHNoYWRlciBtZWRpdW0gaW50IHByZWNpc2lvbiByYW5nZU1heDoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuRlJBR01FTlRfU0hBREVSLGEuTUVESVVNX0lOVCkucmFuZ2VNYXgpLGIucHVzaCgid2ViZ2wgZnJhZ21lbnQgc2hhZGVyIGxvdyBpbnQgcHJlY2lzaW9uOiIrCmEuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuRlJBR01FTlRfU0hBREVSLGEuTE9XX0lOVCkucHJlY2lzaW9uKSxiLnB1c2goIndlYmdsIGZyYWdtZW50IHNoYWRlciBsb3cgaW50IHByZWNpc2lvbiByYW5nZU1pbjoiK2EuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGEuRlJBR01FTlRfU0hBREVSLGEuTE9XX0lOVCkucmFuZ2VNaW4pLGIucHVzaCgid2ViZ2wgZnJhZ21lbnQgc2hhZGVyIGxvdyBpbnQgcHJlY2lzaW9uIHJhbmdlTWF4OiIrYS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoYS5GUkFHTUVOVF9TSEFERVIsYS5MT1dfSU5UKS5yYW5nZU1heCksYi5qb2luKCJ+IikpOmIuam9pbigifiIpfSxifShhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt0aGlzLlA9YTt0aGlzLmc9ITA7dGhpcy5jYW52YXM9dC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTt0aGlzLlUoKXx8KHRoaXMuZz0hMSl9cmV0dXJuIGEucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jPXRoaXMuY2FudmFzLmdldENvbnRleHQodGhpcy5QKSwKISghdGhpcy5jYW52YXMuZ2V0Q29udGV4dHx8IXRoaXMuYyl9LGEucHJvdG90eXBlLmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nP3RoaXMudSgpOnRoaXMuaWR9LGF9KCkpO2IuTT1kO2E9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBhLmNhbGwodGhpcywiMmQiKXx8dGhpc31yZXR1cm4gYyhiLGEpLGIucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNhbnZhcyxiPXRoaXMuYyxjPVtdO3JldHVybiBhLndpZHRoPTJFMyxhLmhlaWdodD0yMDAsYS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLGIucmVjdCgwLDAsMTAsMTApLGIucmVjdCgyLDIsNiw2KSxjLnB1c2goImNhbnZhcyB3aW5kaW5nOiIrKCExPT09Yi5pc1BvaW50SW5QYXRoKDUsNSwiZXZlbm9kZCIpPyJ5ZXMiOiJubyIpKSxiLnRleHRCYXNlbGluZT0iYWxwaGFiZXRpYyIsYi5maWxsU3R5bGU9IiNmNjAiLGIuZmlsbFJlY3QoMTI1LDEsNjIsMjApLGIuZmlsbFN0eWxlPSIjMDY5IixiLmZvbnQ9IjExcHQgQXJpYWwiLApiLmZpbGxUZXh0KCJDd20gZmpvcmRiYW5rIGdseXBocyB2ZXh0IHF1aXosIFx1ZDgzZFx1ZGUwMyIsMiwxNSksYi5maWxsU3R5bGU9InJnYmEoMTAyLCAyMDQsIDAsIDAuMikiLGIuZm9udD0iMThwdCBBcmlhbCIsYi5maWxsVGV4dCgiQ3dtIGZqb3JkYmFuayBnbHlwaHMgdmV4dCBxdWl6LCBcdWQ4M2RcdWRlMDMiLDQsNDUpLGIuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSJtdWx0aXBseSIsYi5maWxsU3R5bGU9InJnYigyNTUsMCwyNTUpIixiLmJlZ2luUGF0aCgpLGIuYXJjKDUwLDUwLDUwLDAsMipNYXRoLlBJLCEwKSxiLmNsb3NlUGF0aCgpLGIuZmlsbCgpLGIuZmlsbFN0eWxlPSJyZ2IoMCwyNTUsMjU1KSIsYi5iZWdpblBhdGgoKSxiLmFyYygxMDAsNTAsNTAsMCwyKk1hdGguUEksITApLGIuY2xvc2VQYXRoKCksYi5maWxsKCksYi5maWxsU3R5bGU9InJnYigyNTUsMjU1LDApIixiLmJlZ2luUGF0aCgpLGIuYXJjKDc1LDEwMCw1MCwwLDIqTWF0aC5QSSwhMCksYi5jbG9zZVBhdGgoKSwKYi5maWxsKCksYi5maWxsU3R5bGU9InJnYigyNTUsMCwyNTUpIixiLmFyYyg3NSw3NSw3NSwwLDIqTWF0aC5QSSwhMCksYi5hcmMoNzUsNzUsMjUsMCwyKk1hdGguUEksITApLGIuZmlsbCgiZXZlbm9kZCIpLGMucHVzaCgiY2FudmFzIGZwOiIrYS50b0RhdGFVUkwoKSksYy5qb2luKCJ+Iil9LGJ9KGEpO2IuYmE9YX0sZnVuY3Rpb24oYSxiKXtiLmE9ITA7YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLk49WyJtb25vc3BhY2UiLCJzYW5zLXNlcmlmIiwic2VyaWYiXTt0aGlzLlQ9IkFuZGFsZSBNb25vO0FyaWFsO0FyaWFsIEJsYWNrO0FyaWFsIEhlYnJldztBcmlhbCBNVDtBcmlhbCBOYXJyb3c7QXJpYWwgUm91bmRlZCBNVCBCb2xkO0FyaWFsIFVuaWNvZGUgTVM7Qml0c3RyZWFtIFZlcmEgU2FucyBNb25vO0Jvb2sgQW50aXF1YTtCb29rbWFuIE9sZCBTdHlsZTtDYWxpYnJpO0NhbWJyaWE7Q2FtYnJpYSBNYXRoO0NlbnR1cnk7Q2VudHVyeSBHb3RoaWM7Q2VudHVyeSBTY2hvb2xib29rO0NvbWljIFNhbnM7Q29taWMgU2FucyBNUztDb25zb2xhcztDb3VyaWVyO0NvdXJpZXIgTmV3O0dhcmFtb25kO0dlbmV2YTtHZW9yZ2lhO0hlbHZldGljYTtIZWx2ZXRpY2EgTmV1ZTtJbXBhY3Q7THVjaWRhIEJyaWdodDtMdWNpZGEgQ2FsbGlncmFwaHk7THVjaWRhIENvbnNvbGU7THVjaWRhIEZheDtMVUNJREEgR1JBTkRFO0x1Y2lkYSBIYW5kd3JpdGluZztMdWNpZGEgU2FucztMdWNpZGEgU2FucyBUeXBld3JpdGVyO0x1Y2lkYSBTYW5zIFVuaWNvZGU7TWljcm9zb2Z0IFNhbnMgU2VyaWY7TW9uYWNvO01vbm90eXBlIENvcnNpdmE7TVMgR290aGljO01TIE91dGxvb2s7TVMgUEdvdGhpYztNUyBSZWZlcmVuY2UgU2FucyBTZXJpZjtNUyBTYW5zIFNlcmlmO01TIFNlcmlmO01ZUklBRDtNWVJJQUQgUFJPO1BhbGF0aW5vO1BhbGF0aW5vIExpbm90eXBlO1NlZ29lIFByaW50O1NlZ29lIFNjcmlwdDtTZWdvZSBVSTtTZWdvZSBVSSBMaWdodDtTZWdvZSBVSSBTZW1pYm9sZDtTZWdvZSBVSSBTeW1ib2w7VGFob21hO1RpbWVzO1RpbWVzIE5ldyBSb21hbjtUaW1lcyBOZXcgUm9tYW4gUFM7VHJlYnVjaGV0IE1TO1ZlcmRhbmE7V2luZ2RpbmdzO1dpbmdkaW5ncyAyO1dpbmdkaW5ncyAzIi5zcGxpdCgiOyIpOwp0aGlzLm89Im1tbW1tbW1tbW1sbGkifXJldHVybiBhLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5OLmNvbmNhdCh0aGlzLlQpO3RyeXt2YXIgYj10LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpfWNhdGNoKHcpe3JldHVybiIifWlmKCEoYiYmYi5nZXRDb250ZXh0JiZiLmdldENvbnRleHQoIjJkIikpKXJldHVybiIiO3ZhciBjPVtdOyhiPWIuZ2V0Q29udGV4dCgiMmQiKSkuZm9udD0iMzBweCAiK3RoaXMubztmb3IodmFyIGc9Yi5tZWFzdXJlVGV4dCh0aGlzLm8pLndpZHRoLGg9MCxyPWEubGVuZ3RoO2g8cjtoKyspYi5mb250PSIzMHB4ICIrYVtoXSxjLnB1c2goYi5tZWFzdXJlVGV4dCh0aGlzLm8pLndpZHRoPT09Zyk7cmV0dXJuIGMuam9pbigieCIpfSxhfSgpO2IuRD1hfSxmdW5jdGlvbihhLGIpe2IuYT0hMDthPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31yZXR1cm4gYS5wcm90b3R5cGUuYj1mdW5jdGlvbigpe2lmKCEoYz1tLnNwZWVjaFN5bnRoZXNpcykpcmV0dXJuIiI7CmZvcih2YXIgYSxiPVtdLGM9Yy5nZXRWb2ljZXMoKSxnPTA7ZzxjLmxlbmd0aDtnKyspYT1jW2ddLGIucHVzaCgiIithLm5hbWUrYS5sYW5nK2EubG9jYWxTZXJ2aWNlK2Eudm9pY2VVUkkrYVsiZGVmYXVsdCJdKTtyZXR1cm4gYi5qb2luKCIiKX0sYX0oKTtiLks9YX0sZnVuY3Rpb24oYSxiKXtiLmE9ITA7YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt9cmV0dXJuIGEucHJvdG90eXBlLmI9ZnVuY3Rpb24oKXt2YXIgYT1tLnNjcmVlbjtyZXR1cm5bYS53aWR0aCxhLmhlaWdodCxhLmF2YWlsV2lkdGgsYS5hdmFpbEhlaWdodCxhLmF2YWlsVG9wXS5qb2luKCJ4Iil9LGF9KCk7Yi5KPWF9LGZ1bmN0aW9uKGEsYixjKXtiLmE9ITA7dmFyIGQ9Yyg2KTthPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31yZXR1cm4gYS5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3JldHVybiBkLkEobmF2aWdhdG9yLnBsdWdpbnMpLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5uYW1lPmIubmFtZT8xOjJ9KS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuW2EubmFtZSwKYS5kZXNjcmlwdGlvbixkLkEoYSkubWFwKGZ1bmN0aW9uKGEpe3JldHVyblthLmRlc2NyaXB0aW9uLGEuc3VmZml4ZXMsYS50eXBlXS5qb2luKCl9KS5qb2luKCldLmpvaW4oKX0pLmpvaW4oKX0sYX0oKTtiLkk9YX0sZnVuY3Rpb24oYSxiKXtiLmE9ITA7Yi5BPWZ1bmN0aW9uKGEpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhKX19LGZ1bmN0aW9uKGEsYil7Yi5hPSEwO2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dGhpcy5tPW0uQXBwbGVQYXlTZXNzaW9ufXJldHVybiBhLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7dmFyIGE9ITE7dHJ5e2E9bS5zZWxmIT09bS50b3B9Y2F0Y2gobCl7fWlmKCF0aGlzLm18fCJodHRwczoiIT09TC5wcm90b2NvbHx8YSlyZXR1cm4iIjthPSIiO2Zvcih2YXIgYj0xOzEwPj1iO2IrKylhKz10aGlzLm0uc3VwcG9ydHNWZXJzaW9uKGIpP2I6IjAiO3JldHVybiBhK3RoaXMubS5jYW5NYWtlUGF5bWVudHMoKX0sYX0oKTtiLkI9YX0sZnVuY3Rpb24oYSwKYil7Yi5hPSEwO2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dGhpcy5oPW0ubmF2aWdhdG9yfXJldHVybiBhLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaC5kb05vdFRyYWNrP3RoaXMuaC5kb05vdFRyYWNrOnRoaXMuaC5tc0RvTm90VHJhY2s/dGhpcy5oLm1zRG9Ob3RUcmFjazoidW5rbm93biJ9LGF9KCk7Yi5DPWF9LGZ1bmN0aW9uKGEsYil7Yi5hPSEwO2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fXJldHVybiBhLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4iIisoYT1tLm1hdGNoTWVkaWEoIigiK2ErIikiKSkubWVkaWErKGEubWF0Y2hlcz8xOjApfXJldHVyblthKCJwcmVmZXJzLXJlZHVjZWQtbW90aW9uIiksYSgicHJlZmVycy1yZWR1Y2VkLXRyYW5zcGFyZW5jeSIpLGEoInByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrIiksYSgicHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0IiksYSgicG9pbnRlcjogbm9uZSIpLGEoInBvaW50ZXI6IGNvYXJzZSIpLAphKCJwb2ludGVyOiBmaW5lIiksYSgiYW55LXBvaW50ZXI6IG5vbmUiKSxhKCJhbnktcG9pbnRlcjogY29hcnNlIiksYSgiYW55LXBvaW50ZXI6IGZpbmUiKSxhKCJzY2FuOiBpbnRlcmxhY2UiKSxhKCJzY2FuOiBwcm9ncmVzc2l2ZSIpLGEoImNvbG9yLWdhbXV0OiBzcmdiIiksYSgiY29sb3ItZ2FtdXQ6IHAzIiksYSgiY29sb3ItZ2FtdXQ6IHJlYzIwMjAiKSxhKCJ1cGRhdGU6IGZhc3QiKSxhKCJ1cGRhdGU6IHNsb3ciKSxhKCJ1cGRhdGU6IG5vbmUiKSxhKCJncmlkOiAwIiksYSgiZ3JpZDogMSIpLGEoImhvdmVyOiBob3ZlciIpLGEoImludmVydGVkLWNvbG9yczogaW52ZXJ0ZWQiKSxhKCJpbnZlcnRlZC1jb2xvcnM6IG5vbmUiKV0uam9pbigieCIpfSxhfSgpO2IuRz1hfSxmdW5jdGlvbihhLGIpe2IuYT0hMDthPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31yZXR1cm4gYS5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3ZhciBhPW0ubmF2aWdhdG9yO3JldHVyblthLmFwcE5hbWUsYS52ZW5kb3IsCmEuaSxhLnMsYS5tYXhUb3VjaFBvaW50cyxhLmFwcFZlcnNpb24sYS5wcm9kdWN0U3ViLGEuYXBwQ29kZU5hbWUsYS52ZW5kb3JTdWIsYS5nZXRHYW1lcGFkcyYmYS5nZXRHYW1lcGFkcygpLmxlbmd0aF0uam9pbigieCIpfSxhfSgpO2IuSD1hfSxmdW5jdGlvbihhLGIpe2IuYT0hMDthPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31yZXR1cm4gYS5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3ZhciBhPW0ucGVyZm9ybWFuY2U7cmV0dXJuIGEmJmEubWVtb3J5JiZhLm1lbW9yeS5qc0hlYXBTaXplTGltaXR9LGF9KCk7Yi5GPWF9LGZ1bmN0aW9uKGEsYil7Yi5hPSEwO2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dGhpcy50eXBlcz0idmlkZW8vb2dnIHZpZGVvL21wNCB2aWRlby93ZWJtIGF1ZGlvL3gtYWlmZiBhdWRpby94LW00YSBhdWRpby9tcGVnIGF1ZGlvL2FhYyBhdWRpby93YXYgYXVkaW8vb2dnIGF1ZGlvL21wNCIuc3BsaXQoIiAiKTt0aGlzLnY9InRoZW9yYSB2b3JiaXMgMSBhdmMxLjRENDAxRSBtcDRhLjQwLjIgdnA4LjAgbXA0YS40MC41Ii5zcGxpdCgiICIpfQpyZXR1cm4gYS5wcm90b3R5cGUudz1mdW5jdGlvbihhKXtyZXR1cm4gYXx8IjAifSxhLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXQuY3JlYXRlRWxlbWVudCgidmlkZW8iKSxiPVtdLGM9MTtjPHRoaXMudHlwZXMubGVuZ3RoO2MrKyl7Yi5wdXNoKHRoaXMudyhhLmNhblBsYXlUeXBlKHRoaXMudHlwZXNbY10rIjsiKSkpO2Zvcih2YXIgZz0xO2c8dGhpcy52Lmxlbmd0aDtnKyspYi5wdXNoKGEuY2FuUGxheVR5cGUodGhpcy53KHRoaXMudHlwZXNbY10rJzsgY29kZWNzXHgzZCInK3RoaXMudltnXSsnIicpKSl9cmV0dXJuIGIuam9pbigiIil9LGF9KCk7Yi5MPWF9LGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIpe2E9W2FbMF0+Pj4xNiw2NTUzNSZhWzBdLGFbMV0+Pj4xNiw2NTUzNSZhWzFdXTtiPVtiWzBdPj4+MTYsNjU1MzUmYlswXSxiWzFdPj4+MTYsNjU1MzUmYlsxXV07dmFyIGM9WzAsMCwwLDBdO3JldHVybiBjWzNdKz1hWzNdKmJbM10sY1syXSs9Y1szXT4+PgoxNixjWzNdJj02NTUzNSxjWzJdKz1hWzJdKmJbM10sY1sxXSs9Y1syXT4+PjE2LGNbMl0mPTY1NTM1LGNbMl0rPWFbM10qYlsyXSxjWzFdKz1jWzJdPj4+MTYsY1syXSY9NjU1MzUsY1sxXSs9YVsxXSpiWzNdLGNbMF0rPWNbMV0+Pj4xNixjWzFdJj02NTUzNSxjWzFdKz1hWzJdKmJbMl0sY1swXSs9Y1sxXT4+PjE2LGNbMV0mPTY1NTM1LGNbMV0rPWFbM10qYlsxXSxjWzBdKz1jWzFdPj4+MTYsY1sxXSY9NjU1MzUsY1swXSs9YVswXSpiWzNdK2FbMV0qYlsyXSthWzJdKmJbMV0rYVszXSpiWzBdLGNbMF0mPTY1NTM1LFtjWzBdPDwxNnxjWzFdLGNbMl08PDE2fGNbM11dfWZ1bmN0aW9uIGQoYSxiKXthPVthWzBdPj4+MTYsNjU1MzUmYVswXSxhWzFdPj4+MTYsNjU1MzUmYVsxXV07Yj1bYlswXT4+PjE2LDY1NTM1JmJbMF0sYlsxXT4+PjE2LDY1NTM1JmJbMV1dO3ZhciBjPVswLDAsMCwwXTtyZXR1cm4gY1szXSs9YVszXStiWzNdLGNbMl0rPWNbM10+Pj4xNixjWzNdJj02NTUzNSxjWzJdKz0KYVsyXStiWzJdLGNbMV0rPWNbMl0+Pj4xNixjWzJdJj02NTUzNSxjWzFdKz1hWzFdK2JbMV0sY1swXSs9Y1sxXT4+PjE2LGNbMV0mPTY1NTM1LGNbMF0rPWFbMF0rYlswXSxjWzBdJj02NTUzNSxbY1swXTw8MTZ8Y1sxXSxjWzJdPDwxNnxjWzNdXX1mdW5jdGlvbiBmKGEsYil7cmV0dXJuIDMyPT09KGIlPTY0KT9bYVsxXSxhWzBdXTozMj5iP1thWzBdPDxifGFbMV0+Pj4zMi1iLGFbMV08PGJ8YVswXT4+PjMyLWJdOihiLT0zMixbYVsxXTw8YnxhWzBdPj4+MzItYixhWzBdPDxifGFbMV0+Pj4zMi1iXSl9ZnVuY3Rpb24gaChhLGIpe3JldHVybiAwPT09KGIlPTY0KT9hOjMyPmI/W2FbMF08PGJ8YVsxXT4+PjMyLWIsYVsxXTw8Yl06W2FbMV08PGItMzIsMF19ZnVuY3Rpb24gZyhhLGIpe3JldHVyblthWzBdXmJbMF0sYVsxXV5iWzFdXX1mdW5jdGlvbiBuKGEpe3JldHVybiBhPWcoYSxbMCxhWzBdPj4+MV0pLGE9ZyhhPWMoYSxbNDI4MzU0MzUxMSwzOTgxODA2Nzk3XSksWzAsYVswXT4+PgoxXSksZyhhPWMoYSxbMzMwMTg4MjM2Niw0NDQ5ODQ0MDNdKSxbMCxhWzBdPj4+MV0pfWIuYT0hMDtiLmhhc2g9ZnVuY3Rpb24oYSxiKXtiPWJ8fDA7dmFyIGw9KGE9YXx8IiIpLmxlbmd0aCUxNixyPWEubGVuZ3RoLWwscT1bMCxiXTtiPVswLGJdO2Zvcih2YXIgayxlLEI9WzIyNzc3MzUzMTMsMjg5NTU5NTA5XSxIPVsxMjkxMTY5MDkxLDY1ODg3MTE2N10sej0wO3o8cjt6Kz0xNilrPVsyNTUmYS5jaGFyQ29kZUF0KHorNCl8KDI1NSZhLmNoYXJDb2RlQXQoeis1KSk8PDh8KDI1NSZhLmNoYXJDb2RlQXQoeis2KSk8PDE2fCgyNTUmYS5jaGFyQ29kZUF0KHorNykpPDwyNCwyNTUmYS5jaGFyQ29kZUF0KHopfCgyNTUmYS5jaGFyQ29kZUF0KHorMSkpPDw4fCgyNTUmYS5jaGFyQ29kZUF0KHorMikpPDwxNnwoMjU1JmEuY2hhckNvZGVBdCh6KzMpKTw8MjRdLGU9WzI1NSZhLmNoYXJDb2RlQXQoeisxMil8KDI1NSZhLmNoYXJDb2RlQXQoeisxMykpPDw4fCgyNTUmYS5jaGFyQ29kZUF0KHorCjE0KSk8PDE2fCgyNTUmYS5jaGFyQ29kZUF0KHorMTUpKTw8MjQsMjU1JmEuY2hhckNvZGVBdCh6KzgpfCgyNTUmYS5jaGFyQ29kZUF0KHorOSkpPDw4fCgyNTUmYS5jaGFyQ29kZUF0KHorMTApKTw8MTZ8KDI1NSZhLmNoYXJDb2RlQXQoeisxMSkpPDwyNF0saz1mKGs9YyhrLEIpLDMxKSxxPWQocT1mKHE9ZyhxLGMoayxIKSksMjcpLGIpLHE9ZChjKHEsWzAsNV0pLFswLDEzOTAyMDg4MDldKSxlPWYoZT1jKGUsSCksMzMpLGI9ZChiPWYoYj1nKGIsYyhlLEIpKSwzMSkscSksYj1kKGMoYixbMCw1XSksWzAsOTQ0MzMxNDQ1XSk7c3dpdGNoKGs9WzAsMF0sZT1bMCwwXSxsKXtjYXNlIDE1OmU9ZyhlLGgoWzAsYS5jaGFyQ29kZUF0KHorMTQpXSw0OCkpO2Nhc2UgMTQ6ZT1nKGUsaChbMCxhLmNoYXJDb2RlQXQoeisxMyldLDQwKSk7Y2FzZSAxMzplPWcoZSxoKFswLGEuY2hhckNvZGVBdCh6KzEyKV0sMzIpKTtjYXNlIDEyOmU9ZyhlLGgoWzAsYS5jaGFyQ29kZUF0KHorMTEpXSwyNCkpOwpjYXNlIDExOmU9ZyhlLGgoWzAsYS5jaGFyQ29kZUF0KHorMTApXSwxNikpO2Nhc2UgMTA6ZT1nKGUsaChbMCxhLmNoYXJDb2RlQXQoeis5KV0sOCkpO2Nhc2UgOTplPWMoZT1nKGUsWzAsYS5jaGFyQ29kZUF0KHorOCldKSxIKSxiPWcoYixjKGYoZSwzMyksQikpO2Nhc2UgODprPWcoayxoKFswLGEuY2hhckNvZGVBdCh6KzcpXSw1NikpO2Nhc2UgNzprPWcoayxoKFswLGEuY2hhckNvZGVBdCh6KzYpXSw0OCkpO2Nhc2UgNjprPWcoayxoKFswLGEuY2hhckNvZGVBdCh6KzUpXSw0MCkpO2Nhc2UgNTprPWcoayxoKFswLGEuY2hhckNvZGVBdCh6KzQpXSwzMikpO2Nhc2UgNDprPWcoayxoKFswLGEuY2hhckNvZGVBdCh6KzMpXSwyNCkpO2Nhc2UgMzprPWcoayxoKFswLGEuY2hhckNvZGVBdCh6KzIpXSwxNikpO2Nhc2UgMjprPWcoayxoKFswLGEuY2hhckNvZGVBdCh6KzEpXSw4KSk7Y2FzZSAxOms9YyhrPWcoayxbMCxhLmNoYXJDb2RlQXQoeildKSxCKSxxPWcocSxjKGYoaywzMSksSCkpfXJldHVybiBxPQpkKHE9ZyhxLFswLGEubGVuZ3RoXSksYj1nKGIsWzAsYS5sZW5ndGhdKSksYj1kKGIscSkscT1kKHE9bihxKSxiPW4oYikpLGI9ZChiLHEpLCgiMDAwMDAwMDAiKyhxWzBdPj4+MCkudG9TdHJpbmcoMTYpKS5zbGljZSgtOCkrKCIwMDAwMDAwMCIrKHFbMV0+Pj4wKS50b1N0cmluZygxNikpLnNsaWNlKC04KSsoIjAwMDAwMDAwIisoYlswXT4+PjApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTgpKygiMDAwMDAwMDAiKyhiWzFdPj4+MCkudG9TdHJpbmcoMTYpKS5zbGljZSgtOCl9fV0pO2tiPWtiWyJkZWZhdWx0Il19fWNhdGNoKGEpe1FhPXtlcnJvcjphLHNjb3BlOiJmaXAifX1oLnRvQXJyYXk9ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXTtpZihhJiYhaXNOYU4oYS5sZW5ndGgpJiYwPD1hLmxlbmd0aClmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWMucHVzaChhW2JdKTtyZXR1cm4gY307aC5hcnJheUZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZjtmb3IoZj0wO2Y8YS5sZW5ndGg7ZisrKWIuY2FsbChjLAphW2ZdLGYsYSkmJmQucHVzaChhW2ZdKTtyZXR1cm4gZH07aC5hcnJEaWZmPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGguYXJyYXlGaWx0ZXIoYSxmdW5jdGlvbihhKXtyZXR1cm4tMT09PWguYXJyYXlJbmRleE9mKGIsYSl9KX07aC5lbmNvZGVVUklDb21wb25lbnQ9ZnVuY3Rpb24oYSxiKXthPVN0cmluZyhhKTtiJiZhLmxlbmd0aD5iJiYoYT1hLnN1YnN0cigwLGIpKTtyZXR1cm4obS5lbmNvZGVVUklDb21wb25lbnR8fG0uZXNjYXBlKShhKS5yZXBsYWNlKC9cKy9nLCIlMkIiKX07aC5iaW5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxjLmNvbmNhdChbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSkpfX07aC5zYWZlRGVjb2RlVVJJQ29tcG9uZW50PWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGEpfWNhdGNoKGIpe3JldHVybiIifX07aC5pc0Rldj0KZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5ub29wPWZ1bmN0aW9uKCl7fTshamIoL3dlYmtpdC8pJiZqYigvZ2Vja28vKTt2YXIgbmI9e2FzeW5jQ2h1bms6NDAwLG1heER1cmF0aW9uOjIwLHJlc3RUaW1lOjEwMCxhc3luY0J1ZmZlcjpbXSx0aW1lb3V0Om51bGwscmVzdDowLGFkZEFzeW5jSXRlbTpmdW5jdGlvbihhLGIsYyxkLGYpe3ZhciBsPXRoaXM7dGhpcy5hc3luY0J1ZmZlci5wdXNoKHtmbjphLGN0eDpiLGFyZ3M6ZHx8W10sbG9nZ2VyTmFtZTpmfHwiIn0pO2M/KGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLGwuZmx1c2hBc3luYyghMCkpOnkuZ2V0TXMoKS10aGlzLnJlc3Q+PXRoaXMucmVzdFRpbWUmJiF0aGlzLnRpbWVvdXQ/KHRoaXMucmVzdD15LmdldE1zKCksbC5mbHVzaEFzeW5jKCkpOnRoaXMudGltZW91dHx8KHRoaXMudGltZW91dD1oLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtsLnJlc3Q9eS5nZXRNcygpO2wuZmx1c2hBc3luYygpO2wudGltZW91dD0hMX0sdGhpcy5yZXN0VGltZSkpfSwKY2hhaW46ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGY9dGhpczthLnB1c2g9ZnVuY3Rpb24oYSl7dGhyb3cnVHJ5IHRvIHB1c2ggaW4gRXhlY3V0b3Igd2hlbiBpdCBzdGFydGVkICInK2ErJyInO307KGZ1bmN0aW9uIHcoYixjLGgpe2YuYWRkQXN5bmNJdGVtKGZ1bmN0aW9uKGIsYyxkKXtjPWFbYisrXShjKTtiPD1hLmxlbmd0aC0xJiZ3KGIsYyxkKX0sbnVsbCxoLFtiLGNdLGQrIi4iK2IpfSkoMCxiLGMpfSxjYWxsQnlUaW1lb3V0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXkuZ2V0TXMoKSxkPTAsZixsPShifHwwKSsxLGc9MCxuPXRoaXM7dGhpcy5hc3luY0J1ZmZlci5sZW5ndGg7KWlmKGY9dGhpcy5hc3luY0J1ZmZlci5zaGlmdCgpLGcrPTEsIWYuaXNFeGVjdXRlZCYmKEQoZnVuY3Rpb24oKXtmLmZuLmFwcGx5KGYuY3R4LGYuYXJncyl9LCJBc3luY0V4ZWN1dG9yLiIrZi5sb2dnZXJOYW1lKSgpLGQ9eS5nZXRNcygpLWMsZi5pc0V4ZWN1dGVkPSEwLCFhJiYoZz49dGhpcy5hc3luY0NodW5rfHwKZD49dGhpcy5tYXhEdXJhdGlvbikpKXtoLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmNhbGxCeVRpbWVvdXQoYSxsKX0sdGhpcy5yZXN0VGltZSk7YnJlYWt9fSxmbHVzaEFzeW5jOmZ1bmN0aW9uKGEpe3RoaXMuYXN5bmNCdWZmZXIubGVuZ3RoJiZ0aGlzLmNhbGxCeVRpbWVvdXQoYSl9fSxrYz1aYS5pbmhlcml0KHtpZDoiWEhSUGxhaW4iLGluZGV4OjgsX3NwbGl0UGFyYW1zOmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9e307aC5mb3JFYWNoS2V5KGEsZnVuY3Rpb24oYSxmKXtoLmluQXJyYXkodGhpcy5wb3N0UGFyYW1zLGEpP3RoaXMucG9zdFBhcmFtcy5pc1NpbmdsZT9jPWY6Y1thXT1mOmJbYV09Zn0sdGhpcyk7cmV0dXJue2dldDpiLHBvc3Q6Y319LF9wcmVwYXJlUG9zdFBhcmFtczpmdW5jdGlvbihhKXtyZXR1cm4gYS5wb3N0fSxfc2V0SGVhZGVyczpmdW5jdGlvbihhKXthLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsInRleHQvcGxhaW4iKX19KSxvYj1WLmluaGVyaXQoe3Jlc291cmNlOiJ3ZWJ2aXNvciIsCnZlcnNpb246MixyZXRyeTohMSxwb3N0UGFyYW1zOlsid3YtZGF0YSJdLHRyYW5zcG9ydHM6W2tjXSxfaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe29iLnN1cGVyY2xhc3MuX2luaXRDb21wb25lbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMucG9zdFBhcmFtcy5pc1NpbmdsZT0hMH0sc2VuZFBhY2tldDpmdW5jdGlvbihhLGIsYyxkLGYsbCxnLG4scil7dmFyIG09dS5nZXRWaWV3cG9ydFNpemUoKTtpZighYXx8IWEubGVuZ3RoKXJldHVybiExO2E9e3JuOmgucmFuZG9tKCksInBhZ2UtdXJsIjpiLHdtb2RlOjAsInd2LXR5cGUiOnRoaXMudmVyc2lvbiwid3YtaGl0IjpjLCJ3di1wYXJ0IjpkKzEsInd2LWRhdGEiOmF9O2Y9e2V0OmcsdzptWzBdKyJ4IittWzFdLHY6dGhpcy5fZ2V0VmVyc2lvbigpLHo6ZixpOmx9O3RoaXMuYnJvd3NlckluZm9NaXgmJihmPWgubWl4aW4oZix0aGlzLmJyb3dzZXJJbmZvTWl4KSk7cmV0dXJuIHRoaXMuc2VuZChhLGYsbixyKX19KSxiYj1YYS5pbmhlcml0KHtwcm90b2NvbDoiIiwKY2h1bmtTaXplOjAsY291bnRlcklkOiIiLGNvdW50ZXJUeXBlOiIiLG1ldGE6bnVsbCxtYXhCdWZmZXJTaXplOjdFNSxmbHVzaFRpbWVvdXQ6MkUzLHN0b3JhZ2VLZXk6InZpc29yYnVmZjIiLGFjdGl2ZTohMSx3dlR5cGU6MixfdjoiIixfdG90YWxTZW5kTGltaXQ6bnVsbCxfdG90YWxTZW5kZWRTaXplOjAsX2luaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt0aGlzLl9zZW5kZXI9bmV3IG9iKHt2ZXJzaW9uOnRoaXMud3ZUeXBlLHByb3RvY29sOnRoaXMucHJvdG9jb2wsZ2xvYmFsQ29uZmlnOnRoaXMuZ2xvYmFsQ29uZmlnLGNvdW50ZXJJZDp0aGlzLmNvdW50ZXJJZCxicm93c2VySW5mb01peDp0aGlzLmJyb3dzZXJJbmZvTWl4LGNvdW50ZXJUeXBlOnRoaXMuY291bnRlclR5cGV9KTtiYi5zdXBlcmNsYXNzLl9pbml0Q29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYXBwZW5kOmZ1bmN0aW9uKGEpeyF0aGlzLl9kYXRhLmxlbmd0aCYmYSYmYS5sZW5ndGgmJih0aGlzLnN0YXJ0QnVmZmVyVGltZT0KeS5nZXRTZWNvbmRzKCkpO2JiLnN1cGVyY2xhc3MuYXBwZW5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX2dldFNpemU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLmNodW5rU2l6ZSs9ZW5jb2RlVVJJQ29tcG9uZW50KGEpLmxlbmd0aDt0aGlzLndyYXBwZXJzLmxlbmd0aCYmaC5yZWR1Y2UoZnVuY3Rpb24oYSxkKXt2YXIgYz1kLmdldEJ1ZmZlckRhdGEoKTtjJiYoYi5jaHVua1NpemUrPWgudG9KU09OKGMpLmxlbmd0aCl9LDAsdGhpcy53cmFwcGVycyk7cmV0dXJuIHRoaXMuY2h1bmtTaXplfSxhZGREYXRhOmZ1bmN0aW9uKGEsYixjLGQsZil7dmFyIGw9MCxnPTEsbj17dHlwZTphfSxyPS45KnRoaXMubWF4QnVmZmVyU2l6ZTtpZighdGhpcy50b3RhbFNlbmRMaW1pdHx8dGhpcy5fdG90YWxTZW5kZWRTaXplPHRoaXMudG90YWxTZW5kTGltaXQpaWYodGhpcy5fdj1jLHRoaXMud3JhcHBlcnMubGVuZ3RoJiZoLmFycmF5RXZlcnkodGhpcy53cmFwcGVycyxmdW5jdGlvbihjKXtjLnRyaWdnZXImJgpjLnRyaWdnZXIoYSxiKTtyZXR1cm4gMX0pLGYpdGhpcy5fZ2V0U2l6ZSgie30iKSx0aGlzLmFwcGVuZChbXSxkKTtlbHNle3RoaXMudXBkYXRlU3RhbXAoYixuKTtjPWFhLnN0cmluZ2lmeShiKTtmPXRoaXMuX2dldFNpemUoYyk7aWYoZj50aGlzLm1heEJ1ZmZlclNpemUpZm9yKHRoaXMuX2RhdGEubGVuZ3RoJiZ0aGlzLl9mbHVzaCgpLGQ9TWF0aC5jZWlsKGMubGVuZ3RoL3IpO2w8Yy5sZW5ndGg7KW4ucGFydE51bT1nLG4uZW5kPWc9PT1kLG4uZGF0YT1jLnNsaWNlKGwsbCs9ciksZysrLHRoaXMuX2dldFNpemUobi5kYXRhKSx0aGlzLmFwcGVuZChbbl0sITApO2Vsc2Ugbi5kYXRhPWMsdGhpcy5hcHBlbmQoW25dLGQpO3RoaXMuc3RvcmUuc2V0KG4se2lkOmEsZGF0YTpifSl9fSxvbkZsdXNoOmZ1bmN0aW9uKGEsYixjKXt0aGlzLmNodW5rU2l6ZT0wO2guYXJyYXlFdmVyeSh0aGlzLndyYXBwZXJzLGZ1bmN0aW9uKGIpe2lmKCFiLm9uRmx1c2gpcmV0dXJuIDE7aC5hcnJheUV2ZXJ5KGEsCmZ1bmN0aW9uKGEpe2E9dGhpcy5zdG9yZS5wb3AoYSk7aWYoIWEpcmV0dXJuIDE7Yi5vbkZsdXNoKGEuaWQsYS5kYXRhKTtyZXR1cm4gMX0sdGhpcyk7cmV0dXJuIDF9LHRoaXMpO2guYXJyYXlFdmVyeSh0aGlzLndyYXBwZXJzLGZ1bmN0aW9uKGIpe2I9Yi5nZXRCdWZmZXJEYXRhKCk7aWYoIWIpcmV0dXJuIDE7Yi5kYXRhPWFhLnN0cmluZ2lmeShiLmRhdGEpO2EucHVzaChiKTtyZXR1cm4gMX0pO2lmKGEubGVuZ3RoKXt2YXIgZD1hYS5zdHJpbmdpZnkoYSk7dGhpcy5fdG90YWxTZW5kZWRTaXplKz1kLmxlbmd0aDt0aGlzLl9zZW5kZXIuc2VuZFBhY2tldChkLGIudXJsLGIuaGl0SWQsYyxiLnRpbWV6b25lLGIudGltZXN0YW1wLHRoaXMuc3RhcnRCdWZmZXJUaW1lKX19LGdldEZsdXNoU2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNodW5rU2l6ZX19KSxLPXt9LENiPSExO3RyeXtLPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZCl7aWYoY1tkXSlyZXR1cm4gY1tkXS5leHBvcnRzOwp2YXIgZj1jW2RdPXtpOmQsbDohMSxleHBvcnRzOnt9fTthW2RdLmNhbGwoZi5leHBvcnRzLGYsZi5leHBvcnRzLGIpO2YubD0hMDtyZXR1cm4gZi5leHBvcnRzfXZhciBjPXt9O2IubT1hO2IuYz1jO2IuZD1mdW5jdGlvbihhLGMsaCl7Yi5vKGEsYyl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpofSl9O2Iucj1mdW5jdGlvbihhKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9O2Iubj1mdW5jdGlvbihhKXt2YXIgYz1hJiZhLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gYVsiZGVmYXVsdCJdfTpmdW5jdGlvbigpe3JldHVybiBhfTtiLmQoYywiYSIsYyk7cmV0dXJuIGN9O2Iubz1mdW5jdGlvbihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX07Yi5wPSIiO3JldHVybiBiKGIucz0xOCl9KFtmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhLApiLGMpe2Zvcih2YXIgZD1PYmplY3Qua2V5cyhiKSxmPTA7ZjxkLmxlbmd0aDsrK2Ypdm9pZCAwIT09YVtkW2ZdXSYmY3x8KGFbZFtmXV09YltkW2ZdXSk7cmV0dXJuIGF9ZnVuY3Rpb24gZihhKXtmdW5jdGlvbiBiKGEsYyl7aWYoISh0aGlzIGluc3RhbmNlb2YgYikpcmV0dXJuIG5ldyBiKGEsYyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIm1lc3NhZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX19KTtFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGIpOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzdGFjayIse3ZhbHVlOkVycm9yKCkuc3RhY2t8fCIifSk7YyYmZCh0aGlzLGMpfShiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLCJuYW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9fSk7Yi5wcm90b3R5cGUudG9TdHJpbmc9CmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSsiOiAiK3RoaXMubWVzc2FnZX07cmV0dXJuIGJ9Yi5hc1Byb21pc2U9YygxNSk7Yi5iYXNlNjQ9YygxNCk7Yi5FdmVudEVtaXR0ZXI9YygxMyk7YlsiZmxvYXQiXT1jKDEyKTtiLmlucXVpcmU9YygxMSk7Yi51dGY4PWMoMTApO2IucG9vbD1jKDkpO2IuTG9uZ0JpdHM9Yyg4KTtiLmdsb2JhbD0idW5kZWZpbmVkIiE9dHlwZW9mIG0mJm18fCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWx8fCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZnx8dGhpcztiLmVtcHR5QXJyYXk9T2JqZWN0LmZyZWV6ZT9PYmplY3QuZnJlZXplKFtdKTpbXTtiLmVtcHR5T2JqZWN0PU9iamVjdC5mcmVlemU/T2JqZWN0LmZyZWV6ZSh7fSk6e307Yi5pc05vZGU9ISEoYi5nbG9iYWwucHJvY2VzcyYmYi5nbG9iYWwucHJvY2Vzcy52ZXJzaW9ucyYmYi5nbG9iYWwucHJvY2Vzcy52ZXJzaW9ucy5ub2RlKTtiLmlzSW50ZWdlcj1OdW1iZXIuaXNJbnRlZ2VyfHwKZnVuY3Rpb24oYSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBhJiZpc0Zpbml0ZShhKSYmTWF0aC5mbG9vcihhKT09PWF9O2IuaXNTdHJpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhfHxhIGluc3RhbmNlb2YgU3RyaW5nfTtiLmlzT2JqZWN0PWZ1bmN0aW9uKGEpe3JldHVybiBhJiYib2JqZWN0Ij09dHlwZW9mIGF9O2IuaXNzZXQ9Yi5pc1NldD1mdW5jdGlvbihhLGIpe3ZhciBjPWFbYl07cmV0dXJuIShudWxsPT1jfHwhYS5oYXNPd25Qcm9wZXJ0eShiKSkmJigib2JqZWN0IiE9dHlwZW9mIGN8fDA8KEFycmF5LmlzQXJyYXkoYyk/Yy5sZW5ndGg6T2JqZWN0LmtleXMoYykubGVuZ3RoKSl9O2IuQnVmZmVyPWZ1bmN0aW9uKCl7dHJ5e3ZhciBhPWIuaW5xdWlyZSgiYnVmZmVyIikuQnVmZmVyO3JldHVybiBhLnByb3RvdHlwZS51dGY4V3JpdGU/YTpudWxsfWNhdGNoKGcpe3JldHVybiBudWxsfX0oKTtiLl9CdWZmZXJfZnJvbT1udWxsO2IuX0J1ZmZlcl9hbGxvY1Vuc2FmZT0KbnVsbDtiLm5ld0J1ZmZlcj1mdW5jdGlvbihhKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGE/Yi5CdWZmZXI/Yi5fQnVmZmVyX2FsbG9jVW5zYWZlKGEpOm5ldyBiLkFycmF5KGEpOmIuQnVmZmVyP2IuX0J1ZmZlcl9mcm9tKGEpOiJ1bmRlZmluZWQiPT10eXBlb2YgVWludDhBcnJheT9hOm5ldyBVaW50OEFycmF5KGEpfTtiLkFycmF5PSJ1bmRlZmluZWQiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5O2IuTG9uZz1iLmdsb2JhbC5kY29kZUlPJiZiLmdsb2JhbC5kY29kZUlPLkxvbmd8fGIuZ2xvYmFsLkxvbmd8fGIuaW5xdWlyZSgibG9uZyIpO2Iua2V5MlJlPS9edHJ1ZXxmYWxzZXwwfDEkLztiLmtleTMyUmU9L14tPyg/OjB8WzEtOV1bMC05XSopJC87Yi5rZXk2NFJlPS9eKD86W1xceDAwLVxceGZmXXs4fXwtPyg/OjB8WzEtOV1bMC05XSopKSQvO2IubG9uZ1RvSGFzaD1mdW5jdGlvbihhKXtyZXR1cm4gYT9iLkxvbmdCaXRzLmZyb20oYSkudG9IYXNoKCk6Yi5Mb25nQml0cy56ZXJvSGFzaH07CmIubG9uZ0Zyb21IYXNoPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yi5Mb25nQml0cy5mcm9tSGFzaChhKTtyZXR1cm4gYi5Mb25nP2IuTG9uZy5mcm9tQml0cyhkLmxvLGQuaGksYyk6ZC50b051bWJlcighIWMpfTtiLm1lcmdlPWQ7Yi5sY0ZpcnN0PWZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Euc3Vic3RyaW5nKDEpfTtiLm5ld0Vycm9yPWY7Yi5Qcm90b2NvbEVycm9yPWYoIlByb3RvY29sRXJyb3IiKTtiLm9uZU9mR2V0dGVyPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDsrK2MpYlthW2NdXT0xO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgYT1PYmplY3Qua2V5cyh0aGlzKSxjPWEubGVuZ3RoLTE7LTE8YzstLWMpaWYoMT09PWJbYVtjXV0mJnZvaWQgMCE9PXRoaXNbYVtjXV0mJm51bGwhPT10aGlzW2FbY11dKXJldHVybiBhW2NdfX07Yi5vbmVPZlNldHRlcj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7Zm9yKHZhciBjPQowO2M8YS5sZW5ndGg7KytjKWFbY10hPT1iJiZkZWxldGUgdGhpc1thW2NdXX19O2IudG9KU09OT3B0aW9ucz17bG9uZ3M6U3RyaW5nLGVudW1zOlN0cmluZyxieXRlczpTdHJpbmcsanNvbjohMH07Yi5fY29uZmlndXJlPWZ1bmN0aW9uKCl7dmFyIGE9Yi5CdWZmZXI7YT8oYi5fQnVmZmVyX2Zyb209YS5mcm9tIT09VWludDhBcnJheS5mcm9tJiZhLmZyb218fGZ1bmN0aW9uKGIsYyl7cmV0dXJuIG5ldyBhKGIsYyl9LGIuX0J1ZmZlcl9hbGxvY1Vuc2FmZT1hLmFsbG9jVW5zYWZlfHxmdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9KTpiLl9CdWZmZXJfZnJvbT1iLl9CdWZmZXJfYWxsb2NVbnNhZmU9bnVsbH19LGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEsYil7cmV0dXJuIFJhbmdlRXJyb3IoImluZGV4IG91dCBvZiByYW5nZTogIithLnBvcysiICsgIisoYnx8MSkrIiBceDNlICIrYS5sZW4pfWZ1bmN0aW9uIGYoYSl7dGhpcy5idWY9YTt0aGlzLnBvcz0wO3RoaXMubGVuPWEubGVuZ3RofQpmdW5jdGlvbiBoKCl7dmFyIGE9bmV3IHAoMCwwKSxiPTA7aWYoISg0PHRoaXMubGVuLXRoaXMucG9zKSl7Zm9yKDszPmI7KytiKXtpZih0aGlzLnBvcz49dGhpcy5sZW4pdGhyb3cgZCh0aGlzKTthLmxvPShhLmxvfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8NypiKT4+PjA7aWYoMTI4PnRoaXMuYnVmW3RoaXMucG9zKytdKXJldHVybiBhfWEubG89KGEubG98KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvcysrXSk8PDcqYik+Pj4wO3JldHVybiBhfWZvcig7ND5iOysrYilpZihhLmxvPShhLmxvfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8NypiKT4+PjAsMTI4PnRoaXMuYnVmW3RoaXMucG9zKytdKXJldHVybiBhO2EubG89KGEubG98KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDwyOCk+Pj4wO2EuaGk9KGEuaGl8KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPj40KT4+PjA7aWYoMTI4PnRoaXMuYnVmW3RoaXMucG9zKytdKXJldHVybiBhO2I9MDtpZig0PHRoaXMubGVuLXRoaXMucG9zKWZvcig7NT4KYjsrK2Ipe2lmKGEuaGk9KGEuaGl8KDEyNyZ0aGlzLmJ1Zlt0aGlzLnBvc10pPDw3KmIrMyk+Pj4wLDEyOD50aGlzLmJ1Zlt0aGlzLnBvcysrXSlyZXR1cm4gYX1lbHNlIGZvcig7NT5iOysrYil7aWYodGhpcy5wb3M+PXRoaXMubGVuKXRocm93IGQodGhpcyk7YS5oaT0oYS5oaXwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDcqYiszKT4+PjA7aWYoMTI4PnRoaXMuYnVmW3RoaXMucG9zKytdKXJldHVybiBhfXRocm93IEVycm9yKCJpbnZhbGlkIHZhcmludCBlbmNvZGluZyIpO31mdW5jdGlvbiBnKGEsYil7cmV0dXJuKGFbYi00XXxhW2ItM108PDh8YVtiLTJdPDwxNnxhW2ItMV08PDI0KT4+PjB9ZnVuY3Rpb24gbigpe2lmKHRoaXMucG9zKzg+dGhpcy5sZW4pdGhyb3cgZCh0aGlzLDgpO3JldHVybiBuZXcgcChnKHRoaXMuYnVmLHRoaXMucG9zKz00KSxnKHRoaXMuYnVmLHRoaXMucG9zKz00KSl9YS5leHBvcnRzPWY7dmFyIHIsbT1jKDApLHA9bS5Mb25nQml0cyxGPW0udXRmOCxxLAprPSJ1bmRlZmluZWQiIT10eXBlb2YgVWludDhBcnJheT9mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgVWludDhBcnJheXx8QXJyYXkuaXNBcnJheShhKSlyZXR1cm4gbmV3IGYoYSk7dGhyb3cgRXJyb3IoImlsbGVnYWwgYnVmZmVyIik7fTpmdW5jdGlvbihhKXtpZihBcnJheS5pc0FycmF5KGEpKXJldHVybiBuZXcgZihhKTt0aHJvdyBFcnJvcigiaWxsZWdhbCBidWZmZXIiKTt9O2YuY3JlYXRlPW0uQnVmZmVyP2Z1bmN0aW9uKGEpe3JldHVybihmLmNyZWF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gbS5CdWZmZXIuaXNCdWZmZXIoYSk/bmV3IHIoYSk6ayhhKX0pKGEpfTprO2YucHJvdG90eXBlLl9zbGljZT1tLkFycmF5LnByb3RvdHlwZS5zdWJhcnJheXx8bS5BcnJheS5wcm90b3R5cGUuc2xpY2U7Zi5wcm90b3R5cGUudWludDMyPShxPTQyOTQ5NjcyOTUsZnVuY3Rpb24oKXtxPSgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKT4+PjA7aWYoMTI4PnRoaXMuYnVmW3RoaXMucG9zKytdKXJldHVybiBxOwpxPShxfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8Nyk+Pj4wO2lmKDEyOD50aGlzLmJ1Zlt0aGlzLnBvcysrXSlyZXR1cm4gcTtxPShxfCgxMjcmdGhpcy5idWZbdGhpcy5wb3NdKTw8MTQpPj4+MDtpZigxMjg+dGhpcy5idWZbdGhpcy5wb3MrK10pcmV0dXJuIHE7cT0ocXwoMTI3JnRoaXMuYnVmW3RoaXMucG9zXSk8PDIxKT4+PjA7aWYoMTI4PnRoaXMuYnVmW3RoaXMucG9zKytdKXJldHVybiBxO3E9KHF8KDE1JnRoaXMuYnVmW3RoaXMucG9zXSk8PDI4KT4+PjA7aWYoMTI4PnRoaXMuYnVmW3RoaXMucG9zKytdKXJldHVybiBxO2lmKCh0aGlzLnBvcys9NSk+dGhpcy5sZW4pdGhyb3cgdGhpcy5wb3M9dGhpcy5sZW4sZCh0aGlzLDEwKTtyZXR1cm4gcX0pO2YucHJvdG90eXBlLmludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIDB8dGhpcy51aW50MzIoKX07Zi5wcm90b3R5cGUuc2ludDMyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy51aW50MzIoKTtyZXR1cm4gYT4+PjFeLSgxJmEpfDB9O2YucHJvdG90eXBlLmJvb2w9CmZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLnVpbnQzMigpfTtmLnByb3RvdHlwZS5maXhlZDMyPWZ1bmN0aW9uKCl7aWYodGhpcy5wb3MrND50aGlzLmxlbil0aHJvdyBkKHRoaXMsNCk7cmV0dXJuIGcodGhpcy5idWYsdGhpcy5wb3MrPTQpfTtmLnByb3RvdHlwZS5zZml4ZWQzMj1mdW5jdGlvbigpe2lmKHRoaXMucG9zKzQ+dGhpcy5sZW4pdGhyb3cgZCh0aGlzLDQpO3JldHVybiAwfGcodGhpcy5idWYsdGhpcy5wb3MrPTQpfTtmLnByb3RvdHlwZVsiZmxvYXQiXT1mdW5jdGlvbigpe2lmKHRoaXMucG9zKzQ+dGhpcy5sZW4pdGhyb3cgZCh0aGlzLDQpO3ZhciBhPW1bImZsb2F0Il0ucmVhZEZsb2F0TEUodGhpcy5idWYsdGhpcy5wb3MpO3RoaXMucG9zKz00O3JldHVybiBhfTtmLnByb3RvdHlwZVsiZG91YmxlIl09ZnVuY3Rpb24oKXtpZih0aGlzLnBvcys4PnRoaXMubGVuKXRocm93IGQodGhpcyw0KTt2YXIgYT1tWyJmbG9hdCJdLnJlYWREb3VibGVMRSh0aGlzLmJ1Zix0aGlzLnBvcyk7CnRoaXMucG9zKz04O3JldHVybiBhfTtmLnByb3RvdHlwZS5ieXRlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMudWludDMyKCksYj10aGlzLnBvcyxjPXRoaXMucG9zK2E7aWYoYz50aGlzLmxlbil0aHJvdyBkKHRoaXMsYSk7dGhpcy5wb3MrPWE7cmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy5idWYpP3RoaXMuYnVmLnNsaWNlKGIsYyk6Yj09PWM/bmV3IHRoaXMuYnVmLmNvbnN0cnVjdG9yKDApOnRoaXMuX3NsaWNlLmNhbGwodGhpcy5idWYsYixjKX07Zi5wcm90b3R5cGUuc3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ieXRlcygpO3JldHVybiBGLnJlYWQoYSwwLGEubGVuZ3RoKX07Zi5wcm90b3R5cGUuc2tpcD1mdW5jdGlvbihhKXtpZigibnVtYmVyIj09dHlwZW9mIGEpe2lmKHRoaXMucG9zK2E+dGhpcy5sZW4pdGhyb3cgZCh0aGlzLGEpO3RoaXMucG9zKz1hfWVsc2V7ZG8gaWYodGhpcy5wb3M+PXRoaXMubGVuKXRocm93IGQodGhpcyk7d2hpbGUoMTI4JnRoaXMuYnVmW3RoaXMucG9zKytdKQp9cmV0dXJuIHRoaXN9O2YucHJvdG90eXBlLnNraXBUeXBlPWZ1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlIDA6dGhpcy5za2lwKCk7YnJlYWs7Y2FzZSAxOnRoaXMuc2tpcCg4KTticmVhaztjYXNlIDI6dGhpcy5za2lwKHRoaXMudWludDMyKCkpO2JyZWFrO2Nhc2UgMzpmb3IoOzQhPShhPTcmdGhpcy51aW50MzIoKSk7KXRoaXMuc2tpcFR5cGUoYSk7YnJlYWs7Y2FzZSA1OnRoaXMuc2tpcCg0KTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKCJpbnZhbGlkIHdpcmUgdHlwZSAiK2ErIiBhdCBvZmZzZXQgIit0aGlzLnBvcyk7fXJldHVybiB0aGlzfTtmLl9jb25maWd1cmU9ZnVuY3Rpb24oYSl7cj1hO3ZhciBiPW0uTG9uZz8idG9Mb25nIjoidG9OdW1iZXIiO20ubWVyZ2UoZi5wcm90b3R5cGUse2ludDY0OmZ1bmN0aW9uKCl7cmV0dXJuIGguY2FsbCh0aGlzKVtiXSghMSl9LHVpbnQ2NDpmdW5jdGlvbigpe3JldHVybiBoLmNhbGwodGhpcylbYl0oITApfSxzaW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gaC5jYWxsKHRoaXMpLnp6RGVjb2RlKClbYl0oITEpfSwKZml4ZWQ2NDpmdW5jdGlvbigpe3JldHVybiBuLmNhbGwodGhpcylbYl0oITApfSxzZml4ZWQ2NDpmdW5jdGlvbigpe3JldHVybiBuLmNhbGwodGhpcylbYl0oITEpfX0pfX0sZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSxiLGMpe3RoaXMuZm49YTt0aGlzLmxlbj1iO3RoaXMubmV4dD12b2lkIDA7dGhpcy52YWw9Y31mdW5jdGlvbiBmKCl7fWZ1bmN0aW9uIGgoYSl7dGhpcy5oZWFkPWEuaGVhZDt0aGlzLnRhaWw9YS50YWlsO3RoaXMubGVuPWEubGVuO3RoaXMubmV4dD1hLnN0YXRlc31mdW5jdGlvbiBnKCl7dGhpcy5sZW49MDt0aGlzLnRhaWw9dGhpcy5oZWFkPW5ldyBkKGYsMCwwKTt0aGlzLnN0YXRlcz1udWxsfWZ1bmN0aW9uIG4oYSxiLGMpe2JbY109MjU1JmF9ZnVuY3Rpb24gbShhLGIpe3RoaXMubGVuPWE7dGhpcy5uZXh0PXZvaWQgMDt0aGlzLnZhbD1ifWZ1bmN0aW9uIHcoYSxiLGMpe2Zvcig7YS5oaTspYltjKytdPTEyNyZhLmxvfDEyOCxhLmxvPShhLmxvPj4+N3xhLmhpPDwKMjUpPj4+MCxhLmhpPj4+PTc7Zm9yKDsxMjc8YS5sbzspYltjKytdPTEyNyZhLmxvfDEyOCxhLmxvPj4+PTc7YltjKytdPWEubG99ZnVuY3Rpb24gcChhLGIsYyl7YltjXT0yNTUmYTtiW2MrMV09YT4+PjgmMjU1O2JbYysyXT1hPj4+MTYmMjU1O2JbYyszXT1hPj4+MjR9YS5leHBvcnRzPWc7dmFyIEYscT1jKDApLGs9cS5Mb25nQml0cyxlPXEuYmFzZTY0LEI9cS51dGY4O2cuY3JlYXRlPXEuQnVmZmVyP2Z1bmN0aW9uKCl7cmV0dXJuKGcuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGfSkoKX06ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGd9O2cuYWxsb2M9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBxLkFycmF5KGEpfTtxLkFycmF5IT09QXJyYXkmJihnLmFsbG9jPXEucG9vbChnLmFsbG9jLHEuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5KSk7Zy5wcm90b3R5cGUuX3B1c2g9ZnVuY3Rpb24oYSxiLGMpe3RoaXMudGFpbD10aGlzLnRhaWwubmV4dD1uZXcgZChhLGIsYyk7dGhpcy5sZW4rPQpiO3JldHVybiB0aGlzfTttLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKTttLnByb3RvdHlwZS5mbj1mdW5jdGlvbihhLGIsYyl7Zm9yKDsxMjc8YTspYltjKytdPTEyNyZhfDEyOCxhPj4+PTc7YltjXT1hfTtnLnByb3RvdHlwZS51aW50MzI9ZnVuY3Rpb24oYSl7dGhpcy5sZW4rPSh0aGlzLnRhaWw9dGhpcy50YWlsLm5leHQ9bmV3IG0oMTI4PihhPj4+PTApPzE6MTYzODQ+YT8yOjIwOTcxNTI+YT8zOjI2ODQzNTQ1Nj5hPzQ6NSxhKSkubGVuO3JldHVybiB0aGlzfTtnLnByb3RvdHlwZS5pbnQzMj1mdW5jdGlvbihhKXtyZXR1cm4gMD5hP3RoaXMuX3B1c2godywxMCxrLmZyb21OdW1iZXIoYSkpOnRoaXMudWludDMyKGEpfTtnLnByb3RvdHlwZS5zaW50MzI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudWludDMyKChhPDwxXmE+PjMxKT4+PjApfTtnLnByb3RvdHlwZS51aW50NjQ9ZnVuY3Rpb24oYSl7YT1rLmZyb20oYSk7cmV0dXJuIHRoaXMuX3B1c2godyxhLmxlbmd0aCgpLAphKX07Zy5wcm90b3R5cGUuaW50NjQ9Zy5wcm90b3R5cGUudWludDY0O2cucHJvdG90eXBlLnNpbnQ2ND1mdW5jdGlvbihhKXthPWsuZnJvbShhKS56ekVuY29kZSgpO3JldHVybiB0aGlzLl9wdXNoKHcsYS5sZW5ndGgoKSxhKX07Zy5wcm90b3R5cGUuYm9vbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fcHVzaChuLDEsYT8xOjApfTtnLnByb3RvdHlwZS5maXhlZDMyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9wdXNoKHAsNCxhPj4+MCl9O2cucHJvdG90eXBlLnNmaXhlZDMyPWcucHJvdG90eXBlLmZpeGVkMzI7Zy5wcm90b3R5cGUuZml4ZWQ2ND1mdW5jdGlvbihhKXthPWsuZnJvbShhKTtyZXR1cm4gdGhpcy5fcHVzaChwLDQsYS5sbykuX3B1c2gocCw0LGEuaGkpfTtnLnByb3RvdHlwZS5zZml4ZWQ2ND1nLnByb3RvdHlwZS5maXhlZDY0O2cucHJvdG90eXBlWyJmbG9hdCJdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9wdXNoKHFbImZsb2F0Il0ud3JpdGVGbG9hdExFLDQsYSl9OwpnLnByb3RvdHlwZVsiZG91YmxlIl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3B1c2gocVsiZmxvYXQiXS53cml0ZURvdWJsZUxFLDgsYSl9O3ZhciBIPXEuQXJyYXkucHJvdG90eXBlLnNldD9mdW5jdGlvbihhLGIsYyl7Yi5zZXQoYSxjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7KytlKWJbYytlXT1hW2VdfTtnLnByb3RvdHlwZS5ieXRlcz1mdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aD4+PjA7aWYoIWIpcmV0dXJuIHRoaXMuX3B1c2gobiwxLDApO2lmKHEuaXNTdHJpbmcoYSkpe3ZhciBjPWcuYWxsb2MoYj1lLmxlbmd0aChhKSk7ZS5kZWNvZGUoYSxjLDApO2E9Y31yZXR1cm4gdGhpcy51aW50MzIoYikuX3B1c2goSCxiLGEpfTtnLnByb3RvdHlwZS5zdHJpbmc9ZnVuY3Rpb24oYSl7dmFyIGI9Qi5sZW5ndGgoYSk7cmV0dXJuIGI/dGhpcy51aW50MzIoYikuX3B1c2goQi53cml0ZSxiLGEpOnRoaXMuX3B1c2gobiwxLDApfTtnLnByb3RvdHlwZS5mb3JrPQpmdW5jdGlvbigpe3RoaXMuc3RhdGVzPW5ldyBoKHRoaXMpO3RoaXMuaGVhZD10aGlzLnRhaWw9bmV3IGQoZiwwLDApO3RoaXMubGVuPTA7cmV0dXJuIHRoaXN9O2cucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZXM/KHRoaXMuaGVhZD10aGlzLnN0YXRlcy5oZWFkLHRoaXMudGFpbD10aGlzLnN0YXRlcy50YWlsLHRoaXMubGVuPXRoaXMuc3RhdGVzLmxlbix0aGlzLnN0YXRlcz10aGlzLnN0YXRlcy5uZXh0KToodGhpcy5oZWFkPXRoaXMudGFpbD1uZXcgZChmLDAsMCksdGhpcy5sZW49MCk7cmV0dXJuIHRoaXN9O2cucHJvdG90eXBlLmxkZWxpbT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaGVhZCxiPXRoaXMudGFpbCxjPXRoaXMubGVuO3RoaXMucmVzZXQoKS51aW50MzIoYyk7YyYmKHRoaXMudGFpbC5uZXh0PWEubmV4dCx0aGlzLnRhaWw9Yix0aGlzLmxlbis9Yyk7cmV0dXJuIHRoaXN9O2cucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmhlYWQubmV4dCwKYj10aGlzLmNvbnN0cnVjdG9yLmFsbG9jKHRoaXMubGVuKSxjPTA7YTspYS5mbihhLnZhbCxiLGMpLGMrPWEubGVuLGE9YS5uZXh0O3JldHVybiBifTtnLl9jb25maWd1cmU9ZnVuY3Rpb24oYSl7Rj1hfX0sZnVuY3Rpb24oYSxiLGMpe2EuZXhwb3J0cz17fX0sZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSxiLGMpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBhKXRocm93IFR5cGVFcnJvcigicnBjSW1wbCBtdXN0IGJlIGEgZnVuY3Rpb24iKTtmLkV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO3RoaXMucnBjSW1wbD1hO3RoaXMucmVxdWVzdERlbGltaXRlZD0hIWI7dGhpcy5yZXNwb25zZURlbGltaXRlZD0hIWN9YS5leHBvcnRzPWQ7dmFyIGY9YygwKTsoZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShmLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1kO2QucHJvdG90eXBlLnJwY0NhbGw9ZnVuY3Rpb24gRihhLGIsYyxkLGgpe2lmKCFkKXRocm93IFR5cGVFcnJvcigicmVxdWVzdCBtdXN0IGJlIHNwZWNpZmllZCIpOwp2YXIgZz10aGlzO2lmKCFoKXJldHVybiBmLmFzUHJvbWlzZShGLGcsYSxiLGMsZCk7aWYoZy5ycGNJbXBsKXRyeXtyZXR1cm4gZy5ycGNJbXBsKGEsYltnLnJlcXVlc3REZWxpbWl0ZWQ/ImVuY29kZURlbGltaXRlZCI6ImVuY29kZSJdKGQpLmZpbmlzaCgpLGZ1bmN0aW9uKGIsZSl7aWYoYilyZXR1cm4gZy5lbWl0KCJlcnJvciIsYixhKSxoKGIpO2lmKG51bGwhPT1lKXtpZighKGUgaW5zdGFuY2VvZiBjKSl0cnl7ZT1jW2cucmVzcG9uc2VEZWxpbWl0ZWQ/ImRlY29kZURlbGltaXRlZCI6ImRlY29kZSJdKGUpfWNhdGNoKEIpe3JldHVybiBnLmVtaXQoImVycm9yIixCLGEpLGgoQil9Zy5lbWl0KCJkYXRhIixlLGEpO3JldHVybiBoKG51bGwsZSl9Zy5lbmQoITApfSl9Y2F0Y2goayl7Zy5lbWl0KCJlcnJvciIsayxhKSxJKGZ1bmN0aW9uKCl7aChrKX0sMCl9ZWxzZSBJKGZ1bmN0aW9uKCl7aChFcnJvcigiYWxyZWFkeSBlbmRlZCIpKX0sMCl9O2QucHJvdG90eXBlLmVuZD1mdW5jdGlvbihhKXt0aGlzLnJwY0ltcGwmJgooYXx8dGhpcy5ycGNJbXBsKG51bGwsbnVsbCxudWxsKSx0aGlzLnJwY0ltcGw9bnVsbCx0aGlzLmVtaXQoImVuZCIpLm9mZigpKTtyZXR1cm4gdGhpc319LGZ1bmN0aW9uKGEsYixjKXtiLlNlcnZpY2U9Yyg0KX0sZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7Zi5jYWxsKHRoaXMsYSl9YS5leHBvcnRzPWQ7dmFyIGY9YygxKTsoZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShmLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWQ7YT1jKDApO2EuQnVmZmVyJiYoZC5wcm90b3R5cGUuX3NsaWNlPWEuQnVmZmVyLnByb3RvdHlwZS5zbGljZSk7ZC5wcm90b3R5cGUuc3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy51aW50MzIoKTtyZXR1cm4gdGhpcy5idWYudXRmOFNsaWNlKHRoaXMucG9zLHRoaXMucG9zPU1hdGgubWluKHRoaXMucG9zK2EsdGhpcy5sZW4pKX19LGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7aC5jYWxsKHRoaXMpfWZ1bmN0aW9uIGYoYSxiLGMpezQwPmEubGVuZ3RoPwpnLnV0Zjgud3JpdGUoYSxiLGMpOmIudXRmOFdyaXRlKGEsYyl9YS5leHBvcnRzPWQ7dmFyIGg9YygyKTsoZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWQ7dmFyIGc9YygwKSxuPWcuQnVmZmVyO2QuYWxsb2M9ZnVuY3Rpb24oYSl7cmV0dXJuKGQuYWxsb2M9Zy5fQnVmZmVyX2FsbG9jVW5zYWZlKShhKX07dmFyIG09biYmbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYic2V0Ij09PW4ucHJvdG90eXBlLnNldC5uYW1lP2Z1bmN0aW9uKGEsYixjKXtiLnNldChhLGMpfTpmdW5jdGlvbihhLGIsYyl7aWYoYS5jb3B5KWEuY29weShiLGMsMCxhLmxlbmd0aCk7ZWxzZSBmb3IodmFyIGQ9MDtkPGEubGVuZ3RoOyliW2MrK109YVtkKytdfTtkLnByb3RvdHlwZS5ieXRlcz1mdW5jdGlvbihhKXtnLmlzU3RyaW5nKGEpJiYoYT1nLl9CdWZmZXJfZnJvbShhLCJiYXNlNjQiKSk7dmFyIGI9YS5sZW5ndGg+Pj4wO3RoaXMudWludDMyKGIpOwpiJiZ0aGlzLl9wdXNoKG0sYixhKTtyZXR1cm4gdGhpc307ZC5wcm90b3R5cGUuc3RyaW5nPWZ1bmN0aW9uKGEpe3ZhciBiPW4uYnl0ZUxlbmd0aChhKTt0aGlzLnVpbnQzMihiKTtiJiZ0aGlzLl9wdXNoKGYsYixhKTtyZXR1cm4gdGhpc319LGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEsYil7dGhpcy5sbz1hPj4+MDt0aGlzLmhpPWI+Pj4wfWEuZXhwb3J0cz1kO3ZhciBmPWMoMCksaD1kLnplcm89bmV3IGQoMCwwKTtoLnRvTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O2guenpFbmNvZGU9aC56ekRlY29kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtoLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiAxfTt2YXIgZz1kLnplcm9IYXNoPSJceDAwXHgwMFx4MDBceDAwXHgwMFx4MDBceDAwXHgwMCI7ZC5mcm9tTnVtYmVyPWZ1bmN0aW9uKGEpe2lmKDA9PT1hKXJldHVybiBoO3ZhciBiPTA+YTtiJiYoYT0tYSk7dmFyIGM9YT4+PjA7YT0oYS1jKS80Mjk0OTY3Mjk2Pj4+MDtiJiYKKGE9fmE+Pj4wLGM9fmM+Pj4wLDQyOTQ5NjcyOTU8KytjJiYoYz0wLDQyOTQ5NjcyOTU8KythJiYoYT0wKSkpO3JldHVybiBuZXcgZChjLGEpfTtkLmZyb209ZnVuY3Rpb24oYSl7aWYoIm51bWJlciI9PXR5cGVvZiBhKXJldHVybiBkLmZyb21OdW1iZXIoYSk7aWYoZi5pc1N0cmluZyhhKSl7aWYoIWYuTG9uZylyZXR1cm4gZC5mcm9tTnVtYmVyKHBhcnNlSW50KGEsMTApKTthPWYuTG9uZy5mcm9tU3RyaW5nKGEpfXJldHVybiBhLmxvd3x8YS5oaWdoP25ldyBkKGEubG93Pj4+MCxhLmhpZ2g+Pj4wKTpofTtkLnByb3RvdHlwZS50b051bWJlcj1mdW5jdGlvbihhKXtpZighYSYmdGhpcy5oaT4+PjMxKXthPTErfnRoaXMubG8+Pj4wO3ZhciBiPX50aGlzLmhpPj4+MDthfHwoYj1iKzE+Pj4wKTtyZXR1cm4tKGErNDI5NDk2NzI5NipiKX1yZXR1cm4gdGhpcy5sbys0Mjk0OTY3Mjk2KnRoaXMuaGl9O2QucHJvdG90eXBlLnRvTG9uZz1mdW5jdGlvbihhKXtyZXR1cm4gZi5Mb25nP25ldyBmLkxvbmcoMHwKdGhpcy5sbywwfHRoaXMuaGksISFhKTp7bG93OjB8dGhpcy5sbyxoaWdoOjB8dGhpcy5oaSx1bnNpZ25lZDohIWF9fTt2YXIgbj1TdHJpbmcucHJvdG90eXBlLmNoYXJDb2RlQXQ7ZC5mcm9tSGFzaD1mdW5jdGlvbihhKXtyZXR1cm4gYT09PWc/aDpuZXcgZCgobi5jYWxsKGEsMCl8bi5jYWxsKGEsMSk8PDh8bi5jYWxsKGEsMik8PDE2fG4uY2FsbChhLDMpPDwyNCk+Pj4wLChuLmNhbGwoYSw0KXxuLmNhbGwoYSw1KTw8OHxuLmNhbGwoYSw2KTw8MTZ8bi5jYWxsKGEsNyk8PDI0KT4+PjApfTtkLnByb3RvdHlwZS50b0hhc2g9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmdGhpcy5sbyx0aGlzLmxvPj4+OCYyNTUsdGhpcy5sbz4+PjE2JjI1NSx0aGlzLmxvPj4+MjQsMjU1JnRoaXMuaGksdGhpcy5oaT4+PjgmMjU1LHRoaXMuaGk+Pj4xNiYyNTUsdGhpcy5oaT4+PjI0KX07ZC5wcm90b3R5cGUuenpFbmNvZGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmhpPj4zMTsKdGhpcy5oaT0oKHRoaXMuaGk8PDF8dGhpcy5sbz4+PjMxKV5hKT4+PjA7dGhpcy5sbz0odGhpcy5sbzw8MV5hKT4+PjA7cmV0dXJuIHRoaXN9O2QucHJvdG90eXBlLnp6RGVjb2RlPWZ1bmN0aW9uKCl7dmFyIGE9LSgxJnRoaXMubG8pO3RoaXMubG89KCh0aGlzLmxvPj4+MXx0aGlzLmhpPDwzMSleYSk+Pj4wO3RoaXMuaGk9KHRoaXMuaGk+Pj4xXmEpPj4+MDtyZXR1cm4gdGhpc307ZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5sbyxiPSh0aGlzLmxvPj4+Mjh8dGhpcy5oaTw8NCk+Pj4wLGM9dGhpcy5oaT4+PjI0O3JldHVybiAwPT09Yz8wPT09Yj8xNjM4ND5hPzEyOD5hPzE6MjoyMDk3MTUyPmE/Mzo0OjE2Mzg0PmI/MTI4PmI/NTo2OjIwOTcxNTI+Yj83Ojg6MTI4PmM/OToxMH19LGZ1bmN0aW9uKGEsYixjKXthLmV4cG9ydHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWN8fDgxOTIsZj1kPj4+MSxoPW51bGwsbD1kO3JldHVybiBmdW5jdGlvbihjKXtpZigxPgpjfHxjPmYpcmV0dXJuIGEoYyk7bCtjPmQmJihoPWEoZCksbD0wKTtjPWIuY2FsbChoLGwsbCs9Yyk7NyZsJiYobD0xKyg3fGwpKTtyZXR1cm4gY319fSxmdW5jdGlvbihhLGIsYyl7Yi5sZW5ndGg9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYyxkPTA7ZDxhLmxlbmd0aDsrK2QpYz1hLmNoYXJDb2RlQXQoZCksMTI4PmM/Yis9MToyMDQ4PmM/Yis9Mjo1NTI5Nj09KDY0NTEyJmMpJiY1NjMyMD09KDY0NTEyJmEuY2hhckNvZGVBdChkKzEpKT8oKytkLGIrPTQpOmIrPTM7cmV0dXJuIGJ9O2IucmVhZD1mdW5jdGlvbihhLGIsYyl7aWYoMT5jLWIpcmV0dXJuIiI7Zm9yKHZhciBkLGY9bnVsbCxoPVtdLGw9MDtiPGM7KWQ9YVtiKytdLDEyOD5kP2hbbCsrXT1kOjE5MTxkJiYyMjQ+ZD9oW2wrK109KDMxJmQpPDw2fDYzJmFbYisrXToyMzk8ZCYmMzY1PmQ/KGQ9KCg3JmQpPDwxOHwoNjMmYVtiKytdKTw8MTJ8KDYzJmFbYisrXSk8PDZ8NjMmYVtiKytdKS02NTUzNixoW2wrK109NTUyOTYrKGQ+PgoxMCksaFtsKytdPTU2MzIwKygxMDIzJmQpKTpoW2wrK109KDE1JmQpPDwxMnwoNjMmYVtiKytdKTw8Nnw2MyZhW2IrK10sODE5MTxsJiYoKGZ8fChmPVtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxoKSksbD0wKTtyZXR1cm4gZj8obCYmZi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGguc2xpY2UoMCxsKSkpLGYuam9pbigiIikpOlN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGguc2xpY2UoMCxsKSl9O2Iud3JpdGU9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxmLGg9YyxsPTA7bDxhLmxlbmd0aDsrK2wpZD1hLmNoYXJDb2RlQXQobCksMTI4PmQ/YltjKytdPWQ6KDIwNDg+ZD9iW2MrK109ZD4+NnwxOTI6KDU1Mjk2PT0oNjQ1MTImZCkmJjU2MzIwPT0oNjQ1MTImKGY9YS5jaGFyQ29kZUF0KGwrMSkpKT8oZD02NTUzNisoKDEwMjMmZCk8PDEwKSsoMTAyMyZmKSwrK2wsYltjKytdPWQ+PjE4fDI0MCxiW2MrK109ZD4+CjEyJjYzfDEyOCk6YltjKytdPWQ+PjEyfDIyNCxiW2MrK109ZD4+NiY2M3wxMjgpLGJbYysrXT02MyZkfDEyOCk7cmV0dXJuIGMtaH19LGZ1bmN0aW9uKGEsYixjKXthLmV4cG9ydHM9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9fSxmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXsidW5kZWZpbmVkIiE9dHlwZW9mIEZsb2F0MzJBcnJheT9mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxiLGMpe2tbMF09YTtiW2NdPWVbMF07YltjKzFdPWVbMV07YltjKzJdPWVbMl07YltjKzNdPWVbM119ZnVuY3Rpb24gYyhhLGIsYyl7a1swXT1hO2JbY109ZVszXTtiW2MrMV09ZVsyXTtiW2MrMl09ZVsxXTtiW2MrM109ZVswXX1mdW5jdGlvbiBkKGEsYil7ZVswXT1hW2JdO2VbMV09YVtiKzFdO2VbMl09YVtiKzJdO2VbM109YVtiKzNdO3JldHVybiBrWzBdfWZ1bmN0aW9uIGYoYSxiKXtlWzNdPWFbYl07ZVsyXT1hW2IrMV07ZVsxXT1hW2IrMl07ZVswXT1hW2IrM107cmV0dXJuIGtbMF19dmFyIGs9bmV3IEZsb2F0MzJBcnJheShbLTBdKSwKZT1uZXcgVWludDhBcnJheShrLmJ1ZmZlciksZz0xMjg9PT1lWzNdO2Eud3JpdGVGbG9hdExFPWc/YjpjO2Eud3JpdGVGbG9hdEJFPWc/YzpiO2EucmVhZEZsb2F0TEU9Zz9kOmY7YS5yZWFkRmxvYXRCRT1nP2Y6ZH0oKTpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxiLGMsZSl7dmFyIGQ9MD5iPzE6MDtkJiYoYj0tYik7aWYoMD09PWIpYSgwPDEvYj8wOjIxNDc0ODM2NDgsYyxlKTtlbHNlIGlmKGlzTmFOKGIpKWEoMjE0MzI4OTM0NCxjLGUpO2Vsc2UgaWYoMy40MDI4MjM0NjYzODUyODg2ZSszODxiKWEoKGQ8PDMxfDIxMzkwOTUwNDApPj4+MCxjLGUpO2Vsc2UgaWYoMS4xNzU0OTQzNTA4MjIyODc1ZS0zOD5iKWEoKGQ8PDMxfE1hdGgucm91bmQoYi8xLjQwMTI5ODQ2NDMyNDgxN2UtNDUpKT4+PjAsYyxlKTtlbHNle3ZhciBrPU1hdGguZmxvb3IoTWF0aC5sb2coYikvTWF0aC5MTjIpO2EoKGQ8PDMxfGsrMTI3PDwyM3w4Mzg4NjA3Jk1hdGgucm91bmQoYipNYXRoLnBvdygyLC1rKSo4Mzg4NjA4KSk+Pj4KMCxjLGUpfX1mdW5jdGlvbiBjKGEsYixjKXtjPWEoYixjKTthPTIqKGM+PjMxKSsxO2I9Yz4+PjIzJjI1NTtjJj04Mzg4NjA3O3JldHVybiAyNTU9PT1iP2M/TmFOOjEvMCphOjA9PT1iPzEuNDAxMjk4NDY0MzI0ODE3ZS00NSphKmM6YSpNYXRoLnBvdygyLGItMTUwKSooYys4Mzg4NjA4KX1hLndyaXRlRmxvYXRMRT1iLmJpbmQobnVsbCxmKTthLndyaXRlRmxvYXRCRT1iLmJpbmQobnVsbCxoKTthLnJlYWRGbG9hdExFPWMuYmluZChudWxsLGcpO2EucmVhZEZsb2F0QkU9Yy5iaW5kKG51bGwsbSl9KCk7InVuZGVmaW5lZCIhPXR5cGVvZiBGbG9hdDY0QXJyYXk/ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYixjKXtrWzBdPWE7YltjXT1lWzBdO2JbYysxXT1lWzFdO2JbYysyXT1lWzJdO2JbYyszXT1lWzNdO2JbYys0XT1lWzRdO2JbYys1XT1lWzVdO2JbYys2XT1lWzZdO2JbYys3XT1lWzddfWZ1bmN0aW9uIGMoYSxiLGMpe2tbMF09YTtiW2NdPWVbN107YltjKzFdPWVbNl07YltjKzJdPQplWzVdO2JbYyszXT1lWzRdO2JbYys0XT1lWzNdO2JbYys1XT1lWzJdO2JbYys2XT1lWzFdO2JbYys3XT1lWzBdfWZ1bmN0aW9uIGQoYSxiKXtlWzBdPWFbYl07ZVsxXT1hW2IrMV07ZVsyXT1hW2IrMl07ZVszXT1hW2IrM107ZVs0XT1hW2IrNF07ZVs1XT1hW2IrNV07ZVs2XT1hW2IrNl07ZVs3XT1hW2IrN107cmV0dXJuIGtbMF19ZnVuY3Rpb24gZihhLGIpe2VbN109YVtiXTtlWzZdPWFbYisxXTtlWzVdPWFbYisyXTtlWzRdPWFbYiszXTtlWzNdPWFbYis0XTtlWzJdPWFbYis1XTtlWzFdPWFbYis2XTtlWzBdPWFbYis3XTtyZXR1cm4ga1swXX12YXIgaz1uZXcgRmxvYXQ2NEFycmF5KFstMF0pLGU9bmV3IFVpbnQ4QXJyYXkoay5idWZmZXIpLGc9MTI4PT09ZVs3XTthLndyaXRlRG91YmxlTEU9Zz9iOmM7YS53cml0ZURvdWJsZUJFPWc/YzpiO2EucmVhZERvdWJsZUxFPWc/ZDpmO2EucmVhZERvdWJsZUJFPWc/ZjpkfSgpOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGIsYyxlLGQsZil7dmFyIGs9CjA+ZT8xOjA7ayYmKGU9LWUpO2lmKDA9PT1lKWEoMCxkLGYrYiksYSgwPDEvZT8wOjIxNDc0ODM2NDgsZCxmK2MpO2Vsc2UgaWYoaXNOYU4oZSkpYSgwLGQsZitiKSxhKDIxNDY5NTkzNjAsZCxmK2MpO2Vsc2UgaWYoMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDg8ZSlhKDAsZCxmK2IpLGEoKGs8PDMxfDIxNDY0MzUwNzIpPj4+MCxkLGYrYyk7ZWxzZSBpZigyLjIyNTA3Mzg1ODUwNzIwMTRlLTMwOD5lKWUvPTVlLTMyNCxhKGU+Pj4wLGQsZitiKSxhKChrPDwzMXxlLzQyOTQ5NjcyOTYpPj4+MCxkLGYrYyk7ZWxzZXt2YXIgZz1NYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKTsxMDI0PT09ZyYmKGc9MTAyMyk7ZSo9TWF0aC5wb3coMiwtZyk7YSg0NTAzNTk5NjI3MzcwNDk2KmU+Pj4wLGQsZitiKTthKChrPDwzMXxnKzEwMjM8PDIwfDEwNDg1NzYqZSYxMDQ4NTc1KT4+PjAsZCxmK2MpfX1mdW5jdGlvbiBjKGEsYixjLGUsZCl7Yj1hKGUsZCtiKTtlPWEoZSxkK2MpO2E9MiooZT4+MzEpKwoxO2M9ZT4+PjIwJjIwNDc7Yj00Mjk0OTY3Mjk2KigxMDQ4NTc1JmUpK2I7cmV0dXJuIDIwNDc9PT1jP2I/TmFOOjEvMCphOjA9PT1jPzVlLTMyNCphKmI6YSpNYXRoLnBvdygyLGMtMTA3NSkqKGIrNDUwMzU5OTYyNzM3MDQ5Nil9YS53cml0ZURvdWJsZUxFPWIuYmluZChudWxsLGYsMCw0KTthLndyaXRlRG91YmxlQkU9Yi5iaW5kKG51bGwsaCw0LDApO2EucmVhZERvdWJsZUxFPWMuYmluZChudWxsLGcsMCw0KTthLnJlYWREb3VibGVCRT1jLmJpbmQobnVsbCxtLDQsMCl9KCk7cmV0dXJuIGF9ZnVuY3Rpb24gZihhLGIsYyl7YltjXT0yNTUmYTtiW2MrMV09YT4+PjgmMjU1O2JbYysyXT1hPj4+MTYmMjU1O2JbYyszXT1hPj4+MjR9ZnVuY3Rpb24gaChhLGIsYyl7YltjXT1hPj4+MjQ7YltjKzFdPWE+Pj4xNiYyNTU7YltjKzJdPWE+Pj44JjI1NTtiW2MrM109MjU1JmF9ZnVuY3Rpb24gZyhhLGIpe3JldHVybihhW2JdfGFbYisxXTw8OHxhW2IrMl08PDE2fGFbYiszXTw8MjQpPj4+MH0KZnVuY3Rpb24gbShhLGIpe3JldHVybihhW2JdPDwyNHxhW2IrMV08PDE2fGFbYisyXTw8OHxhW2IrM10pPj4+MH1hLmV4cG9ydHM9ZChkKX0sZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXt0aGlzLl9saXN0ZW5lcnM9e319YS5leHBvcnRzPWQ7ZC5wcm90b3R5cGUub249ZnVuY3Rpb24oYSxiLGMpeyh0aGlzLl9saXN0ZW5lcnNbYV18fCh0aGlzLl9saXN0ZW5lcnNbYV09W10pKS5wdXNoKHtmbjpiLGN0eDpjfHx0aGlzfSk7cmV0dXJuIHRoaXN9O2QucHJvdG90eXBlLm9mZj1mdW5jdGlvbihhLGIpe2lmKHZvaWQgMD09PWEpdGhpcy5fbGlzdGVuZXJzPXt9O2Vsc2UgaWYodm9pZCAwPT09Yil0aGlzLl9saXN0ZW5lcnNbYV09W107ZWxzZSBmb3IodmFyIGM9dGhpcy5fbGlzdGVuZXJzW2FdLGQ9MDtkPGMubGVuZ3RoOyljW2RdLmZuPT09Yj9jLnNwbGljZShkLDEpOisrZDtyZXR1cm4gdGhpc307ZC5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl9saXN0ZW5lcnNbYV07CmlmKGIpe2Zvcih2YXIgYz1bXSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoOyljLnB1c2goYXJndW1lbnRzW2QrK10pO2ZvcihkPTA7ZDxiLmxlbmd0aDspYltkXS5mbi5hcHBseShiW2QrK10uY3R4LGMpfXJldHVybiB0aGlzfX0sZnVuY3Rpb24oYSxiLGMpe2IubGVuZ3RoPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoO2lmKCFiKXJldHVybiAwO2Zvcih2YXIgYz0wOzE8LS1iJTQmJiJceDNkIj09PWEuY2hhckF0KGIpOykrK2M7cmV0dXJuIE1hdGguY2VpbCgzKmEubGVuZ3RoKS80LWN9O3ZhciBkPUFycmF5KDY0KSxmPUFycmF5KDEyMyk7Zm9yKGE9MDs2ND5hOylmW2RbYV09MjY+YT9hKzY1OjUyPmE/YSs3MTo2Mj5hP2EtNDphLTU5fDQzXT1hKys7Yi5lbmNvZGU9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZixnPW51bGwsaD1bXSxsPTAscT0wO2I8Yzspe3ZhciBrPWFbYisrXTtzd2l0Y2gocSl7Y2FzZSAwOmhbbCsrXT1kW2s+PjJdO2Y9KDMmayk8PDQ7cT0xO2JyZWFrO2Nhc2UgMTpoW2wrK109CmRbZnxrPj40XTtmPSgxNSZrKTw8MjtxPTI7YnJlYWs7Y2FzZSAyOmhbbCsrXT1kW2Z8az4+Nl0saFtsKytdPWRbNjMma10scT0wfTgxOTE8bCYmKChnfHwoZz1bXSkpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsaCkpLGw9MCl9cSYmKGhbbCsrXT1kW2ZdLGhbbCsrXT02MSwxPT09cSYmKGhbbCsrXT02MSkpO3JldHVybiBnPyhsJiZnLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsaC5zbGljZSgwLGwpKSksZy5qb2luKCIiKSk6U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsaC5zbGljZSgwLGwpKX07Yi5kZWNvZGU9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxnPWMsaD0wLGw9MDtsPGEubGVuZ3RoOyl7dmFyIHE9YS5jaGFyQ29kZUF0KGwrKyk7aWYoNjE9PT1xJiYxPGgpYnJlYWs7aWYodm9pZCAwPT09KHE9ZltxXSkpdGhyb3cgRXJyb3IoImludmFsaWQgZW5jb2RpbmciKTtzd2l0Y2goaCl7Y2FzZSAwOmQ9cTtoPTE7YnJlYWs7CmNhc2UgMTpiW2MrK109ZDw8MnwoNDgmcSk+PjQ7ZD1xO2g9MjticmVhaztjYXNlIDI6YltjKytdPSgxNSZkKTw8NHwoNjAmcSk+PjI7ZD1xO2g9MzticmVhaztjYXNlIDM6YltjKytdPSgzJmQpPDw2fHEsaD0wfX1pZigxPT09aCl0aHJvdyBFcnJvcigiaW52YWxpZCBlbmNvZGluZyIpO3JldHVybiBjLWd9O2IudGVzdD1mdW5jdGlvbihhKXtyZXR1cm4vXig/OltBLVphLXowLTkrL117NH0pKig/OltBLVphLXowLTkrL117Mn09PXxbQS1aYS16MC05Ky9dezN9PSk/JC8udGVzdChhKX19LGZ1bmN0aW9uKGEsYixjKXthLmV4cG9ydHM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9QXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxkPTAsZj0yLGg9ITA7Zjxhcmd1bWVudHMubGVuZ3RoOyljW2QrK109YXJndW1lbnRzW2YrK107cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGYsZyl7Y1tkXT1mdW5jdGlvbihhKXtpZihoKWlmKGg9ITEsYSlnKGEpO2Vsc2V7Zm9yKHZhciBiPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtCjEpLGM9MDtjPGIubGVuZ3RoOyliW2MrK109YXJndW1lbnRzW2NdO2YuYXBwbHkobnVsbCxiKX19O3RyeXthLmFwcGx5KGJ8fG51bGwsYyl9Y2F0Y2goRil7aCYmKGg9ITEsZyhGKSl9fSl9fSxmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe2YuUmVhZGVyLl9jb25maWd1cmUoZi5CdWZmZXJSZWFkZXIpO2YudXRpbC5fY29uZmlndXJlKCl9dmFyIGY9YjtmLmJ1aWxkPSJtaW5pbWFsIjtmLldyaXRlcj1jKDIpO2YuQnVmZmVyV3JpdGVyPWMoNyk7Zi5SZWFkZXI9YygxKTtmLkJ1ZmZlclJlYWRlcj1jKDYpO2YudXRpbD1jKDApO2YucnBjPWMoNSk7Zi5yb290cz1jKDMpO2YuY29uZmlndXJlPWQ7Zi5Xcml0ZXIuX2NvbmZpZ3VyZShmLkJ1ZmZlcldyaXRlcik7ZCgpfSxmdW5jdGlvbihhLGIsYyl7YS5leHBvcnRzPWMoMTYpfSxmdW5jdGlvbihhLGIsYyl7Yj1jKDE3KTt2YXIgZD1iLlJlYWRlcixmPWIuV3JpdGVyLGg9Yi51dGlsLGc9Yi5yb290c1siZGVmYXVsdCJdfHwoYi5yb290c1siZGVmYXVsdCJdPQp7fSk7Zy5ydT1mdW5jdGlvbigpe3ZhciBhPXt9O2EueWFuZGV4PWZ1bmN0aW9uKCl7dmFyIGE9e307YS5tZXRyaWthPWZ1bmN0aW9uKCl7dmFyIGE9e307YS53djI9ZnVuY3Rpb24oKXt2YXIgYT17fTthLnByb3RvPWZ1bmN0aW9uKCl7dmFyIGE9e307YS5CdWZmZXJXcmFwcGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt0aGlzLmJ1ZmZlcj1bXTtpZihhKWZvcih2YXIgYj1PYmplY3Qua2V5cyhhKSxjPTA7YzxiLmxlbmd0aDsrK2MpbnVsbCE9YVtiW2NdXSYmKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUuYnVmZmVyPWguZW1wdHlBcnJheTthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7aWYobnVsbCE9YS5idWZmZXImJmEuYnVmZmVyLmxlbmd0aClmb3IodmFyIGM9MDtjPGEuYnVmZmVyLmxlbmd0aDsrK2MpZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uQnVmZmVyLmVuY29kZShhLmJ1ZmZlcltjXSwKYi51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIGJ9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIGR8fChhPWQuY3JlYXRlKGEpKTtmb3IodmFyIGM9dm9pZCAwPT09Yj9hLmxlbjphLnBvcytiLGU9bmV3IGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLkJ1ZmZlcldyYXBwZXI7YS5wb3M8Yzspe3ZhciBrPWEudWludDMyKCk7c3dpdGNoKGs+Pj4zKXtjYXNlIDE6ZS5idWZmZXImJmUuYnVmZmVyLmxlbmd0aHx8KGUuYnVmZmVyPVtdKTtlLmJ1ZmZlci5wdXNoKGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLkJ1ZmZlci5kZWNvZGUoYSxhLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmayl9fXJldHVybiBlfTtyZXR1cm4gYX0oKTthLkJ1ZmZlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPQphW2JbY11dKX1hLnByb3RvdHlwZS5zdGFtcD0wO2EucHJvdG90eXBlLmRhdGE9bnVsbDthLnByb3RvdHlwZS5wYWdlPTA7YS5wcm90b3R5cGUuY2h1bms9aC5uZXdCdWZmZXIoW10pO2EucHJvdG90eXBlLmVuZD0hMTthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS5zdGFtcCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwic3RhbXAiKSYmYi51aW50MzIoOCkuaW50MzIoYS5zdGFtcCk7bnVsbCE9YS5kYXRhJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJkYXRhIikmJmcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLldyYXBwZXIuZW5jb2RlKGEuZGF0YSxiLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtudWxsIT1hLnBhZ2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInBhZ2UiKSYmYi51aW50MzIoMjQpLmludDMyKGEucGFnZSk7bnVsbCE9CmEuY2h1bmsmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImNodW5rIikmJmIudWludDMyKDM0KS5ieXRlcyhhLmNodW5rKTtudWxsIT1hLmVuZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiZW5kIikmJmIudWludDMyKDQwKS5ib29sKGEuZW5kKTtyZXR1cm4gYn07YS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgZHx8KGE9ZC5jcmVhdGUoYSkpO2Zvcih2YXIgYz12b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uQnVmZmVyO2EucG9zPGM7KXt2YXIgaz1hLnVpbnQzMigpO3N3aXRjaChrPj4+Myl7Y2FzZSAxOmUuc3RhbXA9YS5pbnQzMigpO2JyZWFrO2Nhc2UgMjplLmRhdGE9Zy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uV3JhcHBlci5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztjYXNlIDM6ZS5wYWdlPWEuaW50MzIoKTticmVhaztjYXNlIDQ6ZS5jaHVuaz1hLmJ5dGVzKCk7YnJlYWs7CmNhc2UgNTplLmVuZD1hLmJvb2woKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZrKX19cmV0dXJuIGV9O3JldHVybiBhfSgpO2EuV3JhcHBlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLnBhZ2U9bnVsbDthLnByb3RvdHlwZS5tdXRhdGlvbj1udWxsO2EucHJvdG90eXBlLmV2ZW50PW51bGw7YS5wcm90b3R5cGUuYXJ0aWNsZUluZm89bnVsbDthLnByb3RvdHlwZS5wdWJsaXNoZXJzSGVhZGVyPW51bGw7YS5wcm90b3R5cGUuYWN0aXZpdHk9MDt2YXIgYjtPYmplY3QuZGVmaW5lUHJvcGVydHkoYS5wcm90b3R5cGUsImRhdGEiLHtnZXQ6aC5vbmVPZkdldHRlcihiPSJwYWdlIG11dGF0aW9uIGV2ZW50IGFydGljbGVJbmZvIHB1Ymxpc2hlcnNIZWFkZXIgYWN0aXZpdHkiLnNwbGl0KCIgIikpLHNldDpoLm9uZU9mU2V0dGVyKGIpfSk7CmEuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07YS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTtudWxsIT1hLnBhZ2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInBhZ2UiKSYmZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uUGFnZS5lbmNvZGUoYS5wYWdlLGIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO251bGwhPWEubXV0YXRpb24mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm11dGF0aW9uIikmJmcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLk11dGF0aW9uLmVuY29kZShhLm11dGF0aW9uLGIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO251bGwhPWEuZXZlbnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImV2ZW50IikmJmcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLkV2ZW50LmVuY29kZShhLmV2ZW50LGIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO251bGwhPWEuYXJ0aWNsZUluZm8mJgpPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJhcnRpY2xlSW5mbyIpJiZnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5BcnRpY2xlSW5mby5lbmNvZGUoYS5hcnRpY2xlSW5mbyxiLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtudWxsIT1hLnB1Ymxpc2hlcnNIZWFkZXImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInB1Ymxpc2hlcnNIZWFkZXIiKSYmZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uUHVibGlzaGVyc0hlYWRlci5lbmNvZGUoYS5wdWJsaXNoZXJzSGVhZGVyLGIudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpO251bGwhPWEuYWN0aXZpdHkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImFjdGl2aXR5IikmJmIudWludDMyKDQ4KS51aW50MzIoYS5hY3Rpdml0eSk7cmV0dXJuIGJ9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIGR8fChhPWQuY3JlYXRlKGEpKTtmb3IodmFyIGM9dm9pZCAwPT09Yj9hLmxlbjoKYS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5XcmFwcGVyO2EucG9zPGM7KXt2YXIgaz1hLnVpbnQzMigpO3N3aXRjaChrPj4+Myl7Y2FzZSAxOmUucGFnZT1nLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5QYWdlLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgMjplLm11dGF0aW9uPWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLk11dGF0aW9uLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgMzplLmV2ZW50PWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLkV2ZW50LmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgNDplLmFydGljbGVJbmZvPWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLkFydGljbGVJbmZvLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgNTplLnB1Ymxpc2hlcnNIZWFkZXI9Zy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uUHVibGlzaGVyc0hlYWRlci5kZWNvZGUoYSwKYS51aW50MzIoKSk7YnJlYWs7Y2FzZSA2OmUuYWN0aXZpdHk9YS51aW50MzIoKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZrKX19cmV0dXJuIGV9O3JldHVybiBhfSgpO2EuUGFnZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpcy5jb250ZW50PVtdO2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYodGhpc1tiW2NdXT1hW2JbY11dKX1hLnByb3RvdHlwZS5tZXRhPW51bGw7YS5wcm90b3R5cGUuY29udGVudD1oLmVtcHR5QXJyYXk7YS5wcm90b3R5cGUuZnJhbWVJZD0wO2EucHJvdG90eXBlLnRhYklkPSIiO2EucHJvdG90eXBlLnJlY29yZFN0YW1wPWguTG9uZz9oLkxvbmcuZnJvbUJpdHMoMCwwLCExKTowO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07YS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTtudWxsIT1hLm1ldGEmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsCiJtZXRhIikmJmcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlBhZ2UuTWV0YS5lbmNvZGUoYS5tZXRhLGIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWEuY29udGVudCYmYS5jb250ZW50Lmxlbmd0aClmb3IodmFyIGM9MDtjPGEuY29udGVudC5sZW5ndGg7KytjKWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlBhZ2UuQ29udGVudC5lbmNvZGUoYS5jb250ZW50W2NdLGIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO251bGwhPWEuZnJhbWVJZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiZnJhbWVJZCIpJiZiLnVpbnQzMigyNCkuc2ludDMyKGEuZnJhbWVJZCk7bnVsbCE9YS50YWJJZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwidGFiSWQiKSYmYi51aW50MzIoMzQpLnN0cmluZyhhLnRhYklkKTtudWxsIT1hLnJlY29yZFN0YW1wJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJyZWNvcmRTdGFtcCIpJiZiLnVpbnQzMig0MCkuaW50NjQoYS5yZWNvcmRTdGFtcCk7CnJldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5QYWdlO2EucG9zPGM7KXt2YXIgaz1hLnVpbnQzMigpO3N3aXRjaChrPj4+Myl7Y2FzZSAxOmUubWV0YT1nLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5QYWdlLk1ldGEuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7Y2FzZSAyOmUuY29udGVudCYmZS5jb250ZW50Lmxlbmd0aHx8KGUuY29udGVudD1bXSk7ZS5jb250ZW50LnB1c2goZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uUGFnZS5Db250ZW50LmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztjYXNlIDM6ZS5mcmFtZUlkPWEuc2ludDMyKCk7YnJlYWs7Y2FzZSA0OmUudGFiSWQ9YS5zdHJpbmcoKTticmVhaztjYXNlIDU6ZS5yZWNvcmRTdGFtcD1hLmludDY0KCk7YnJlYWs7CmRlZmF1bHQ6YS5za2lwVHlwZSg3JmspfX1yZXR1cm4gZX07YS5Cb3g9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYodGhpc1tiW2NdXT1hW2JbY11dKX1hLnByb3RvdHlwZS53aWR0aD0wO2EucHJvdG90eXBlLmhlaWdodD0wO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07YS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTtudWxsIT1hLndpZHRoJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJ3aWR0aCIpJiZiLnVpbnQzMig4KS5pbnQzMihhLndpZHRoKTtudWxsIT1hLmhlaWdodCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaGVpZ2h0IikmJmIudWludDMyKDE2KS5pbnQzMihhLmhlaWdodCk7cmV0dXJuIGJ9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIGR8fChhPWQuY3JlYXRlKGEpKTsKZm9yKHZhciBjPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5QYWdlLkJveDthLnBvczxjOyl7dmFyIGs9YS51aW50MzIoKTtzd2l0Y2goaz4+PjMpe2Nhc2UgMTplLndpZHRoPWEuaW50MzIoKTticmVhaztjYXNlIDI6ZS5oZWlnaHQ9YS5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmspfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7YS5Mb2NhdGlvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLmhvc3Q9IiI7YS5wcm90b3R5cGUucHJvdG9jb2w9IiI7YS5wcm90b3R5cGUucGF0aD0iIjthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9CmEuaG9zdCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaG9zdCIpJiZiLnVpbnQzMigxMCkuc3RyaW5nKGEuaG9zdCk7bnVsbCE9YS5wcm90b2NvbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwicHJvdG9jb2wiKSYmYi51aW50MzIoMTgpLnN0cmluZyhhLnByb3RvY29sKTtudWxsIT1hLnBhdGgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInBhdGgiKSYmYi51aW50MzIoMjYpLnN0cmluZyhhLnBhdGgpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5QYWdlLkxvY2F0aW9uO2EucG9zPGM7KXt2YXIgaz1hLnVpbnQzMigpO3N3aXRjaChrPj4+Myl7Y2FzZSAxOmUuaG9zdD1hLnN0cmluZygpO2JyZWFrO2Nhc2UgMjplLnByb3RvY29sPWEuc3RyaW5nKCk7YnJlYWs7CmNhc2UgMzplLnBhdGg9YS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZrKX19cmV0dXJuIGV9O3JldHVybiBhfSgpO2EuU2Nyb2xsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt0aGlzLnNjcm9sbD1bXTtpZihhKWZvcih2YXIgYj1PYmplY3Qua2V5cyhhKSxjPTA7YzxiLmxlbmd0aDsrK2MpbnVsbCE9YVtiW2NdXSYmKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUudGFyZ2V0PTA7YS5wcm90b3R5cGUuc2Nyb2xsPWguZW1wdHlBcnJheTthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS50YXJnZXQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInRhcmdldCIpJiZiLnVpbnQzMig4KS5pbnQzMihhLnRhcmdldCk7aWYobnVsbCE9YS5zY3JvbGwmJmEuc2Nyb2xsLmxlbmd0aCl7Yi51aW50MzIoMTgpLmZvcmsoKTtmb3IodmFyIGM9MDtjPGEuc2Nyb2xsLmxlbmd0aDsrK2MpYi5pbnQzMihhLnNjcm9sbFtjXSk7CmIubGRlbGltKCl9cmV0dXJuIGJ9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIGR8fChhPWQuY3JlYXRlKGEpKTtmb3IodmFyIGM9dm9pZCAwPT09Yj9hLmxlbjphLnBvcytiLGU9bmV3IGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlBhZ2UuU2Nyb2xsO2EucG9zPGM7KXt2YXIgaz1hLnVpbnQzMigpO3N3aXRjaChrPj4+Myl7Y2FzZSAxOmUudGFyZ2V0PWEuaW50MzIoKTticmVhaztjYXNlIDI6ZS5zY3JvbGwmJmUuc2Nyb2xsLmxlbmd0aHx8KGUuc2Nyb2xsPVtdKTtpZigyPT0oNyZrKSlmb3Ioaz1hLnVpbnQzMigpK2EucG9zO2EucG9zPGs7KWUuc2Nyb2xsLnB1c2goYS5pbnQzMigpKTtlbHNlIGUuc2Nyb2xsLnB1c2goYS5pbnQzMigpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZrKX19cmV0dXJuIGV9O3JldHVybiBhfSgpO2EuTWV0YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpcy5pbml0aWFsU2Nyb2xsPVtdO2lmKGEpZm9yKHZhciBiPQpPYmplY3Qua2V5cyhhKSxjPTA7YzxiLmxlbmd0aDsrK2MpbnVsbCE9YVtiW2NdXSYmKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUuZG9jdHlwZT0iIjthLnByb3RvdHlwZS50aXRsZT0iIjthLnByb3RvdHlwZS5hZGRyZXNzPSIiO2EucHJvdG90eXBlLnVhPSIiO2EucHJvdG90eXBlLnJlZmVycmVyPSIiO2EucHJvdG90eXBlLmJhc2U9IiI7YS5wcm90b3R5cGUuaGFzQmFzZT0hMTthLnByb3RvdHlwZS5zY3JlZW49bnVsbDthLnByb3RvdHlwZS52aWV3cG9ydD1udWxsO2EucHJvdG90eXBlLmxvY2F0aW9uPW51bGw7YS5wcm90b3R5cGUuaW5pdGlhbFNjcm9sbD1oLmVtcHR5QXJyYXk7YS5jcmVhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGIpfTthLmVuY29kZT1mdW5jdGlvbihhLGIpe2J8fChiPWYuY3JlYXRlKCkpO251bGwhPWEuZG9jdHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiZG9jdHlwZSIpJiZiLnVpbnQzMigxMCkuc3RyaW5nKGEuZG9jdHlwZSk7Cm51bGwhPWEudGl0bGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInRpdGxlIikmJmIudWludDMyKDE4KS5zdHJpbmcoYS50aXRsZSk7bnVsbCE9YS5hZGRyZXNzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJhZGRyZXNzIikmJmIudWludDMyKDI2KS5zdHJpbmcoYS5hZGRyZXNzKTtudWxsIT1hLnVhJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJ1YSIpJiZiLnVpbnQzMigzNCkuc3RyaW5nKGEudWEpO251bGwhPWEucmVmZXJyZXImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInJlZmVycmVyIikmJmIudWludDMyKDQyKS5zdHJpbmcoYS5yZWZlcnJlcik7bnVsbCE9YS5iYXNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJiYXNlIikmJmIudWludDMyKDUwKS5zdHJpbmcoYS5iYXNlKTtudWxsIT1hLmhhc0Jhc2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImhhc0Jhc2UiKSYmYi51aW50MzIoNTYpLmJvb2woYS5oYXNCYXNlKTsKbnVsbCE9YS5zY3JlZW4mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInNjcmVlbiIpJiZnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5QYWdlLkJveC5lbmNvZGUoYS5zY3JlZW4sYi51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCk7bnVsbCE9YS52aWV3cG9ydCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwidmlld3BvcnQiKSYmZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uUGFnZS5Cb3guZW5jb2RlKGEudmlld3BvcnQsYi51aW50MzIoNzQpLmZvcmsoKSkubGRlbGltKCk7bnVsbCE9YS5sb2NhdGlvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwibG9jYXRpb24iKSYmZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uUGFnZS5Mb2NhdGlvbi5lbmNvZGUoYS5sb2NhdGlvbixiLnVpbnQzMig4MikuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1hLmluaXRpYWxTY3JvbGwmJmEuaW5pdGlhbFNjcm9sbC5sZW5ndGgpZm9yKHZhciBjPTA7YzwKYS5pbml0aWFsU2Nyb2xsLmxlbmd0aDsrK2MpZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uUGFnZS5TY3JvbGwuZW5jb2RlKGEuaW5pdGlhbFNjcm9sbFtjXSxiLnVpbnQzMig5MCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gYn07YS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgZHx8KGE9ZC5jcmVhdGUoYSkpO2Zvcih2YXIgYz12b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uUGFnZS5NZXRhO2EucG9zPGM7KXt2YXIgaz1hLnVpbnQzMigpO3N3aXRjaChrPj4+Myl7Y2FzZSAxOmUuZG9jdHlwZT1hLnN0cmluZygpO2JyZWFrO2Nhc2UgMjplLnRpdGxlPWEuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmUuYWRkcmVzcz1hLnN0cmluZygpO2JyZWFrO2Nhc2UgNDplLnVhPWEuc3RyaW5nKCk7YnJlYWs7Y2FzZSA1OmUucmVmZXJyZXI9YS5zdHJpbmcoKTticmVhaztjYXNlIDY6ZS5iYXNlPWEuc3RyaW5nKCk7CmJyZWFrO2Nhc2UgNzplLmhhc0Jhc2U9YS5ib29sKCk7YnJlYWs7Y2FzZSA4OmUuc2NyZWVuPWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlBhZ2UuQm94LmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgOTplLnZpZXdwb3J0PWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlBhZ2UuQm94LmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgMTA6ZS5sb2NhdGlvbj1nLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5QYWdlLkxvY2F0aW9uLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgMTE6ZS5pbml0aWFsU2Nyb2xsJiZlLmluaXRpYWxTY3JvbGwubGVuZ3RofHwoZS5pbml0aWFsU2Nyb2xsPVtdKTtlLmluaXRpYWxTY3JvbGwucHVzaChnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5QYWdlLlNjcm9sbC5kZWNvZGUoYSxhLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmayl9fXJldHVybiBlfTtyZXR1cm4gYX0oKTsKYS5Db250ZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt0aGlzLmF0dHJpYnV0ZXM9e307aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLmlkPTA7YS5wcm90b3R5cGUubmFtZT0iIjthLnByb3RvdHlwZS5hdHRyaWJ1dGVzPWguZW1wdHlPYmplY3Q7YS5wcm90b3R5cGUucGFyZW50PTA7YS5wcm90b3R5cGUuY29udGVudD0iIjthLnByb3RvdHlwZS5uZXh0PTA7YS5wcm90b3R5cGUucHJldj0wO2EucHJvdG90eXBlLmhpZGRlbj0hMTthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS5pZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaWQiKSYmYi51aW50MzIoOCkuaW50MzIoYS5pZCk7bnVsbCE9YS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLAoibmFtZSIpJiZiLnVpbnQzMigxOCkuc3RyaW5nKGEubmFtZSk7aWYobnVsbCE9YS5hdHRyaWJ1dGVzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJhdHRyaWJ1dGVzIikpZm9yKHZhciBjPU9iamVjdC5rZXlzKGEuYXR0cmlidXRlcyksZD0wO2Q8Yy5sZW5ndGg7KytkKWIudWludDMyKDI2KS5mb3JrKCkudWludDMyKDEwKS5zdHJpbmcoY1tkXSkudWludDMyKDE4KS5zdHJpbmcoYS5hdHRyaWJ1dGVzW2NbZF1dKS5sZGVsaW0oKTtudWxsIT1hLnBhcmVudCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwicGFyZW50IikmJmIudWludDMyKDMyKS5pbnQzMihhLnBhcmVudCk7bnVsbCE9YS5jb250ZW50JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJjb250ZW50IikmJmIudWludDMyKDQyKS5zdHJpbmcoYS5jb250ZW50KTtudWxsIT1hLm5leHQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm5leHQiKSYmYi51aW50MzIoNDgpLmludDMyKGEubmV4dCk7Cm51bGwhPWEucHJldiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwicHJldiIpJiZiLnVpbnQzMig1NikuaW50MzIoYS5wcmV2KTtudWxsIT1hLmhpZGRlbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaGlkZGVuIikmJmIudWludDMyKDY0KS5ib29sKGEuaGlkZGVuKTtyZXR1cm4gYn07YS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgZHx8KGE9ZC5jcmVhdGUoYSkpO2Zvcih2YXIgYyxlPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixrPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5QYWdlLkNvbnRlbnQ7YS5wb3M8ZTspc3dpdGNoKGM9YS51aW50MzIoKSxjPj4+Myl7Y2FzZSAxOmsuaWQ9YS5pbnQzMigpO2JyZWFrO2Nhc2UgMjprLm5hbWU9YS5zdHJpbmcoKTticmVhaztjYXNlIDM6YS5za2lwKCkucG9zKys7ay5hdHRyaWJ1dGVzPT09aC5lbXB0eU9iamVjdCYmKGsuYXR0cmlidXRlcz17fSk7Yz1hLnN0cmluZygpO2EucG9zKys7ay5hdHRyaWJ1dGVzW2NdPQphLnN0cmluZygpO2JyZWFrO2Nhc2UgNDprLnBhcmVudD1hLmludDMyKCk7YnJlYWs7Y2FzZSA1OmsuY29udGVudD1hLnN0cmluZygpO2JyZWFrO2Nhc2UgNjprLm5leHQ9YS5pbnQzMigpO2JyZWFrO2Nhc2UgNzprLnByZXY9YS5pbnQzMigpO2JyZWFrO2Nhc2UgODprLmhpZGRlbj1hLmJvb2woKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZjKX1yZXR1cm4ga307cmV0dXJuIGF9KCk7cmV0dXJuIGF9KCk7YS5NdXRhdGlvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLnRhcmdldD0wO2EucHJvdG90eXBlLnN0YW1wPTA7YS5wcm90b3R5cGUubWV0YT1udWxsO2EucHJvdG90eXBlLmZyYW1lSWQ9MDthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8CihiPWYuY3JlYXRlKCkpO251bGwhPWEudGFyZ2V0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJ0YXJnZXQiKSYmYi51aW50MzIoOCkuaW50MzIoYS50YXJnZXQpO251bGwhPWEuc3RhbXAmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInN0YW1wIikmJmIudWludDMyKDE2KS5pbnQzMihhLnN0YW1wKTtudWxsIT1hLm1ldGEmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm1ldGEiKSYmZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uTXV0YXRpb24uTWV0YS5lbmNvZGUoYS5tZXRhLGIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO251bGwhPWEuZnJhbWVJZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiZnJhbWVJZCIpJiZiLnVpbnQzMigzMikuc2ludDMyKGEuZnJhbWVJZCk7cmV0dXJuIGJ9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIGR8fChhPWQuY3JlYXRlKGEpKTtmb3IodmFyIGM9dm9pZCAwPT09Yj9hLmxlbjoKYS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5NdXRhdGlvbjthLnBvczxjOyl7dmFyIGs9YS51aW50MzIoKTtzd2l0Y2goaz4+PjMpe2Nhc2UgMTplLnRhcmdldD1hLmludDMyKCk7YnJlYWs7Y2FzZSAyOmUuc3RhbXA9YS5pbnQzMigpO2JyZWFrO2Nhc2UgMzplLm1ldGE9Zy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uTXV0YXRpb24uTWV0YS5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztjYXNlIDQ6ZS5mcmFtZUlkPWEuc2ludDMyKCk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmayl9fXJldHVybiBlfTthLkRlbGV0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLmlkPTA7YS5wcm90b3R5cGUucHI9MDthLnByb3RvdHlwZS5ueD0wO2EucHJvdG90eXBlLnBhPTA7YS5wcm90b3R5cGUuaT0KMDthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS5pZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaWQiKSYmYi51aW50MzIoOCkuaW50MzIoYS5pZCk7bnVsbCE9YS5wciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwicHIiKSYmYi51aW50MzIoMTYpLmludDMyKGEucHIpO251bGwhPWEubngmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm54IikmJmIudWludDMyKDI0KS5pbnQzMihhLm54KTtudWxsIT1hLnBhJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJwYSIpJiZiLnVpbnQzMigzMikuaW50MzIoYS5wYSk7bnVsbCE9YS5pJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJpIikmJmIudWludDMyKDQwKS5pbnQzMihhLmkpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7CmZvcih2YXIgYz12b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uTXV0YXRpb24uRGVsZXRlO2EucG9zPGM7KXt2YXIgaz1hLnVpbnQzMigpO3N3aXRjaChrPj4+Myl7Y2FzZSAxOmUuaWQ9YS5pbnQzMigpO2JyZWFrO2Nhc2UgMjplLnByPWEuaW50MzIoKTticmVhaztjYXNlIDM6ZS5ueD1hLmludDMyKCk7YnJlYWs7Y2FzZSA0OmUucGE9YS5pbnQzMigpO2JyZWFrO2Nhc2UgNTplLmk9YS5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmspfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7YS5BZGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3RoaXMuYXQ9e307aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLmlkPTA7YS5wcm90b3R5cGUubm09IiI7YS5wcm90b3R5cGUucGE9MDthLnByb3RvdHlwZS5ucz0KIiI7YS5wcm90b3R5cGUucHI9MDthLnByb3RvdHlwZS5hdD1oLmVtcHR5T2JqZWN0O2EucHJvdG90eXBlLmN0PSIiO2EucHJvdG90eXBlLm54PTA7YS5wcm90b3R5cGUuaT0wO2EucHJvdG90eXBlLmg9ITE7YS5jcmVhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGIpfTthLmVuY29kZT1mdW5jdGlvbihhLGIpe2J8fChiPWYuY3JlYXRlKCkpO251bGwhPWEuaWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImlkIikmJmIudWludDMyKDgpLmludDMyKGEuaWQpO251bGwhPWEubm0mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm5tIikmJmIudWludDMyKDE4KS5zdHJpbmcoYS5ubSk7bnVsbCE9YS5wYSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwicGEiKSYmYi51aW50MzIoMjQpLmludDMyKGEucGEpO251bGwhPWEubnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm5zIikmJmIudWludDMyKDM0KS5zdHJpbmcoYS5ucyk7bnVsbCE9YS5wciYmCk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInByIikmJmIudWludDMyKDQwKS5pbnQzMihhLnByKTtpZihudWxsIT1hLmF0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJhdCIpKWZvcih2YXIgYz1PYmplY3Qua2V5cyhhLmF0KSxkPTA7ZDxjLmxlbmd0aDsrK2QpYi51aW50MzIoNTApLmZvcmsoKS51aW50MzIoMTApLnN0cmluZyhjW2RdKS51aW50MzIoMTgpLnN0cmluZyhhLmF0W2NbZF1dKS5sZGVsaW0oKTtudWxsIT1hLmN0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJjdCIpJiZiLnVpbnQzMig1OCkuc3RyaW5nKGEuY3QpO251bGwhPWEubngmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm54IikmJmIudWludDMyKDY0KS5pbnQzMihhLm54KTtudWxsIT1hLmkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImkiKSYmYi51aW50MzIoNzIpLmludDMyKGEuaSk7bnVsbCE9YS5oJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJoIikmJgpiLnVpbnQzMig4MCkuYm9vbChhLmgpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjLGU9dm9pZCAwPT09Yj9hLmxlbjphLnBvcytiLGs9bmV3IGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLk11dGF0aW9uLkFkZDthLnBvczxlOylzd2l0Y2goYz1hLnVpbnQzMigpLGM+Pj4zKXtjYXNlIDE6ay5pZD1hLmludDMyKCk7YnJlYWs7Y2FzZSAyOmsubm09YS5zdHJpbmcoKTticmVhaztjYXNlIDM6ay5wYT1hLmludDMyKCk7YnJlYWs7Y2FzZSA0OmsubnM9YS5zdHJpbmcoKTticmVhaztjYXNlIDU6ay5wcj1hLmludDMyKCk7YnJlYWs7Y2FzZSA2OmEuc2tpcCgpLnBvcysrO2suYXQ9PT1oLmVtcHR5T2JqZWN0JiYoay5hdD17fSk7Yz1hLnN0cmluZygpO2EucG9zKys7ay5hdFtjXT1hLnN0cmluZygpO2JyZWFrO2Nhc2UgNzprLmN0PWEuc3RyaW5nKCk7YnJlYWs7Y2FzZSA4Omsubng9YS5pbnQzMigpOwpicmVhaztjYXNlIDk6ay5pPWEuaW50MzIoKTticmVhaztjYXNlIDEwOmsuaD1hLmJvb2woKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZjKX1yZXR1cm4ga307cmV0dXJuIGF9KCk7YS5CZWZvcmVBZnRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLm89IiI7YS5wcm90b3R5cGUubj0iIjthLnByb3RvdHlwZS5yPSExO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07YS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTtudWxsIT1hLm8mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm8iKSYmYi51aW50MzIoMTApLnN0cmluZyhhLm8pO251bGwhPWEubiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwibiIpJiZiLnVpbnQzMigxOCkuc3RyaW5nKGEubik7Cm51bGwhPWEuciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiciIpJiZiLnVpbnQzMigyNCkuYm9vbChhLnIpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5NdXRhdGlvbi5CZWZvcmVBZnRlcjthLnBvczxjOyl7dmFyIGs9YS51aW50MzIoKTtzd2l0Y2goaz4+PjMpe2Nhc2UgMTplLm89YS5zdHJpbmcoKTticmVhaztjYXNlIDI6ZS5uPWEuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmUucj1hLmJvb2woKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZrKX19cmV0dXJuIGV9O3JldHVybiBhfSgpO2EuQXR0cmlidXRlQ2hhbmdlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt0aGlzLmF0PXt9O2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT0KYVtiW2NdXSYmKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUuaWQ9MDthLnByb3RvdHlwZS5hdD1oLmVtcHR5T2JqZWN0O2EucHJvdG90eXBlLmk9MDthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS5pZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaWQiKSYmYi51aW50MzIoOCkuaW50MzIoYS5pZCk7aWYobnVsbCE9YS5hdCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiYXQiKSlmb3IodmFyIGM9T2JqZWN0LmtleXMoYS5hdCksZD0wO2Q8Yy5sZW5ndGg7KytkKWIudWludDMyKDE4KS5mb3JrKCkudWludDMyKDEwKS5zdHJpbmcoY1tkXSksZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uTXV0YXRpb24uQmVmb3JlQWZ0ZXIuZW5jb2RlKGEuYXRbY1tkXV0sYi51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCkubGRlbGltKCk7bnVsbCE9YS5pJiYKT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaSIpJiZiLnVpbnQzMigyNCkuaW50MzIoYS5pKTtyZXR1cm4gYn07YS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgZHx8KGE9ZC5jcmVhdGUoYSkpO2Zvcih2YXIgYyxlPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixrPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5NdXRhdGlvbi5BdHRyaWJ1dGVDaGFuZ2U7YS5wb3M8ZTspc3dpdGNoKGM9YS51aW50MzIoKSxjPj4+Myl7Y2FzZSAxOmsuaWQ9YS5pbnQzMigpO2JyZWFrO2Nhc2UgMjphLnNraXAoKS5wb3MrKztrLmF0PT09aC5lbXB0eU9iamVjdCYmKGsuYXQ9e30pO2M9YS5zdHJpbmcoKTthLnBvcysrO2suYXRbY109Zy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uTXV0YXRpb24uQmVmb3JlQWZ0ZXIuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7Y2FzZSAzOmsuaT1hLmludDMyKCk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmYyl9cmV0dXJuIGt9OwpyZXR1cm4gYX0oKTthLlRleHRDaGFuZ2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYodGhpc1tiW2NdXT1hW2JbY11dKX1hLnByb3RvdHlwZS5pZD0wO2EucHJvdG90eXBlLmN0PW51bGw7YS5wcm90b3R5cGUuaT0wO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07YS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTtudWxsIT1hLmlkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJpZCIpJiZiLnVpbnQzMig4KS5pbnQzMihhLmlkKTtudWxsIT1hLmN0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJjdCIpJiZnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5NdXRhdGlvbi5CZWZvcmVBZnRlci5lbmNvZGUoYS5jdCxiLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtudWxsIT1hLmkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsCiJpIikmJmIudWludDMyKDI0KS5pbnQzMihhLmkpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5NdXRhdGlvbi5UZXh0Q2hhbmdlO2EucG9zPGM7KXt2YXIgaz1hLnVpbnQzMigpO3N3aXRjaChrPj4+Myl7Y2FzZSAxOmUuaWQ9YS5pbnQzMigpO2JyZWFrO2Nhc2UgMjplLmN0PWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLk11dGF0aW9uLkJlZm9yZUFmdGVyLmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgMzplLmk9YS5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmspfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7YS5DaGFuZ2VzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt0aGlzLmE9W107dGhpcy5iPVtdO3RoaXMuYz1bXTt0aGlzLmQ9W107aWYoYSlmb3IodmFyIGI9Ck9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYodGhpc1tiW2NdXT1hW2JbY11dKX1hLnByb3RvdHlwZS5hPWguZW1wdHlBcnJheTthLnByb3RvdHlwZS5iPWguZW1wdHlBcnJheTthLnByb3RvdHlwZS5jPWguZW1wdHlBcnJheTthLnByb3RvdHlwZS5kPWguZW1wdHlBcnJheTthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7aWYobnVsbCE9YS5hJiZhLmEubGVuZ3RoKWZvcih2YXIgYz0wO2M8YS5hLmxlbmd0aDsrK2MpZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uTXV0YXRpb24uRGVsZXRlLmVuY29kZShhLmFbY10sYi51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9YS5iJiZhLmIubGVuZ3RoKWZvcihjPTA7YzxhLmIubGVuZ3RoOysrYylnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5NdXRhdGlvbi5BZGQuZW5jb2RlKGEuYltjXSwKYi51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9YS5jJiZhLmMubGVuZ3RoKWZvcihjPTA7YzxhLmMubGVuZ3RoOysrYylnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5NdXRhdGlvbi5BdHRyaWJ1dGVDaGFuZ2UuZW5jb2RlKGEuY1tjXSxiLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1hLmQmJmEuZC5sZW5ndGgpZm9yKGM9MDtjPGEuZC5sZW5ndGg7KytjKWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLk11dGF0aW9uLlRleHRDaGFuZ2UuZW5jb2RlKGEuZFtjXSxiLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gYn07YS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgZHx8KGE9ZC5jcmVhdGUoYSkpO2Zvcih2YXIgYz12b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uTXV0YXRpb24uQ2hhbmdlczthLnBvczxjOyl7dmFyIGs9YS51aW50MzIoKTsKc3dpdGNoKGs+Pj4zKXtjYXNlIDE6ZS5hJiZlLmEubGVuZ3RofHwoZS5hPVtdKTtlLmEucHVzaChnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5NdXRhdGlvbi5EZWxldGUuZGVjb2RlKGEsYS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjplLmImJmUuYi5sZW5ndGh8fChlLmI9W10pO2UuYi5wdXNoKGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLk11dGF0aW9uLkFkZC5kZWNvZGUoYSxhLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAzOmUuYyYmZS5jLmxlbmd0aHx8KGUuYz1bXSk7ZS5jLnB1c2goZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uTXV0YXRpb24uQXR0cmlidXRlQ2hhbmdlLmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztjYXNlIDQ6ZS5kJiZlLmQubGVuZ3RofHwoZS5kPVtdKTtlLmQucHVzaChnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5NdXRhdGlvbi5UZXh0Q2hhbmdlLmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyYKayl9fXJldHVybiBlfTtyZXR1cm4gYX0oKTthLk1ldGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3RoaXMuY2hhbmdlcz1bXTtpZihhKWZvcih2YXIgYj1PYmplY3Qua2V5cyhhKSxjPTA7YzxiLmxlbmd0aDsrK2MpbnVsbCE9YVtiW2NdXSYmKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUuaW5kZXg9MDthLnByb3RvdHlwZS5jaGFuZ2VzPWguZW1wdHlBcnJheTthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS5pbmRleCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaW5kZXgiKSYmYi51aW50MzIoOCkuaW50MzIoYS5pbmRleCk7aWYobnVsbCE9YS5jaGFuZ2VzJiZhLmNoYW5nZXMubGVuZ3RoKWZvcih2YXIgYz0wO2M8YS5jaGFuZ2VzLmxlbmd0aDsrK2MpZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uTXV0YXRpb24uQ2hhbmdlcy5lbmNvZGUoYS5jaGFuZ2VzW2NdLApiLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gYn07YS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgZHx8KGE9ZC5jcmVhdGUoYSkpO2Zvcih2YXIgYz12b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uTXV0YXRpb24uTWV0YTthLnBvczxjOyl7dmFyIGs9YS51aW50MzIoKTtzd2l0Y2goaz4+PjMpe2Nhc2UgMTplLmluZGV4PWEuaW50MzIoKTticmVhaztjYXNlIDI6ZS5jaGFuZ2VzJiZlLmNoYW5nZXMubGVuZ3RofHwoZS5jaGFuZ2VzPVtdKTtlLmNoYW5nZXMucHVzaChnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5NdXRhdGlvbi5DaGFuZ2VzLmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZrKX19cmV0dXJuIGV9O3JldHVybiBhfSgpO3JldHVybiBhfSgpO2EuRXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLApjPTA7YzxiLmxlbmd0aDsrK2MpbnVsbCE9YVtiW2NdXSYmKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUudHlwZT0wO2EucHJvdG90eXBlLnRhcmdldD0wO2EucHJvdG90eXBlLmZyYW1lSWQ9MDthLnByb3RvdHlwZS5tb3VzZUV2ZW50PW51bGw7YS5wcm90b3R5cGUuc2Nyb2xsRXZlbnQ9bnVsbDthLnByb3RvdHlwZS53aW5kb3dFdmVudD1udWxsO2EucHJvdG90eXBlLnNlbGVjdGlvbkV2ZW50PW51bGw7YS5wcm90b3R5cGUuY2hhbmdlRXZlbnQ9bnVsbDthLnByb3RvdHlwZS50b3VjaEV2ZW50PW51bGw7YS5wcm90b3R5cGUubWV0aG9kRXZlbnQ9bnVsbDthLnByb3RvdHlwZS5wcm9wZXJ0eUV2ZW50PW51bGw7YS5wcm90b3R5cGUuem9vbUV2ZW50PW51bGw7YS5wcm90b3R5cGUucmVzaXplRXZlbnQ9bnVsbDthLnByb3RvdHlwZS5rZXlzdHJva2VzRXZlbnQ9bnVsbDthLnByb3RvdHlwZS5kZXZpY2VSb3RhdGlvbkV2ZW50PW51bGw7YS5wcm90b3R5cGUuZmF0YWxFcnJvckV2ZW50PQpudWxsO2EucHJvdG90eXBlLmhhc2hjaGFuZ2VFdmVudD1udWxsO3ZhciBiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSwibWV0YSIse2dldDpoLm9uZU9mR2V0dGVyKGI9Im1vdXNlRXZlbnQgc2Nyb2xsRXZlbnQgd2luZG93RXZlbnQgc2VsZWN0aW9uRXZlbnQgY2hhbmdlRXZlbnQgdG91Y2hFdmVudCBtZXRob2RFdmVudCBwcm9wZXJ0eUV2ZW50IHpvb21FdmVudCByZXNpemVFdmVudCBrZXlzdHJva2VzRXZlbnQgZGV2aWNlUm90YXRpb25FdmVudCBmYXRhbEVycm9yRXZlbnQgaGFzaGNoYW5nZUV2ZW50Ii5zcGxpdCgiICIpKSxzZXQ6aC5vbmVPZlNldHRlcihiKX0pO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07YS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTtudWxsIT1hLnR5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInR5cGUiKSYmYi51aW50MzIoOCkuaW50MzIoYS50eXBlKTtudWxsIT1hLnRhcmdldCYmCk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInRhcmdldCIpJiZiLnVpbnQzMigxNikuc2ludDMyKGEudGFyZ2V0KTtudWxsIT1hLmZyYW1lSWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImZyYW1lSWQiKSYmYi51aW50MzIoMjQpLnNpbnQzMihhLmZyYW1lSWQpO251bGwhPWEubW91c2VFdmVudCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwibW91c2VFdmVudCIpJiZnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5Nb3VzZUV2ZW50LmVuY29kZShhLm1vdXNlRXZlbnQsYi51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7bnVsbCE9YS5zY3JvbGxFdmVudCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwic2Nyb2xsRXZlbnQiKSYmZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uU2Nyb2xsRXZlbnQuZW5jb2RlKGEuc2Nyb2xsRXZlbnQsYi51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7bnVsbCE9YS53aW5kb3dFdmVudCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwKIndpbmRvd0V2ZW50IikmJmcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLldpbmRvd0V2ZW50LmVuY29kZShhLndpbmRvd0V2ZW50LGIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO251bGwhPWEuc2VsZWN0aW9uRXZlbnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInNlbGVjdGlvbkV2ZW50IikmJmcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlNlbGVjdGlvbkV2ZW50LmVuY29kZShhLnNlbGVjdGlvbkV2ZW50LGIudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO251bGwhPWEuY2hhbmdlRXZlbnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImNoYW5nZUV2ZW50IikmJmcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLkNoYW5nZUV2ZW50LmVuY29kZShhLmNoYW5nZUV2ZW50LGIudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpO251bGwhPWEudG91Y2hFdmVudCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwidG91Y2hFdmVudCIpJiYKZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uVG91Y2hFdmVudC5lbmNvZGUoYS50b3VjaEV2ZW50LGIudWludDMyKDc0KS5mb3JrKCkpLmxkZWxpbSgpO251bGwhPWEubWV0aG9kRXZlbnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm1ldGhvZEV2ZW50IikmJmcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLk1ldGhvZEV2ZW50LmVuY29kZShhLm1ldGhvZEV2ZW50LGIudWludDMyKDgyKS5mb3JrKCkpLmxkZWxpbSgpO251bGwhPWEucHJvcGVydHlFdmVudCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwicHJvcGVydHlFdmVudCIpJiZnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5Qcm9wZXJ0eUV2ZW50LmVuY29kZShhLnByb3BlcnR5RXZlbnQsYi51aW50MzIoOTApLmZvcmsoKSkubGRlbGltKCk7bnVsbCE9YS56b29tRXZlbnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInpvb21FdmVudCIpJiZnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5ab29tRXZlbnQuZW5jb2RlKGEuem9vbUV2ZW50LApiLnVpbnQzMig5OCkuZm9yaygpKS5sZGVsaW0oKTtudWxsIT1hLnJlc2l6ZUV2ZW50JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJyZXNpemVFdmVudCIpJiZnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5SZXNpemVFdmVudC5lbmNvZGUoYS5yZXNpemVFdmVudCxiLnVpbnQzMigxMDYpLmZvcmsoKSkubGRlbGltKCk7bnVsbCE9YS5rZXlzdHJva2VzRXZlbnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImtleXN0cm9rZXNFdmVudCIpJiZnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5LZXlzdHJva2VzRXZlbnQuZW5jb2RlKGEua2V5c3Ryb2tlc0V2ZW50LGIudWludDMyKDExNCkuZm9yaygpKS5sZGVsaW0oKTtudWxsIT1hLmRldmljZVJvdGF0aW9uRXZlbnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImRldmljZVJvdGF0aW9uRXZlbnQiKSYmZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uRGV2aWNlUm90YXRpb25FdmVudC5lbmNvZGUoYS5kZXZpY2VSb3RhdGlvbkV2ZW50LApiLnVpbnQzMigxMjIpLmZvcmsoKSkubGRlbGltKCk7bnVsbCE9YS5mYXRhbEVycm9yRXZlbnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImZhdGFsRXJyb3JFdmVudCIpJiZnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5GYXRhbEVycm9yRXZlbnQuZW5jb2RlKGEuZmF0YWxFcnJvckV2ZW50LGIudWludDMyKDEzMCkuZm9yaygpKS5sZGVsaW0oKTtudWxsIT1hLmhhc2hjaGFuZ2VFdmVudCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaGFzaGNoYW5nZUV2ZW50IikmJmcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLkhhc2hjaGFuZ2VFdmVudC5lbmNvZGUoYS5oYXNoY2hhbmdlRXZlbnQsYi51aW50MzIoMTM4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5FdmVudDthLnBvczwKYzspe3ZhciBrPWEudWludDMyKCk7c3dpdGNoKGs+Pj4zKXtjYXNlIDE6ZS50eXBlPWEuaW50MzIoKTticmVhaztjYXNlIDI6ZS50YXJnZXQ9YS5zaW50MzIoKTticmVhaztjYXNlIDM6ZS5mcmFtZUlkPWEuc2ludDMyKCk7YnJlYWs7Y2FzZSA0OmUubW91c2VFdmVudD1nLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5Nb3VzZUV2ZW50LmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgNTplLnNjcm9sbEV2ZW50PWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlNjcm9sbEV2ZW50LmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgNjplLndpbmRvd0V2ZW50PWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLldpbmRvd0V2ZW50LmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgNzplLnNlbGVjdGlvbkV2ZW50PWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlNlbGVjdGlvbkV2ZW50LmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgODplLmNoYW5nZUV2ZW50PQpnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5DaGFuZ2VFdmVudC5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztjYXNlIDk6ZS50b3VjaEV2ZW50PWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlRvdWNoRXZlbnQuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMDplLm1ldGhvZEV2ZW50PWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLk1ldGhvZEV2ZW50LmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgMTE6ZS5wcm9wZXJ0eUV2ZW50PWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlByb3BlcnR5RXZlbnQuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMjplLnpvb21FdmVudD1nLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5ab29tRXZlbnQuZGVjb2RlKGEsYS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMzplLnJlc2l6ZUV2ZW50PWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlJlc2l6ZUV2ZW50LmRlY29kZShhLAphLnVpbnQzMigpKTticmVhaztjYXNlIDE0OmUua2V5c3Ryb2tlc0V2ZW50PWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLktleXN0cm9rZXNFdmVudC5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztjYXNlIDE1OmUuZGV2aWNlUm90YXRpb25FdmVudD1nLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5EZXZpY2VSb3RhdGlvbkV2ZW50LmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgMTY6ZS5mYXRhbEVycm9yRXZlbnQ9Zy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uRmF0YWxFcnJvckV2ZW50LmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2Nhc2UgMTc6ZS5oYXNoY2hhbmdlRXZlbnQ9Zy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uSGFzaGNoYW5nZUV2ZW50LmRlY29kZShhLGEudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmspfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7YS5Nb3VzZUV2ZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtpZihhKWZvcih2YXIgYj0KT2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLng9MDthLnByb3RvdHlwZS55PTA7YS5jcmVhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGIpfTthLmVuY29kZT1mdW5jdGlvbihhLGIpe2J8fChiPWYuY3JlYXRlKCkpO251bGwhPWEueCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwieCIpJiZiLnVpbnQzMig4KS5pbnQzMihhLngpO251bGwhPWEueSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwieSIpJiZiLnVpbnQzMigxNikuaW50MzIoYS55KTtyZXR1cm4gYn07YS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgZHx8KGE9ZC5jcmVhdGUoYSkpO2Zvcih2YXIgYz12b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uTW91c2VFdmVudDthLnBvczxjOyl7dmFyIGs9YS51aW50MzIoKTtzd2l0Y2goaz4+PgozKXtjYXNlIDE6ZS54PWEuaW50MzIoKTticmVhaztjYXNlIDI6ZS55PWEuaW50MzIoKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZrKX19cmV0dXJuIGV9O3JldHVybiBhfSgpO2EuU2Nyb2xsRXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYodGhpc1tiW2NdXT1hW2JbY11dKX1hLnByb3RvdHlwZS54PTA7YS5wcm90b3R5cGUueT0wO2EucHJvdG90eXBlLnBhZ2U9ITE7YS5jcmVhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGIpfTthLmVuY29kZT1mdW5jdGlvbihhLGIpe2J8fChiPWYuY3JlYXRlKCkpO251bGwhPWEueCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwieCIpJiZiLnVpbnQzMig4KS5pbnQzMihhLngpO251bGwhPWEueSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwieSIpJiZiLnVpbnQzMigxNikuaW50MzIoYS55KTtudWxsIT0KYS5wYWdlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJwYWdlIikmJmIudWludDMyKDI0KS5ib29sKGEucGFnZSk7cmV0dXJuIGJ9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIGR8fChhPWQuY3JlYXRlKGEpKTtmb3IodmFyIGM9dm9pZCAwPT09Yj9hLmxlbjphLnBvcytiLGU9bmV3IGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlNjcm9sbEV2ZW50O2EucG9zPGM7KXt2YXIgaz1hLnVpbnQzMigpO3N3aXRjaChrPj4+Myl7Y2FzZSAxOmUueD1hLmludDMyKCk7YnJlYWs7Y2FzZSAyOmUueT1hLmludDMyKCk7YnJlYWs7Y2FzZSAzOmUucGFnZT1hLmJvb2woKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZrKX19cmV0dXJuIGV9O3JldHVybiBhfSgpO2EuV2luZG93RXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYodGhpc1tiW2NdXT0KYVtiW2NdXSl9YS5jcmVhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGIpfTthLmVuY29kZT1mdW5jdGlvbihhLGIpe2J8fChiPWYuY3JlYXRlKCkpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5XaW5kb3dFdmVudDthLnBvczxjOyl7dmFyIGs9YS51aW50MzIoKTthLnNraXBUeXBlKDcmayl9cmV0dXJuIGV9O3JldHVybiBhfSgpO2EuU2VsZWN0aW9uRXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYodGhpc1tiW2NdXT1hW2JbY11dKX1hLnByb3RvdHlwZS5zdGFydD0wO2EucHJvdG90eXBlLmVuZD0wO2EucHJvdG90eXBlLnN0YXJ0Tm9kZT0wO2EucHJvdG90eXBlLmVuZE5vZGU9CjA7YS5jcmVhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGIpfTthLmVuY29kZT1mdW5jdGlvbihhLGIpe2J8fChiPWYuY3JlYXRlKCkpO251bGwhPWEuc3RhcnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInN0YXJ0IikmJmIudWludDMyKDgpLmludDMyKGEuc3RhcnQpO251bGwhPWEuZW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJlbmQiKSYmYi51aW50MzIoMTYpLmludDMyKGEuZW5kKTtudWxsIT1hLnN0YXJ0Tm9kZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwic3RhcnROb2RlIikmJmIudWludDMyKDI0KS5pbnQzMihhLnN0YXJ0Tm9kZSk7bnVsbCE9YS5lbmROb2RlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJlbmROb2RlIikmJmIudWludDMyKDMyKS5pbnQzMihhLmVuZE5vZGUpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPXZvaWQgMD09PQpiP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uU2VsZWN0aW9uRXZlbnQ7YS5wb3M8Yzspe3ZhciBrPWEudWludDMyKCk7c3dpdGNoKGs+Pj4zKXtjYXNlIDE6ZS5zdGFydD1hLmludDMyKCk7YnJlYWs7Y2FzZSAyOmUuZW5kPWEuaW50MzIoKTticmVhaztjYXNlIDM6ZS5zdGFydE5vZGU9YS5pbnQzMigpO2JyZWFrO2Nhc2UgNDplLmVuZE5vZGU9YS5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmspfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7YS5DaGFuZ2VFdmVudD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLnZhbHVlPSIiO2EucHJvdG90eXBlLmNoZWNrZWQ9ITE7YS5wcm90b3R5cGUuaGlkZGVuPSExO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07CmEuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS52YWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwidmFsdWUiKSYmYi51aW50MzIoMTApLnN0cmluZyhhLnZhbHVlKTtudWxsIT1hLmNoZWNrZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImNoZWNrZWQiKSYmYi51aW50MzIoMTYpLmJvb2woYS5jaGVja2VkKTtudWxsIT1hLmhpZGRlbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaGlkZGVuIikmJmIudWludDMyKDI0KS5ib29sKGEuaGlkZGVuKTtyZXR1cm4gYn07YS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgZHx8KGE9ZC5jcmVhdGUoYSkpO2Zvcih2YXIgYz12b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uQ2hhbmdlRXZlbnQ7YS5wb3M8Yzspe3ZhciBrPWEudWludDMyKCk7c3dpdGNoKGs+Pj4zKXtjYXNlIDE6ZS52YWx1ZT1hLnN0cmluZygpOwpicmVhaztjYXNlIDI6ZS5jaGVja2VkPWEuYm9vbCgpO2JyZWFrO2Nhc2UgMzplLmhpZGRlbj1hLmJvb2woKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZrKX19cmV0dXJuIGV9O3JldHVybiBhfSgpO2EuVG91Y2hFdmVudD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpcy50b3VjaGVzPVtdO2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYodGhpc1tiW2NdXT1hW2JbY11dKX1hLnByb3RvdHlwZS50b3VjaGVzPWguZW1wdHlBcnJheTthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7aWYobnVsbCE9YS50b3VjaGVzJiZhLnRvdWNoZXMubGVuZ3RoKWZvcih2YXIgYz0wO2M8YS50b3VjaGVzLmxlbmd0aDsrK2MpZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uVG91Y2hFdmVudC5TdWJNZXRhLmVuY29kZShhLnRvdWNoZXNbY10sCmIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5Ub3VjaEV2ZW50O2EucG9zPGM7KXt2YXIgaz1hLnVpbnQzMigpO3N3aXRjaChrPj4+Myl7Y2FzZSAxOmUudG91Y2hlcyYmZS50b3VjaGVzLmxlbmd0aHx8KGUudG91Y2hlcz1bXSk7ZS50b3VjaGVzLnB1c2goZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uVG91Y2hFdmVudC5TdWJNZXRhLmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZrKX19cmV0dXJuIGV9O2EuU3ViTWV0YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPQphW2JbY11dKX1hLnByb3RvdHlwZS5pZD0iIjthLnByb3RvdHlwZS54PTA7YS5wcm90b3R5cGUueT0wO2EucHJvdG90eXBlLmZvcmNlPTA7YS5jcmVhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGIpfTthLmVuY29kZT1mdW5jdGlvbihhLGIpe2J8fChiPWYuY3JlYXRlKCkpO251bGwhPWEuaWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImlkIikmJmIudWludDMyKDEwKS5zdHJpbmcoYS5pZCk7bnVsbCE9YS54JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJ4IikmJmIudWludDMyKDIxKVsiZmxvYXQiXShhLngpO251bGwhPWEueSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwieSIpJiZiLnVpbnQzMigyOSlbImZsb2F0Il0oYS55KTtudWxsIT1hLmZvcmNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJmb3JjZSIpJiZiLnVpbnQzMigzNylbImZsb2F0Il0oYS5mb3JjZSk7cmV0dXJuIGJ9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mCmR8fChhPWQuY3JlYXRlKGEpKTtmb3IodmFyIGM9dm9pZCAwPT09Yj9hLmxlbjphLnBvcytiLGU9bmV3IGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlRvdWNoRXZlbnQuU3ViTWV0YTthLnBvczxjOyl7dmFyIGs9YS51aW50MzIoKTtzd2l0Y2goaz4+PjMpe2Nhc2UgMTplLmlkPWEuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOmUueD1hWyJmbG9hdCJdKCk7YnJlYWs7Y2FzZSAzOmUueT1hWyJmbG9hdCJdKCk7YnJlYWs7Y2FzZSA0OmUuZm9yY2U9YVsiZmxvYXQiXSgpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmspfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7cmV0dXJuIGF9KCk7YS5ab29tRXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYodGhpc1tiW2NdXT1hW2JbY11dKX1hLnByb3RvdHlwZS56b29tRnJvbT1udWxsO2EucHJvdG90eXBlLnpvb21Ubz1udWxsOwphLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS56b29tRnJvbSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiem9vbUZyb20iKSYmZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uWm9vbUV2ZW50Llpvb21Qb2ludC5lbmNvZGUoYS56b29tRnJvbSxiLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtudWxsIT1hLnpvb21UbyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiem9vbVRvIikmJmcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlpvb21FdmVudC5ab29tUG9pbnQuZW5jb2RlKGEuem9vbVRvLGIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5ab29tRXZlbnQ7YS5wb3M8CmM7KXt2YXIgaz1hLnVpbnQzMigpO3N3aXRjaChrPj4+Myl7Y2FzZSAxOmUuem9vbUZyb209Zy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uWm9vbUV2ZW50Llpvb21Qb2ludC5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztjYXNlIDI6ZS56b29tVG89Zy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uWm9vbUV2ZW50Llpvb21Qb2ludC5kZWNvZGUoYSxhLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZrKX19cmV0dXJuIGV9O2EuWm9vbVBvaW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtpZihhKWZvcih2YXIgYj1PYmplY3Qua2V5cyhhKSxjPTA7YzxiLmxlbmd0aDsrK2MpbnVsbCE9YVtiW2NdXSYmKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUubGV2ZWw9MDthLnByb3RvdHlwZS54PTA7YS5wcm90b3R5cGUueT0wO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07YS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTsKbnVsbCE9YS5sZXZlbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwibGV2ZWwiKSYmYi51aW50MzIoMTMpWyJmbG9hdCJdKGEubGV2ZWwpO251bGwhPWEueCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwieCIpJiZiLnVpbnQzMigxNikuaW50MzIoYS54KTtudWxsIT1hLnkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInkiKSYmYi51aW50MzIoMjQpLmludDMyKGEueSk7cmV0dXJuIGJ9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIGR8fChhPWQuY3JlYXRlKGEpKTtmb3IodmFyIGM9dm9pZCAwPT09Yj9hLmxlbjphLnBvcytiLGU9bmV3IGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlpvb21FdmVudC5ab29tUG9pbnQ7YS5wb3M8Yzspe3ZhciBrPWEudWludDMyKCk7c3dpdGNoKGs+Pj4zKXtjYXNlIDE6ZS5sZXZlbD1hWyJmbG9hdCJdKCk7YnJlYWs7Y2FzZSAyOmUueD1hLmludDMyKCk7YnJlYWs7Y2FzZSAzOmUueT1hLmludDMyKCk7CmJyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmspfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7cmV0dXJuIGF9KCk7YS5SZXNpemVFdmVudD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLndpZHRoPTA7YS5wcm90b3R5cGUuaGVpZ2h0PTA7YS5wcm90b3R5cGUucGFnZVdpZHRoPTA7YS5wcm90b3R5cGUucGFnZUhlaWdodD0wO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07YS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTtudWxsIT1hLndpZHRoJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJ3aWR0aCIpJiZiLnVpbnQzMig4KS5pbnQzMihhLndpZHRoKTtudWxsIT1hLmhlaWdodCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaGVpZ2h0IikmJmIudWludDMyKDE2KS5pbnQzMihhLmhlaWdodCk7Cm51bGwhPWEucGFnZVdpZHRoJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJwYWdlV2lkdGgiKSYmYi51aW50MzIoMjQpLmludDMyKGEucGFnZVdpZHRoKTtudWxsIT1hLnBhZ2VIZWlnaHQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInBhZ2VIZWlnaHQiKSYmYi51aW50MzIoMzIpLmludDMyKGEucGFnZUhlaWdodCk7cmV0dXJuIGJ9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIGR8fChhPWQuY3JlYXRlKGEpKTtmb3IodmFyIGM9dm9pZCAwPT09Yj9hLmxlbjphLnBvcytiLGU9bmV3IGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlJlc2l6ZUV2ZW50O2EucG9zPGM7KXt2YXIgZj1hLnVpbnQzMigpO3N3aXRjaChmPj4+Myl7Y2FzZSAxOmUud2lkdGg9YS5pbnQzMigpO2JyZWFrO2Nhc2UgMjplLmhlaWdodD1hLmludDMyKCk7YnJlYWs7Y2FzZSAzOmUucGFnZVdpZHRoPWEuaW50MzIoKTticmVhaztjYXNlIDQ6ZS5wYWdlSGVpZ2h0PWEuaW50MzIoKTsKYnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmZil9fXJldHVybiBlfTtyZXR1cm4gYX0oKTthLk1ldGhvZEV2ZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt0aGlzLmFyZ3M9W107aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLm1ldGhvZD0iIjthLnByb3RvdHlwZS5hcmdzPWguZW1wdHlBcnJheTthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS5tZXRob2QmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm1ldGhvZCIpJiZiLnVpbnQzMigxMCkuc3RyaW5nKGEubWV0aG9kKTtpZihudWxsIT1hLmFyZ3MmJmEuYXJncy5sZW5ndGgpZm9yKHZhciBjPTA7YzxhLmFyZ3MubGVuZ3RoOysrYyliLnVpbnQzMigxOCkuc3RyaW5nKGEuYXJnc1tjXSk7CnJldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5NZXRob2RFdmVudDthLnBvczxjOyl7dmFyIGY9YS51aW50MzIoKTtzd2l0Y2goZj4+PjMpe2Nhc2UgMTplLm1ldGhvZD1hLnN0cmluZygpO2JyZWFrO2Nhc2UgMjplLmFyZ3MmJmUuYXJncy5sZW5ndGh8fChlLmFyZ3M9W10pO2UuYXJncy5wdXNoKGEuc3RyaW5nKCkpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmYpfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7YS5Qcm9wZXJ0eUV2ZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtpZihhKWZvcih2YXIgYj1PYmplY3Qua2V5cyhhKSxjPTA7YzxiLmxlbmd0aDsrK2MpbnVsbCE9YVtiW2NdXSYmKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUucHJvcGVydHk9IiI7YS5wcm90b3R5cGUudmFsdWU9CiIiO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07YS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTtudWxsIT1hLnByb3BlcnR5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJwcm9wZXJ0eSIpJiZiLnVpbnQzMigxMCkuc3RyaW5nKGEucHJvcGVydHkpO251bGwhPWEudmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInZhbHVlIikmJmIudWludDMyKDE4KS5zdHJpbmcoYS52YWx1ZSk7cmV0dXJuIGJ9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIGR8fChhPWQuY3JlYXRlKGEpKTtmb3IodmFyIGM9dm9pZCAwPT09Yj9hLmxlbjphLnBvcytiLGU9bmV3IGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlByb3BlcnR5RXZlbnQ7YS5wb3M8Yzspe3ZhciBmPWEudWludDMyKCk7c3dpdGNoKGY+Pj4zKXtjYXNlIDE6ZS5wcm9wZXJ0eT1hLnN0cmluZygpO2JyZWFrO2Nhc2UgMjplLnZhbHVlPWEuc3RyaW5nKCk7CmJyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmYpfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7YS5LZXlzdHJva2VzRXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3RoaXMua2V5c3Ryb2tlcz1bXTtpZihhKWZvcih2YXIgYj1PYmplY3Qua2V5cyhhKSxjPTA7YzxiLmxlbmd0aDsrK2MpbnVsbCE9YVtiW2NdXSYmKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUua2V5c3Ryb2tlcz1oLmVtcHR5QXJyYXk7YS5jcmVhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGIpfTthLmVuY29kZT1mdW5jdGlvbihhLGIpe2J8fChiPWYuY3JlYXRlKCkpO2lmKG51bGwhPWEua2V5c3Ryb2tlcyYmYS5rZXlzdHJva2VzLmxlbmd0aClmb3IodmFyIGM9MDtjPGEua2V5c3Ryb2tlcy5sZW5ndGg7KytjKWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLktleXN0cm9rZXNFdmVudC5LZXlzdHJva2VFdmVudC5lbmNvZGUoYS5rZXlzdHJva2VzW2NdLGIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpOwpyZXR1cm4gYn07YS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgZHx8KGE9ZC5jcmVhdGUoYSkpO2Zvcih2YXIgYz12b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uS2V5c3Ryb2tlc0V2ZW50O2EucG9zPGM7KXt2YXIgZj1hLnVpbnQzMigpO3N3aXRjaChmPj4+Myl7Y2FzZSAxOmUua2V5c3Ryb2tlcyYmZS5rZXlzdHJva2VzLmxlbmd0aHx8KGUua2V5c3Ryb2tlcz1bXSk7ZS5rZXlzdHJva2VzLnB1c2goZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uS2V5c3Ryb2tlc0V2ZW50LktleXN0cm9rZUV2ZW50LmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZmKX19cmV0dXJuIGV9O2EuS2V5c3Ryb2tlRXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYKKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUuaWQ9MDthLnByb3RvdHlwZS5rZXk9IiI7YS5wcm90b3R5cGUuaXNNZXRhPSExO2EucHJvdG90eXBlLm1vZGlmaWVyPSIiO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07YS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTtudWxsIT1hLmlkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJpZCIpJiZiLnVpbnQzMig4KS5pbnQzMihhLmlkKTtudWxsIT1hLmtleSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwia2V5IikmJmIudWludDMyKDE4KS5zdHJpbmcoYS5rZXkpO251bGwhPWEuaXNNZXRhJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJpc01ldGEiKSYmYi51aW50MzIoMjQpLmJvb2woYS5pc01ldGEpO251bGwhPWEubW9kaWZpZXImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm1vZGlmaWVyIikmJmIudWludDMyKDM0KS5zdHJpbmcoYS5tb2RpZmllcik7CnJldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5LZXlzdHJva2VzRXZlbnQuS2V5c3Ryb2tlRXZlbnQ7YS5wb3M8Yzspe3ZhciBmPWEudWludDMyKCk7c3dpdGNoKGY+Pj4zKXtjYXNlIDE6ZS5pZD1hLmludDMyKCk7YnJlYWs7Y2FzZSAyOmUua2V5PWEuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOmUuaXNNZXRhPWEuYm9vbCgpO2JyZWFrO2Nhc2UgNDplLm1vZGlmaWVyPWEuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmZil9fXJldHVybiBlfTtyZXR1cm4gYX0oKTtyZXR1cm4gYX0oKTthLkRldmljZVJvdGF0aW9uRXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYKKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUud2lkdGg9MDthLnByb3RvdHlwZS5oZWlnaHQ9MDthLnByb3RvdHlwZS5vcmllbnRhdGlvbj0wO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07YS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTtudWxsIT1hLndpZHRoJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJ3aWR0aCIpJiZiLnVpbnQzMig4KS5pbnQzMihhLndpZHRoKTtudWxsIT1hLmhlaWdodCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaGVpZ2h0IikmJmIudWludDMyKDE2KS5pbnQzMihhLmhlaWdodCk7bnVsbCE9YS5vcmllbnRhdGlvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwib3JpZW50YXRpb24iKSYmYi51aW50MzIoMjQpLmludDMyKGEub3JpZW50YXRpb24pO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPQp2b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uRGV2aWNlUm90YXRpb25FdmVudDthLnBvczxjOyl7dmFyIGY9YS51aW50MzIoKTtzd2l0Y2goZj4+PjMpe2Nhc2UgMTplLndpZHRoPWEuaW50MzIoKTticmVhaztjYXNlIDI6ZS5oZWlnaHQ9YS5pbnQzMigpO2JyZWFrO2Nhc2UgMzplLm9yaWVudGF0aW9uPWEuaW50MzIoKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZmKX19cmV0dXJuIGV9O3JldHVybiBhfSgpO2EuRmF0YWxFcnJvckV2ZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtpZihhKWZvcih2YXIgYj1PYmplY3Qua2V5cyhhKSxjPTA7YzxiLmxlbmd0aDsrK2MpbnVsbCE9YVtiW2NdXSYmKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUuY29kZT0iIjthLnByb3RvdHlwZS5leGNlcHRpb249IiI7YS5wcm90b3R5cGUuc3RhY2s9IiI7YS5jcmVhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGIpfTsKYS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTtudWxsIT1hLmNvZGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImNvZGUiKSYmYi51aW50MzIoMTApLnN0cmluZyhhLmNvZGUpO251bGwhPWEuZXhjZXB0aW9uJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJleGNlcHRpb24iKSYmYi51aW50MzIoMTgpLnN0cmluZyhhLmV4Y2VwdGlvbik7bnVsbCE9YS5zdGFjayYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwic3RhY2siKSYmYi51aW50MzIoMjYpLnN0cmluZyhhLnN0YWNrKTtyZXR1cm4gYn07YS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgZHx8KGE9ZC5jcmVhdGUoYSkpO2Zvcih2YXIgYz12b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uRmF0YWxFcnJvckV2ZW50O2EucG9zPGM7KXt2YXIgZj1hLnVpbnQzMigpO3N3aXRjaChmPj4+Myl7Y2FzZSAxOmUuY29kZT0KYS5zdHJpbmcoKTticmVhaztjYXNlIDI6ZS5leGNlcHRpb249YS5zdHJpbmcoKTticmVhaztjYXNlIDM6ZS5zdGFjaz1hLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmYpfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7YS5IYXNoY2hhbmdlRXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYodGhpc1tiW2NdXT1hW2JbY11dKX1hLnByb3RvdHlwZS5oYXNoPSIiO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07YS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXtifHwoYj1mLmNyZWF0ZSgpKTtudWxsIT1hLmhhc2gmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImhhc2giKSYmYi51aW50MzIoMTApLnN0cmluZyhhLmhhc2gpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7CmZvcih2YXIgYz12b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uSGFzaGNoYW5nZUV2ZW50O2EucG9zPGM7KXt2YXIgZj1hLnVpbnQzMigpO3N3aXRjaChmPj4+Myl7Y2FzZSAxOmUuaGFzaD1hLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmYpfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7YS5FdmVudFR5cGU9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPU9iamVjdC5jcmVhdGUoYSk7YlthWzBdPSJtb3VzZW1vdmUiXT0wO2JbYVsxXT0ibW91c2V1cCJdPTE7YlthWzJdPSJtb3VzZWRvd24iXT0yO2JbYVszXT0iY2xpY2siXT0zO2JbYVs0XT0ic2Nyb2xsIl09NDtiW2FbNV09IndpbmRvd2JsdXIiXT01O2JbYVs2XT0id2luZG93Zm9jdXMiXT02O2JbYVs3XT0iZm9jdXMiXT03O2JbYVs4XT0iYmx1ciJdPTg7YlthWzldPSJlb2YiXT05O2JbYVsxMF09InNlbGVjdGlvbiJdPTEwO2JbYVsxMV09ImNoYW5nZSJdPTExOwpiW2FbMTJdPSJpbnB1dCJdPTEyO2JbYVsxM109InRvdWNobW92ZSJdPTEzO2JbYVsxNF09InRvdWNoc3RhcnQiXT0xNDtiW2FbMTVdPSJ0b3VjaGVuZCJdPTE1O2JbYVsxNl09InRvdWNoY2FuY2VsIl09MTY7YlthWzE3XT0idG91Y2hmb3JjZWNoYW5nZSJdPTE3O2JbYVsxOF09ImNhbnZhc01ldGhvZCJdPTE4O2JbYVsxOV09ImNhbnZhc1Byb3BlcnR5Il09MTk7YlthWzIwXT0iem9vbSJdPTIwO2JbYVsyMV09InJlc2l6ZSJdPTIxO2JbYVsyMl09Im1lZGlhTWV0aG9kIl09MjI7YlthWzIzXT0ibWVkaWFQcm9wZXJ0eSJdPTIzO2JbYVsyNF09ImtleXN0cm9rZSJdPTI0O2JbYVsyNV09ImRldmljZVJvdGF0aW9uIl09MjU7YlthWzI2XT0iZmF0YWxFcnJvciJdPTI2O2JbYVsyN109Imhhc2hjaGFuZ2UiXT0yNztyZXR1cm4gYn0oKTthLlB1Ymxpc2hlcnNIZWFkZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3RoaXMuYXJ0aWNsZU1ldGE9W107aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksCmM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYodGhpc1tiW2NdXT1hW2JbY11dKX1hLnByb3RvdHlwZS5hcnRpY2xlTWV0YT1oLmVtcHR5QXJyYXk7YS5wcm90b3R5cGUuaW52b2x2ZWRUaW1lPTA7YS5jcmVhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGIpfTthLmVuY29kZT1mdW5jdGlvbihhLGIpe2J8fChiPWYuY3JlYXRlKCkpO2lmKG51bGwhPWEuYXJ0aWNsZU1ldGEmJmEuYXJ0aWNsZU1ldGEubGVuZ3RoKWZvcih2YXIgYz0wO2M8YS5hcnRpY2xlTWV0YS5sZW5ndGg7KytjKWcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLkFydGljbGVNZXRhLmVuY29kZShhLmFydGljbGVNZXRhW2NdLGIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO251bGwhPWEuaW52b2x2ZWRUaW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJpbnZvbHZlZFRpbWUiKSYmYi51aW50MzIoMTYpLmludDMyKGEuaW52b2x2ZWRUaW1lKTtyZXR1cm4gYn07YS5kZWNvZGU9ZnVuY3Rpb24oYSwKYil7YSBpbnN0YW5jZW9mIGR8fChhPWQuY3JlYXRlKGEpKTtmb3IodmFyIGM9dm9pZCAwPT09Yj9hLmxlbjphLnBvcytiLGU9bmV3IGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLlB1Ymxpc2hlcnNIZWFkZXI7YS5wb3M8Yzspe3ZhciBmPWEudWludDMyKCk7c3dpdGNoKGY+Pj4zKXtjYXNlIDE6ZS5hcnRpY2xlTWV0YSYmZS5hcnRpY2xlTWV0YS5sZW5ndGh8fChlLmFydGljbGVNZXRhPVtdKTtlLmFydGljbGVNZXRhLnB1c2goZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uQXJ0aWNsZU1ldGEuZGVjb2RlKGEsYS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjplLmludm9sdmVkVGltZT1hLmludDMyKCk7YnJlYWs7ZGVmYXVsdDphLnNraXBUeXBlKDcmZil9fXJldHVybiBlfTtyZXR1cm4gYX0oKTthLkFydGljbGVNZXRhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtpZihhKWZvcih2YXIgYj1PYmplY3Qua2V5cyhhKSxjPTA7YzxiLmxlbmd0aDsrK2MpbnVsbCE9YVtiW2NdXSYmCih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLmlkPTA7YS5wcm90b3R5cGUueD0wO2EucHJvdG90eXBlLnk9MDthLnByb3RvdHlwZS53aWR0aD0wO2EucHJvdG90eXBlLmhlaWdodD0wO2EucHJvdG90eXBlLmludm9sdmVkVGltZT0wO2EucHJvdG90eXBlLm1heFNjcm9sbGVkPTA7YS5wcm90b3R5cGUuY2hhcnM9MDthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS5pZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaWQiKSYmYi51aW50MzIoOCkudWludDMyKGEuaWQpO251bGwhPWEueCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwieCIpJiZiLnVpbnQzMigxNikuaW50MzIoYS54KTtudWxsIT1hLnkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInkiKSYmYi51aW50MzIoMjQpLmludDMyKGEueSk7bnVsbCE9YS53aWR0aCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwKIndpZHRoIikmJmIudWludDMyKDMyKS5pbnQzMihhLndpZHRoKTtudWxsIT1hLmhlaWdodCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaGVpZ2h0IikmJmIudWludDMyKDQwKS5pbnQzMihhLmhlaWdodCk7bnVsbCE9YS5pbnZvbHZlZFRpbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsImludm9sdmVkVGltZSIpJiZiLnVpbnQzMig0OCkuaW50MzIoYS5pbnZvbHZlZFRpbWUpO251bGwhPWEubWF4U2Nyb2xsZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm1heFNjcm9sbGVkIikmJmIudWludDMyKDYxKVsiZmxvYXQiXShhLm1heFNjcm9sbGVkKTtudWxsIT1hLmNoYXJzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJjaGFycyIpJiZiLnVpbnQzMig2NCkuaW50MzIoYS5jaGFycyk7cmV0dXJuIGJ9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIGR8fChhPWQuY3JlYXRlKGEpKTtmb3IodmFyIGM9dm9pZCAwPT09Yj9hLmxlbjoKYS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5BcnRpY2xlTWV0YTthLnBvczxjOyl7dmFyIGY9YS51aW50MzIoKTtzd2l0Y2goZj4+PjMpe2Nhc2UgMTplLmlkPWEudWludDMyKCk7YnJlYWs7Y2FzZSAyOmUueD1hLmludDMyKCk7YnJlYWs7Y2FzZSAzOmUueT1hLmludDMyKCk7YnJlYWs7Y2FzZSA0OmUud2lkdGg9YS5pbnQzMigpO2JyZWFrO2Nhc2UgNTplLmhlaWdodD1hLmludDMyKCk7YnJlYWs7Y2FzZSA2OmUuaW52b2x2ZWRUaW1lPWEuaW50MzIoKTticmVhaztjYXNlIDc6ZS5tYXhTY3JvbGxlZD1hWyJmbG9hdCJdKCk7YnJlYWs7Y2FzZSA4OmUuY2hhcnM9YS5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmYpfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7YS5BcnRpY2xlSW5mbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpcy5hdXRob3JzPVtdO3RoaXMudG9waWNzPVtdO3RoaXMucnVicmljPVtdO2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLApjPTA7YzxiLmxlbmd0aDsrK2MpbnVsbCE9YVtiW2NdXSYmKHRoaXNbYltjXV09YVtiW2NdXSl9YS5wcm90b3R5cGUuaWQ9MDthLnByb3RvdHlwZS5wYWdlVXJsQ2Fub25pY2FsPSIiO2EucHJvdG90eXBlLnBhZ2VUaXRsZT0iIjthLnByb3RvdHlwZS5hdXRob3JzPWguZW1wdHlBcnJheTthLnByb3RvdHlwZS50b3BpY3M9aC5lbXB0eUFycmF5O2EucHJvdG90eXBlLnB1YmxpY2F0aW9uRGF0ZT0iIjthLnByb3RvdHlwZS5jaGFycz0wO2EucHJvdG90eXBlLnJ1YnJpYz1oLmVtcHR5QXJyYXk7YS5wcm90b3R5cGUudXBkYXRlRGF0ZT0iIjthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS5pZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwiaWQiKSYmYi51aW50MzIoOCkudWludDMyKGEuaWQpO251bGwhPWEucGFnZVVybENhbm9uaWNhbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoYSwKInBhZ2VVcmxDYW5vbmljYWwiKSYmYi51aW50MzIoMTgpLnN0cmluZyhhLnBhZ2VVcmxDYW5vbmljYWwpO251bGwhPWEucGFnZVRpdGxlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJwYWdlVGl0bGUiKSYmYi51aW50MzIoMjYpLnN0cmluZyhhLnBhZ2VUaXRsZSk7aWYobnVsbCE9YS5hdXRob3JzJiZhLmF1dGhvcnMubGVuZ3RoKWZvcih2YXIgYz0wO2M8YS5hdXRob3JzLmxlbmd0aDsrK2MpZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uQXJ0aWNsZUF1dGhvci5lbmNvZGUoYS5hdXRob3JzW2NdLGIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWEudG9waWNzJiZhLnRvcGljcy5sZW5ndGgpZm9yKGM9MDtjPGEudG9waWNzLmxlbmd0aDsrK2MpZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uQXJ0aWNsZVRvcGljLmVuY29kZShhLnRvcGljc1tjXSxiLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtudWxsIT1hLnB1YmxpY2F0aW9uRGF0ZSYmCk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInB1YmxpY2F0aW9uRGF0ZSIpJiZiLnVpbnQzMig1MCkuc3RyaW5nKGEucHVibGljYXRpb25EYXRlKTtudWxsIT1hLmNoYXJzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJjaGFycyIpJiZiLnVpbnQzMig1NikuaW50MzIoYS5jaGFycyk7aWYobnVsbCE9YS5ydWJyaWMmJmEucnVicmljLmxlbmd0aClmb3IoYz0wO2M8YS5ydWJyaWMubGVuZ3RoOysrYylnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5BcnRpY2xlUnVicmljLmVuY29kZShhLnJ1YnJpY1tjXSxiLnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKTtudWxsIT1hLnVwZGF0ZURhdGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsInVwZGF0ZURhdGUiKSYmYi51aW50MzIoNzQpLnN0cmluZyhhLnVwZGF0ZURhdGUpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPQp2b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uQXJ0aWNsZUluZm87YS5wb3M8Yzspe3ZhciBmPWEudWludDMyKCk7c3dpdGNoKGY+Pj4zKXtjYXNlIDE6ZS5pZD1hLnVpbnQzMigpO2JyZWFrO2Nhc2UgMjplLnBhZ2VVcmxDYW5vbmljYWw9YS5zdHJpbmcoKTticmVhaztjYXNlIDM6ZS5wYWdlVGl0bGU9YS5zdHJpbmcoKTticmVhaztjYXNlIDQ6ZS5hdXRob3JzJiZlLmF1dGhvcnMubGVuZ3RofHwoZS5hdXRob3JzPVtdKTtlLmF1dGhvcnMucHVzaChnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5BcnRpY2xlQXV0aG9yLmRlY29kZShhLGEudWludDMyKCkpKTticmVhaztjYXNlIDU6ZS50b3BpY3MmJmUudG9waWNzLmxlbmd0aHx8KGUudG9waWNzPVtdKTtlLnRvcGljcy5wdXNoKGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLkFydGljbGVUb3BpYy5kZWNvZGUoYSxhLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA2OmUucHVibGljYXRpb25EYXRlPQphLnN0cmluZygpO2JyZWFrO2Nhc2UgNzplLmNoYXJzPWEuaW50MzIoKTticmVhaztjYXNlIDg6ZS5ydWJyaWMmJmUucnVicmljLmxlbmd0aHx8KGUucnVicmljPVtdKTtlLnJ1YnJpYy5wdXNoKGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLkFydGljbGVSdWJyaWMuZGVjb2RlKGEsYS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgOTplLnVwZGF0ZURhdGU9YS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZmKX19cmV0dXJuIGV9O3JldHVybiBhfSgpO2EuQXJ0aWNsZUF1dGhvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXMoYSksYz0wO2M8Yi5sZW5ndGg7KytjKW51bGwhPWFbYltjXV0mJih0aGlzW2JbY11dPWFbYltjXV0pfWEucHJvdG90eXBlLm5hbWU9IiI7YS5jcmVhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIG5ldyBhKGIpfTthLmVuY29kZT1mdW5jdGlvbihhLGIpe2J8fChiPWYuY3JlYXRlKCkpO251bGwhPWEubmFtZSYmCk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIm5hbWUiKSYmYi51aW50MzIoMTApLnN0cmluZyhhLm5hbWUpO3JldHVybiBifTthLmRlY29kZT1mdW5jdGlvbihhLGIpe2EgaW5zdGFuY2VvZiBkfHwoYT1kLmNyZWF0ZShhKSk7Zm9yKHZhciBjPXZvaWQgMD09PWI/YS5sZW46YS5wb3MrYixlPW5ldyBnLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90by5BcnRpY2xlQXV0aG9yO2EucG9zPGM7KXt2YXIgZj1hLnVpbnQzMigpO3N3aXRjaChmPj4+Myl7Y2FzZSAxOmUubmFtZT1hLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmYpfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7YS5BcnRpY2xlVG9waWM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGEpZm9yKHZhciBiPU9iamVjdC5rZXlzKGEpLGM9MDtjPGIubGVuZ3RoOysrYyludWxsIT1hW2JbY11dJiYodGhpc1tiW2NdXT1hW2JbY11dKX1hLnByb3RvdHlwZS5uYW1lPSIiO2EuY3JlYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiKX07CmEuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJuYW1lIikmJmIudWludDMyKDEwKS5zdHJpbmcoYS5uYW1lKTtyZXR1cm4gYn07YS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXthIGluc3RhbmNlb2YgZHx8KGE9ZC5jcmVhdGUoYSkpO2Zvcih2YXIgYz12b2lkIDA9PT1iP2EubGVuOmEucG9zK2IsZT1uZXcgZy5ydS55YW5kZXgubWV0cmlrYS53djIucHJvdG8uQXJ0aWNsZVRvcGljO2EucG9zPGM7KXt2YXIgZj1hLnVpbnQzMigpO3N3aXRjaChmPj4+Myl7Y2FzZSAxOmUubmFtZT1hLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6YS5za2lwVHlwZSg3JmYpfX1yZXR1cm4gZX07cmV0dXJuIGF9KCk7YS5BcnRpY2xlUnVicmljPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtpZihhKWZvcih2YXIgYj1PYmplY3Qua2V5cyhhKSxjPTA7YzxiLmxlbmd0aDsrK2MpbnVsbCE9YVtiW2NdXSYmKHRoaXNbYltjXV09CmFbYltjXV0pfWEucHJvdG90eXBlLm5hbWU9IiI7YS5wcm90b3R5cGUucG9zaXRpb249MDthLmNyZWF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gbmV3IGEoYil9O2EuZW5jb2RlPWZ1bmN0aW9uKGEsYil7Ynx8KGI9Zi5jcmVhdGUoKSk7bnVsbCE9YS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJuYW1lIikmJmIudWludDMyKDEwKS5zdHJpbmcoYS5uYW1lKTtudWxsIT1hLnBvc2l0aW9uJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChhLCJwb3NpdGlvbiIpJiZiLnVpbnQzMigxNikuaW50MzIoYS5wb3NpdGlvbik7cmV0dXJuIGJ9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYil7YSBpbnN0YW5jZW9mIGR8fChhPWQuY3JlYXRlKGEpKTtmb3IodmFyIGM9dm9pZCAwPT09Yj9hLmxlbjphLnBvcytiLGU9bmV3IGcucnUueWFuZGV4Lm1ldHJpa2Eud3YyLnByb3RvLkFydGljbGVSdWJyaWM7YS5wb3M8Yzspe3ZhciBmPWEudWludDMyKCk7c3dpdGNoKGY+Pj4zKXtjYXNlIDE6ZS5uYW1lPQphLnN0cmluZygpO2JyZWFrO2Nhc2UgMjplLnBvc2l0aW9uPWEuaW50MzIoKTticmVhaztkZWZhdWx0OmEuc2tpcFR5cGUoNyZmKX19cmV0dXJuIGV9O3JldHVybiBhfSgpO3JldHVybiBhfSgpO3JldHVybiBhfSgpO3JldHVybiBhfSgpO3JldHVybiBhfSgpO3JldHVybiBhfSgpO2EuZXhwb3J0cz1nfV0pLnJ1LnlhbmRleC5tZXRyaWthLnd2Mi5wcm90b31jYXRjaChhKXt9dHJ5e3ZhciBjYj17U2Nyb2xsRXZlbnQ6e3R5cGU6Sy5TY3JvbGxFdmVudCxldmVudHM6WyJzY3JvbGwiXX0sU2VsZWN0aW9uRXZlbnQ6e3R5cGU6Sy5TZWxlY3Rpb25FdmVudCxldmVudHM6WyJzZWxlY3Rpb24iXX0sQ2hhbmdlRXZlbnQ6e3R5cGU6Sy5DaGFuZ2VFdmVudCxldmVudHM6WyJjaGFuZ2UiLCJpbnB1dCJdfSxNZXRob2RFdmVudDp7dHlwZTpLLk1ldGhvZEV2ZW50LHJlcGVhdGVkOiJhcmdzIixldmVudHM6WyJjYW52YXNNZXRob2QiLCJtZWRpYU1ldGhvZCJdfSxQcm9wZXJ0eUV2ZW50Ont0eXBlOksuUHJvcGVydHlFdmVudCwKZXZlbnRzOlsiY2FudmFzUHJvcGVydHkiLCJtZWRpYVByb3BlcnR5Il19LEtleXN0cm9rZXNFdmVudDp7dHlwZTpLLktleXN0cm9rZXNFdmVudCxyZXBlYXRlZDoia2V5c3Ryb2tlcyIsZXZlbnRzOlsia2V5c3Ryb2tlIl19LFpvb21FdmVudDp7dHlwZTpLLlpvb21FdmVudCxldmVudHM6WyJ6b29tIl19LFJlc2l6ZUV2ZW50Ont0eXBlOksuUmVzaXplRXZlbnQsZXZlbnRzOlsicmVzaXplIl19LFdpbmRvd0V2ZW50Ont0eXBlOksuV2luZG93RXZlbnQsZXZlbnRzOlsid2luZG93Zm9jdXMiLCJ3aW5kb3dibHVyIiwiZm9jdXMiLCJibHVyIiwiZW9mIl19LE1vdXNlRXZlbnQ6e3R5cGU6Sy5Nb3VzZUV2ZW50LGV2ZW50czpbIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJtb3VzZWRvd24iLCJjbGljayJdfSxEZXZpY2VSb3RhdGlvbkV2ZW50Ont0eXBlOksuRGV2aWNlUm90YXRpb25FdmVudCxldmVudHM6WyJkZXZpY2VSb3RhdGlvbiJdfSxGYXRhbEVycm9yRXZlbnQ6e3R5cGU6Sy5GYXRhbEVycm9yRXZlbnQsCmV2ZW50czpbImZhdGFsRXJyb3IiXX0sVG91Y2hFdmVudDp7dHlwZTpLLlRvdWNoRXZlbnQscmVwZWF0ZWQ6InRvdWNoZXMiLGV2ZW50czpbInRvdWNobW92ZSIsInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsInRvdWNoY2FuY2VsIiwidG91Y2hmb3JjZWNoYW5nZSJdfX0sbGM9aC5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoaC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJue2V2ZW50TmFtZTphLHR5cGU6Y2JbYl0udHlwZSxyZXBlYXRlZDpjYltiXS5yZXBlYXRlZCx0eXBlU3RyOmJ9fSxjYltiXS5ldmVudHMpKX0sW10saC5rZXlzKGNiKSksbWM9e251bGxUb1N0cjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGguaXNBcnJheShhKSlyZXR1cm4gaC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGIubnVsbFRvU3RyKGEpfSxhKTtpZihoLmlzT2JqZWN0KGEpKWguZm9yRWFjaEtleShhLGZ1bmN0aW9uKGMsZCl7YVtjXT1iLm51bGxUb1N0cihkKTtyZXR1cm4hMH0pO2Vsc2UgaWYobnVsbD09PQphfHxhPT09QSlhPSIiO3JldHVybiBhfSx1bmNhcGl0YWxpemU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnNsaWNlKDEpO3JldHVybiBhLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpKyhiP2MudG9Mb3dlckNhc2UoKTpjKX0sY2FwaXRhbGl6ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc2xpY2UoMSk7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrKGI/Yy50b0xvd2VyQ2FzZSgpOmMpfSxub3ROYU46ZnVuY3Rpb24oYSl7cmV0dXJuIGlzTmFOKGEpJiYibnVtYmVyIj09dHlwZW9mIGE/MDphfSxldmVudFNlcmlhbGl6ZTpmdW5jdGlvbihhKXt2YXIgYj1oLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYi5ldmVudE5hbWU9PWEudHlwZX0sbGMpLGM7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyl2YXIgZD1iW2NdO2lmKGQpcmV0dXJuIGQucmVwZWF0ZWQ/KGM9bmV3IGQudHlwZSxjW2QucmVwZWF0ZWRdPWEubWV0YVtkLnJlcGVhdGVkXXx8YS5tZXRhKTpjPW5ldyBkLnR5cGUodGhpcy5udWxsVG9TdHIoYS5tZXRhKSksCmI9bmV3IEsuRXZlbnQoe3R5cGU6Sy5FdmVudFR5cGVbZC5ldmVudE5hbWVdLHRhcmdldDphLnRhcmdldCxmcmFtZUlkOmEuZnJhbWVJZH0pLGJbdGhpcy51bmNhcGl0YWxpemUoZC50eXBlU3RyKV09YyxifSxwYWdlU2VyaWFsaXplOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgSy5QYWdlKHRoaXMubnVsbFRvU3RyKGEpKX0sYXJ0aWNsZUluZm9TZXJpYWxpemU6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBLLkFydGljbGVJbmZvKHRoaXMubnVsbFRvU3RyKGEpKX0scHVibGlzaGVyc0hlYWRlclNlcmlhbGl6ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IEsuUHVibGlzaGVyc0hlYWRlcih0aGlzLm51bGxUb1N0cihhKSl9LG11dGF0aW9uU2VyaWFsaXplOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgSy5NdXRhdGlvbih0aGlzLm51bGxUb1N0cihhKSl9LGluaXRCdWZmZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsuQnVmZmVyV3JhcHBlcn0sYXBwZW5kQnVmZmVyOmZ1bmN0aW9uKGEsYil7YS5idWZmZXIucHVzaChiKX0sCnNlcmlhbGl6ZUNodW5rOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNlcmlhbGl6ZUJ1ZmZlcihudWxsLGEpfSxzZXJpYWxpemVCdWZmZXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5ldyBLLkJ1ZmZlcihiKTthPWF8fG5ldyBLLldyYXBwZXI7Ynx8KGQuZGF0YT1hKTtjIT09QSYmKGQuc3RhbXA9Yyk7YiYmYi5zdGFtcD09PUEmJihkLnN0YW1wPXkuZ2V0Rm9ybVN0YXJ0KCkpO3JldHVybiBkfSx0b1RyYW5zcG9ydDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZj1ifHwiQnVmZmVyV3JhcHBlciIsaD10aGlzO2lmKGMpbmIuY2hhaW4oW2Z1bmN0aW9uKCl7cmV0dXJuIGgubnVsbFRvU3RyKGEpfSxmdW5jdGlvbihhKXtyZXR1cm4gS1tmXS5lbmNvZGUoYSl9LGZ1bmN0aW9uKGEpe3JldHVybiBhLmZpbmlzaCgpfSxmdW5jdGlvbihhKXtyZXR1cm4gYy5jYWxsKGQsYSl9XSwiIiwhMSwidG9UcmFuc3BvcnRDaGFpbi4iK2YpO2Vsc2UgcmV0dXJuIEtbZl0uZW5jb2RlKHRoaXMubnVsbFRvU3RyKGEpKS5maW5pc2goKX0sCmZyb21UcmFzcG9ydDpmdW5jdGlvbihhLGIpe2lmKCJudW1iZXIiPT10eXBlb2YgYVswXSlyZXR1cm4gS1tifHwiQnVmZmVyV3JhcHBlciJdLmRlY29kZShhKX0sc2VyaWFsaXplOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fSxmPXt9LGg9dGhpc1thKyJTZXJpYWxpemUiXTtpZihoKWRbYV09aC5jYWxsKHRoaXMsYiksZj1uZXcgSy5XcmFwcGVyKGQpO2Vsc2UgaWYoYyYmSy5XcmFwcGVyLnByb3RvdHlwZVthXSE9PUEpZlthXT1iO2Vsc2UgdGhyb3ciVW5yZWNvZ2luemUgdHlwZSBvZiBtZXNzYWdlIjtyZXR1cm4gYz9LLldyYXBwZXIuZW5jb2RlKGYpLmZpbmlzaCgpOmZ9fTtDYj0hMH1jYXRjaChhKXtsYShhLCJwci5pbiIpfXZhciBEYj1YYS5pbmhlcml0KHtwcm90b2NvbDoiIixjaHVua1NpemU6MCxjb3VudGVySWQ6IiIsY291bnRlclR5cGU6IiIsbWV0YTpudWxsLG1heEJ1ZmZlclNpemU6N0U1LHNlcmlhbGl6ZXI6bWMsX2RhdGFTaXplOjAsZmx1c2hUaW1lb3V0OjJFMyxzdG9yYWdlS2V5OiJ2aXNvcmJ1ZmYzIiwKYWN0aXZlOiExLHd2VHlwZTozLF90b3RhbFNlbmRlZFNpemU6MCxfdjoiIixfaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3RoaXMuX3NlbmRlcj1uZXcgb2Ioe3ZlcnNpb246dGhpcy53dlR5cGUscHJvdG9jb2w6dGhpcy5wcm90b2NvbCxicm93c2VySW5mb01peDp0aGlzLmJyb3dzZXJJbmZvTWl4LGdsb2JhbENvbmZpZzp0aGlzLmdsb2JhbENvbmZpZyxjb3VudGVySWQ6dGhpcy5jb3VudGVySWQsY291bnRlclR5cGU6dGhpcy5jb3VudGVyVHlwZX0pO3RoaXMubWF4Q2h1bmtTaXplPS45KnRoaXMubWF4QnVmZmVyU2l6ZTtiYi5zdXBlcmNsYXNzLl9pbml0Q29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZXx8KHRoaXMuYWN0aXZlPSEwKX0sbWVyZ2VEYXRhOmZ1bmN0aW9uKGEsYil7Yi5kYXRhJiYwPT09Yi5kYXRhLnNpemV8fCh0aGlzLnNlcmlhbGl6ZXIuYXBwZW5kQnVmZmVyKGEsYiksdGhpcy5fZGF0YVNpemU9MCl9LApfZ2V0U2l6ZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGh9LHNlbmRFbmNvZGVkOmZ1bmN0aW9uKGEsYixjLGQsZil7dmFyIGg9dGhpcy5fZ2V0U2l6ZShhKSxnPXRoaXMuZ2V0Rmx1c2hTaXplKCksbT0wLHI9MCx3PTE7Yy5zaXplPWg7ZytoPnRoaXMubWF4QnVmZmVyU2l6ZSYmZyYmdGhpcy5fZmx1c2goZCk7aWYoaD50aGlzLm1heEJ1ZmZlclNpemUpe2ZvcihnPU1hdGguY2VpbChhLmxlbmd0aC90aGlzLm1heENodW5rU2l6ZSk7cjxoOyl7Yi5wYWdlPXc7Yi5lbmQ9dz09PWc7Yi5jaHVuaz1hLnNsaWNlKG0sbSs9dGhpcy5tYXhDaHVua1NpemUpO2lmKDA9PWIuY2h1bmsubGVuZ3RoKWJyZWFrO2Iuc2l6ZT10aGlzLl9nZXRTaXplKGIuY2h1bmspO3IrPWIuc2l6ZTtjPXRoaXMuc2VyaWFsaXplci5zZXJpYWxpemVDaHVuayhiKTt0aGlzLnNldFRvU3RvcmUoYyxmKTt0aGlzLmFwcGVuZChjLGQpO3crK310aGlzLl90b3RhbFNlbmRlZFNpemUrPXJ9ZWxzZSBjPXRoaXMuc2VyaWFsaXplci5zZXJpYWxpemVCdWZmZXIoYywKbnVsbCxiLnN0YW1wKSx0aGlzLl90b3RhbFNlbmRlZFNpemUrPWgsdGhpcy5zZXRUb1N0b3JlKGMsZiksdGhpcy5hcHBlbmQoYyxkKX0sc2V0VG9TdG9yZTpmdW5jdGlvbihhLGIpe3RoaXMud3JhcHBlcnMubGVuZ3RoJiZ0aGlzLnN0b3JlLnNldChhLGIpfSxhZGREYXRhOmZ1bmN0aW9uKGEsYixjLGQsZil7dmFyIGw9e3R5cGU6YX07aWYoIXRoaXMudG90YWxTZW5kTGltaXR8fHRoaXMuX3RvdGFsU2VuZGVkU2l6ZTx0aGlzLnRvdGFsU2VuZExpbWl0KWlmKHRoaXMuX3Y9Yyx0aGlzLndyYXBwZXJzLmxlbmd0aCYmaC5hcnJheUV2ZXJ5KHRoaXMud3JhcHBlcnMsZnVuY3Rpb24oYyl7Yy50cmlnZ2VyJiZjLnRyaWdnZXIoYSxiKTtyZXR1cm4gMX0pLGYpe3ZhciBnPXRoaXMuc2VyaWFsaXplci5zZXJpYWxpemVCdWZmZXIoe3NpemU6MH0pO3RoaXMuYXBwZW5kKGcsZCl9ZWxzZSB0aGlzLl9kYXRhJiYwPT10aGlzLl9kYXRhLmJ1ZmZlci5sZW5ndGgmJih0aGlzLnN0YXJ0QnVmZmVyVGltZT0KeS5nZXRTZWNvbmRzKCkpLHRoaXMudXBkYXRlU3RhbXAoYixsKSxnPXRoaXMuc2VyaWFsaXplci5zZXJpYWxpemUoYSxiKSxkPyhjPXRoaXMuc2VyaWFsaXplci50b1RyYW5zcG9ydChnLCJXcmFwcGVyIiksdGhpcy5zZW5kRW5jb2RlZChjLGwsZywhMCx7aWQ6YSxkYXRhOmJ9KSk6dGhpcy5zZXJpYWxpemVyLnRvVHJhbnNwb3J0KGcsIldyYXBwZXIiLGZ1bmN0aW9uKGMpe3RoaXMuc2VuZEVuY29kZWQoYyxsLGcsITEse2lkOmEsZGF0YTpifSl9LHRoaXMpfSxkYXRhRnJvbVN0b3JhZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2VyaWFsaXplci5mcm9tVHJhc3BvcnQoYSl9LGRhdGFUb1N0b3JhZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2VyaWFsaXplci50b1RyYW5zcG9ydChhKX0sZ2V0Rmx1c2hTaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWgucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErKGIuZGF0YT9iLmRhdGEuc2l6ZTpiLnNpemUpfSwwLHRoaXMuX2RhdGEuYnVmZmVyKTsKdGhpcy53cmFwcGVycy5sZW5ndGgmJihiKz1oLnJlZHVjZShmdW5jdGlvbihiLGQpe3ZhciBjPWQuZ2V0QnVmZmVyRGF0YSgpO3JldHVybiBjP2IrPWEuc2VyaWFsaXplci5zZXJpYWxpemUoYy50eXBlLGMuZGF0YSwhMCkubGVuZ3RoOmJ9LGIsdGhpcy53cmFwcGVycykpO3JldHVybiBifSxvbkZsdXNoOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBmPXRoaXM7dGhpcy5fZGF0YVNpemU9MDthJiYodGhpcy53cmFwcGVycy5sZW5ndGgmJihoLmFycmF5RXZlcnkodGhpcy53cmFwcGVycyxmdW5jdGlvbihiKXtpZighYi5vbkZsdXNoKXJldHVybiAxO2guYXJyYXlFdmVyeShhLmJ1ZmZlcixmdW5jdGlvbihhKXthPXRoaXMuc3RvcmUucG9wKGEpO2lmKCFhKXJldHVybiAxO2Iub25GbHVzaChhLmlkLGEuZGF0YSk7cmV0dXJuIDF9LHRoaXMpfSx0aGlzKSxhPWgucmVkdWNlKGZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXRCdWZmZXJEYXRhKCksZD17ZGF0YTp7fX07aWYoIWMpcmV0dXJuIGE7ZC5kYXRhW2MudHlwZV09CmMuZGF0YTtjPW5ldyBmLnNlcmlhbGl6ZXIuc2VyaWFsaXplQnVmZmVyKG51bGwsZCk7Zi5tZXJnZURhdGEoYSxjKTtyZXR1cm4gYX0sYSx0aGlzLndyYXBwZXJzKSksYS5idWZmZXImJmEuYnVmZmVyLmxlbmd0aCYmKGQ/dGhpcy5fc2VuZGVyLnNlbmRQYWNrZXQodGhpcy5zZXJpYWxpemVyLnRvVHJhbnNwb3J0KGEpLGIudXJsLGIuaGl0SWQsYyxiLnRpbWV6b25lLGIudGltZXN0YW1wLHRoaXMuc3RhcnRCdWZmZXJUaW1lKTp0aGlzLnNlcmlhbGl6ZXIudG9UcmFuc3BvcnQoYSwiQnVmZmVyV3JhcHBlciIsZnVuY3Rpb24oYSl7dGhpcy5fc2VuZGVyLnNlbmRQYWNrZXQoYSxiLnVybCxiLmhpdElkLGMsYi50aW1lem9uZSxiLnRpbWVzdGFtcCx0aGlzLnN0YXJ0QnVmZmVyVGltZSl9LHRoaXMpKSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT10aGlzLnNlcmlhbGl6ZXIuaW5pdEJ1ZmZlcigpO3RoaXMuX2RhdGFTaXplPTA7dGhpcy5fZmx1c2hUSUQ9bnVsbDt0aGlzLnN0b3JhZ2UmJgp0aGlzLnN0b3JhZ2UucmVtb3ZlKHRoaXMuc3RvcmFnZUtleSl9fSksVD17fTtULl9jb29raWU9bmV3IE4oe29ubHlDdXJyZW50RG9tYWluOiEwfSk7VC5fY2hlY2s9RChmdW5jdGlvbigpe3JldHVybi0xPG0ubG9jYXRpb24uaHJlZi5pbmRleE9mKCJfeW1fZGVidWdceDNkMSIpfHxtLl95bV9kZWJ1Z3x8IjEiPT09VC5fY29va2llLnJlYWQoImRlYnVnIil9KTtULmVuYWJsZWQ9VC5fY2hlY2soKTtULmxvZz1EKGZ1bmN0aW9uKCl7KC0xPEwuaHJlZi5pbmRleE9mKCJfeW1fZGVidWdceDNkMSIpfHxtLl95bV9kZWJ1ZykmJnRoaXMuX2Nvb2tpZS5jcmVhdGUoImRlYnVnIiwiMSIpO20uY29uc29sZSYmY29uc29sZS5sb2cmJnRoaXMuX2NoZWNrKCkmJihULmVuYWJsZWQ9ITAsY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKX0sIkRlYnVnQ29uc29sZS5sb2ciKTt2YXIgbmM9Si5pbmhlcml0KHtldmVudE1hcDp7bW91c2Vtb3ZlOnt2YWw6MCxtdWx0aXBseToxLy42OH0sCmNsaWNrOnt2YWw6MCxtdWx0aXBseToxLy4wMDk3NX0saW5wdXQ6e3ZhbDowLG11bHRpcGx5OjEvLjAxMTZ9LHNjcm9sbDp7dmFsOjAsbXVsdGlwbHk6MS8uMzF9LGZhdGFsRXJyb3I6e3ZhbDowLG11bHRpcGx5OjF9fSxnZXRCdWZmZXJEYXRhOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm57dHlwZToiYWN0aXZpdHkiLGRhdGE6aC5yZWR1Y2UoZnVuY3Rpb24oYixjKXt2YXIgZD1hLmV2ZW50TWFwW2NdO3JldHVybiBNYXRoLnJvdW5kKGIrZC52YWwqZC5tdWx0aXBseSl9LDAsaC5rZXlzKHRoaXMuZXZlbnRNYXApKX19LG9uRmx1c2g6ZnVuY3Rpb24oYSxiKXt2YXIgYztpZihjPXRoaXMuZXZlbnRNYXBbImV2ZW50IiE9PWE/YTpiLnR5cGVdKWMudmFsKz0xfX0pO3UuY2xvc2VzdD1mdW5jdGlvbihhLGIpe3ZhciBjO2lmKCEobSYmbS5FbGVtZW50JiZtLkVsZW1lbnQucHJvdG90eXBlKSlyZXR1cm4gbnVsbDtpZihtLkVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QmJmguaXNOYXRpdmVGdW5jdGlvbihtLkVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QsCiJjbG9zZXN0IikpcmV0dXJuIGEuY2xvc2VzdChiKTtpZihtLkVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMmJmguaXNOYXRpdmVGdW5jdGlvbihtLkVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMsIm1hdGNoZXMiKSl7ZG97aWYoYS5tYXRjaGVzKGIpKXJldHVybiBhO2E9YS5wYXJlbnRFbGVtZW50fHxhLnBhcmVudE5vZGV9d2hpbGUobnVsbCE9PWEmJjE9PT1hLm5vZGVUeXBlKX1pZihtLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwmJmguaXNOYXRpdmVGdW5jdGlvbihtLkVsZW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGwsInF1ZXJ5U2VsZWN0b3JBbGwiKSl7dmFyIGQ9KG0uZG9jdW1lbnR8fG0ub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChiKTtkbyBmb3IoYz1kLmxlbmd0aDswPD0tLWMmJmQuaXRlbShjKSE9PWE7KWE7d2hpbGUoMD5jJiYoYT1hLnBhcmVudEVsZW1lbnQpKTtyZXR1cm4gYX1yZXR1cm4gbnVsbH07dmFyIEM9e3NlbGVjdDpmdW5jdGlvbihhLApiKXtyZXR1cm4gYT9hLnF1ZXJ5U2VsZWN0b3JBbGwoYik6bnVsbH0sbG9va3NMaWtlRnVsbFVybDpmdW5jdGlvbihhKXtyZXR1cm4ic3RyaW5nIiE9PXR5cGVvZiBhPyExOi9eKGh0dHBzPzopXC9cLy8udGVzdChhKX0sc2VsZWN0T25lOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zZWxlY3QoYSxiKTtyZXR1cm4gYyYmYy5sZW5ndGg/Y1swXTpudWxsfSxjbG9zZXN0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHUuY2xvc2VzdChhLGIpfSx0ZXN0QXR0cjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMudGVzdChhLmdldEF0dHJpYnV0ZShiKSl9LHNlbGVjdFByb3BPbmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnNlbGVjdFByb3AoYSxiKTtyZXR1cm4gYyYmYy5sZW5ndGg/Y1swXTpudWxsfSxzZWxlY3RQcm9wOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoIml0ZW10eXBlIiksZD1udWxsLGY9dGhpcy5zZWxlY3QoYSwnW2l0ZW1wcm9wflx4M2QiJytiKyciXScpO2MmJihkPQpoLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYi5wYXJlbnROb2RlJiZ1LmNsb3Nlc3QoYi5wYXJlbnROb2RlLCJbaXRlbXR5cGVdIik9PT1hfSxmKSk7cmV0dXJuIGR8fGZ8fFtdfSxnZXRWYWw6ZnVuY3Rpb24oYSl7aWYoIWF8fDA9PWEubGVuZ3RoKXJldHVybiIiO2EubGVuZ3RoPT09QSYmKGE9W2FdKTtyZXR1cm4gYVswXS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKXx8YVswXS5pbm5lclRleHR8fCIifSxnZXREYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBhP2EuYXR0cmlidXRlcyYmYS5hdHRyaWJ1dGVzLmRhdGV0aW1lPyIiK2EuYXR0cmlidXRlcy5kYXRldGltZS52YWx1ZTp0aGlzLmdldFZhbChhKToiIn19LHlhPXt9LGRiPUouaW5oZXJpdCh7aXNBdXRob3JzSW5UaXRsZTohMSxmaWVsZHM6e30sc2NoZW1hRW50aXRpZXM6eyJzY2hlbWEub3JnIjoiQXJ0aWNsZSBOZXdzQXJ0aWNsZSBNb3ZpZSBCbG9nUG9zdGluZyBSZXZpZXcgUmVjaXBlIEFuc3dlciIuc3BsaXQoIiAiKSxvcGVuZ3JhcGg6WyJhcnRpY2xlIl19LAp0eXBlc01hcDp7QW5zd2VyOjMsUmV2aWV3OjJ9LF9nZXRDb250ZW50Tm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5lbGVtZW50fSxfZ2V0RmllbGREYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD10aGlzO0QoZnVuY3Rpb24oKXtjPWQuZmllbGRzW2JdLmNhbGwoZCxhKX0sIlAucy4iK2IpKCk7cmV0dXJuIGN9LF9wb3N0cHJvY2Vzc0RhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9nZXRDb250ZW50Tm9kZShiKTtpZih0aGlzLmlzQXV0aG9yc0luVGl0bGUmJiFhLmlkJiZoLmluQXJyYXkoWzMsMl0sYS50eXBlKSl7dmFyIGQ9aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZX0sYS5hdXRob3JzKS5qb2luKCIsICIpO2EucGFnZVRpdGxlPWQrIjogIithLnBhZ2VUaXRsZX1hLnBhZ2VUaXRsZXx8KGEucGFnZVRpdGxlPXRoaXMuX2dldFRpdGxlRnJvbUNvbnRlbnQoYykpO2EucGFnZVVybENhbm9uaWNhbHx8KGEucGFnZVVybENhbm9uaWNhbD1DLmxvb2tzTGlrZUZ1bGxVcmwoYS5pZCk/CmEuaWQ6dGhpcy5nZXRQYWdlVXJsQ2Fub25pY2FsKCkpO2EuaWR8fChhLmlkPWEucGFnZVRpdGxlfHxhLnBhZ2VVcmxDYW5vbmljYWwpO3JldHVybiBhfSxfZ2V0Q29udGVudERhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9e30sYz10aGlzO2IudHlwZT1hLnR5cGU7aC5tYXAoZnVuY3Rpb24oZCl7YltkXT1jLl9nZXRGaWVsZERhdGEoYSxkKX0saC5rZXlzKHRoaXMuZmllbGRzKSk7Yi5lbGVtZW50PWEuZWxlbWVudDtiLnN0YW1wPXkuZ2V0Rm9ybVN0YXJ0KCk7Yj10aGlzLl9wb3N0cHJvY2Vzc0RhdGEoYixhKTtiLmlkPWIuaWQ/aC5mbnYzMmEoYi5pZCk6MTtiLnVwZGF0ZT1oLmJpbmQodGhpcy5fZ2V0RmllbGREYXRhLHRoaXMsYSk7cmV0dXJuIGJ9LF9nZXRUaXRsZUZyb21Db250ZW50OmZ1bmN0aW9uKGEpe3ZhciBiLGM7Zm9yKGI9MTs1Pj1iO2IrKylpZihjPUMuZ2V0VmFsKEMuc2VsZWN0T25lKGEsImgiK2IpKSlyZXR1cm4gYztyZXR1cm4gbnVsbH0sX2dldFR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gMX0sCmdldFBhZ2VVcmxDYW5vbmljYWw6ZnVuY3Rpb24oKXt2YXIgYT1DLnNlbGVjdE9uZSh0aGlzLnJvb3QsJ1tyZWxceDNkImNhbm9uaWNhbCJdJyk7aWYoYSlyZXR1cm4gYS5ocmVmfSxhbHJlYWR5V2FybmVkOltdLGNvbnRlbnRTaXplV2FybmluZzpmdW5jdGlvbihhKXstMT09PWguYXJyYXlJbmRleE9mKHRoaXMuYWxyZWFkeVdhcm5lZCxhLmlkKSYmKFQubG9nKCJXYXJuaW5nOiBjb250ZW50IGhhcyBvbmx5ICIrYS5jaGFycysiIGNoYXJzLlJlcXVpcmVkICIreWFbYS50eXBlXSxhKSx0aGlzLmFscmVhZHlXYXJuZWQucHVzaChhLmlkKSl9LGZpbmRDb250ZW50OmZ1bmN0aW9uKCl7dmFyIGEsYj1bXSxjPVtdLGQsZj10aGlzLl9maW5kQ29udGVudERlc2NyaXB0aW9uTm9kZXMoKSxsPXRoaXM7Zm9yKGE9MDthPGYubGVuZ3RoO2ErKylpZihkPXRoaXMuX2dldENvbnRlbnREYXRhKHtlbGVtZW50OmZbYV0sdHlwZTp0aGlzLl9nZXRUeXBlKGZbYV0pfSkpaC5pc0FycmF5KGQpfHwoZD1bZF0pLApoLm1hcChmdW5jdGlvbihhKXthJiYoYS5jaGFyczw9eWFbYS50eXBlXT9sLmNvbnRlbnRTaXplV2FybmluZyhhKTooYT1oLm1peGluKHtzZW5kZWQ6ITEsaW52b2x2ZWRUaW1lOjB9LGEpKSYmIWguaW5BcnJheShjLGEuaWQpJiYoYS5pbmRleD1iLnB1c2goYSksYy5wdXNoKGEuaWQpKSl9LGQpO3JldHVybiBifX0pO3lhWzFdPTUwMDt5YVsyXT01MDA7eWFbM109MDt2YXIgcGI9ZGIuaW5oZXJpdCh7aWQ6InMiLGlzQXV0aG9yc0luVGl0bGU6ITAsdHlwZXNSZWdFeHA6bmV3IFJlZ0V4cCgic2NoZW1hLm9yZ1xcLygiK2gua2V5cyhkYi5wcm90b3R5cGUudHlwZXNNYXApLmpvaW4oInwiKSsiKSQiKSxmaWVsZHM6e25vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2dldENvbnRlbnROb2RlKGEpfSxpZDpmdW5jdGlvbihhKXthPWEuZWxlbWVudDt2YXIgYj1DLnNlbGVjdFByb3BPbmUoYSwiaWRlbnRpZmllciIpO3JldHVybiBiP0MuZ2V0VmFsKGIpOihiPUMuc2VsZWN0UHJvcE9uZShhLAoibWFpbkVudGl0eU9mUGFnZSIpKSYmYi5nZXRBdHRyaWJ1dGUoIml0ZW1pZCIpP2IuZ2V0QXR0cmlidXRlKCJpdGVtaWQiKTpudWxsfSxjaGFyczpmdW5jdGlvbihhKXt2YXIgYj0wO2E9YS5lbGVtZW50O3ZhciBjLGQsZj1bImFydGljbGVCb2R5IiwicmV2aWV3Qm9keSIsInJlY2lwZUluc3RydWN0aW9ucyIsImRlc2NyaXB0aW9uIiwidGV4dCJdO2ZvcihjPTA7YzxmLmxlbmd0aDtjKyspaWYoZD1DLnNlbGVjdFByb3BPbmUoYSxmW2NdKSl7Yj1DLmdldFZhbChkKS5sZW5ndGg7YnJlYWt9MD09PWImJmEuaW5uZXJUZXh0JiYoYis9YS5pbm5lclRleHQubGVuZ3RoKTtyZXR1cm4gYn0sdG9waWNzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2E9Qy5zZWxlY3RQcm9wKGEuZWxlbWVudCwiYWJvdXQiKTtyZXR1cm4gYj1oLm1hcChmdW5jdGlvbihhKXt2YXIgYj17bmFtZTpDLmdldFZhbChhKX07aWYoYT1DLnNlbGVjdFByb3BPbmUoYSwibmFtZSIpKWIubmFtZT1DLmdldFZhbChhKTtyZXR1cm4gYn0sCmEpfSxydWJyaWM6ZnVuY3Rpb24oYSl7dmFyIGI9W107KGE9Qy5zZWxlY3RPbmUoYS5lbGVtZW50LCdbaXRlbXR5cGUkXHgzZCJzY2hlbWEub3JnL0JyZWFkY3J1bWJMaXN0Il0nKSl8fChhPUMuc2VsZWN0T25lKHRoaXMucm9vdCwnW2l0ZW10eXBlJFx4M2Qic2NoZW1hLm9yZy9CcmVhZGNydW1iTGlzdCJdJykpO2EmJihhPUMuc2VsZWN0UHJvcChhLCJpdGVtTGlzdEVsZW1lbnQiKSxiPWgubWFwKGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOkMuZ2V0VmFsKEMuc2VsZWN0UHJvcE9uZShhLCJuYW1lIikpLHBvc2l0aW9uOkMuZ2V0VmFsKEMuc2VsZWN0UHJvcE9uZShhLCJwb3NpdGlvbiIpKX19LGEpKTtyZXR1cm4gYn0sdXBkYXRlRGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4oYT1DLnNlbGVjdFByb3BPbmUoYS5lbGVtZW50LCJkYXRlTW9kaWZpZWQiKSk/Qy5nZXREYXRlKGEpOiIifSxwdWJsaWNhdGlvbkRhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9Qy5zZWxlY3RQcm9wT25lKGEuZWxlbWVudCwKImRhdGVQdWJsaXNoZWQiKSk/Qy5nZXREYXRlKGEpOiIifSxwYWdlVXJsQ2Fub25pY2FsOmZ1bmN0aW9uKGEpe2E9Qy5zZWxlY3RQcm9wKGEuZWxlbWVudCwidXJsIik7cmV0dXJuIGEubGVuZ3RoP2FbMF0uaHJlZj9hWzBdLmhyZWY6Qy5nZXRWYWwoYSk6bnVsbH0scGFnZVRpdGxlOmZ1bmN0aW9uKGEpe3ZhciBiPSIiLGM9YS5lbGVtZW50LGQ9Qy5zZWxlY3RQcm9wT25lKGMsImhlYWRsaW5lIik7ZCYmKGIrPUMuZ2V0VmFsKGQpKTsoZD1DLnNlbGVjdFByb3BPbmUoYywiYWx0ZXJuYXRpdmVIZWFkbGluZSIpKSYmKGIrPSIgIitDLmdldFZhbChkKSk7IiI9PT1iJiYoKGQ9Qy5zZWxlY3RQcm9wT25lKGMsIm5hbWUiKSl8fChkPUMuc2VsZWN0UHJvcE9uZShjLCJpdGVtUmV2aWV3ZWQiKSksZCYmKGIrPUMuZ2V0VmFsKGQpKSk7Mz09PWEudHlwZSYmKGE9Qy5jbG9zZXN0KGMsJ1tpdGVtdHlwZSRceDNkInNjaGVtYS5vcmcvUXVlc3Rpb24iXScpKSYmKGQ9Qy5zZWxlY3RQcm9wT25lKGEsCiJ0ZXh0IikpJiYoYis9Qy5nZXRWYWwoZCkpO3JldHVybiBifSxhdXRob3JzOmZ1bmN0aW9uKGEpe2E9Qy5zZWxlY3RQcm9wKGEuZWxlbWVudCwiYXV0aG9yIik7dmFyIGI9W107cmV0dXJuIGI9aC5tYXAoZnVuY3Rpb24oYSl7dmFyIGI9e30sYztDLnRlc3RBdHRyKGEsIml0ZW10eXBlIiwvLitzY2hlbWEub3JnXC8oUGVyc29ufE9yZ2FuaXphdGlvbikvKSYmKGM9Qy5zZWxlY3RQcm9wT25lKGEsIm5hbWUiKSkmJihiLm5hbWU9Qy5nZXRWYWwoYykpO2IubmFtZXx8KGIubmFtZT1hLmdldEF0dHJpYnV0ZSgiY29udGVudCIpfHxhLmlubmVyVGV4dHx8YS5nZXRBdHRyaWJ1dGUoImhyZWYiKSk7cmV0dXJuIGJ9LGEpfX0sX2dldFR5cGU6ZnVuY3Rpb24oYSl7YT1hLmdldEF0dHJpYnV0ZSgiaXRlbXR5cGUiKXx8IiI7cmV0dXJuKGE9dGhpcy50eXBlc1JlZ0V4cC5leGVjKGEpKT90aGlzLnR5cGVzTWFwW2FbMV1dOjF9LF9nZXRDb250ZW50RGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5lbGVtZW50JiYKYS5lbGVtZW50LmlubmVyVGV4dCYmYS5lbGVtZW50LmlubmVyVGV4dC5sZW5ndGg/cGIuc3VwZXJjbGFzcy5fZ2V0Q29udGVudERhdGEuY2FsbCh0aGlzLGEpOm51bGx9LF9maW5kQ29udGVudERlc2NyaXB0aW9uTm9kZXM6ZnVuY3Rpb24oKXt2YXIgYT1oLm1hcChmdW5jdGlvbihhKXtyZXR1cm4nW2l0ZW10eXBlJFx4M2Qic2NoZW1hLm9yZy8nK2ErJyJdJ30sdGhpcy5zY2hlbWFFbnRpdGllc1sic2NoZW1hLm9yZyJdKS5qb2luKCIsIik7cmV0dXJuIEMuc2VsZWN0KHQsYSl9fSksZWI9ZGIuaW5oZXJpdCh7aWQ6ImoiLGRhdGFOb2Rlc1NlbGVjdG9yOidzY3JpcHRbdHlwZVx4M2QiYXBwbGljYXRpb24vbGQranNvbiJdLHNjcmlwdFt0eXBlXHgzZCJhcHBsaWNhdGlvbi9qc29uK2xkIl0sc2NyaXB0W3R5cGVceDNkImxkK2pzb24iXSxzY3JpcHRbdHlwZVx4M2QianNvbitsZCJdJyxpc0F1dGhvcnNJblRpdGxlOiEwLGZpZWxkczp7bm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fZ2V0Q29udGVudE5vZGUoYSl9LAppZDpmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGFbIkBpZCJdO2E9YS5kYXRhLm1haW5FbnRpdHl8fGEuZGF0YS5tYWluRW50aXR5T2ZQYWdlOyFiJiZhJiYoYj1hWyJAaWQiXSk7cmV0dXJuIGJ9LGNoYXJzOmZ1bmN0aW9uKGEpe3JldHVybiJzdHJpbmciPT09dHlwZW9mIGEuZGF0YS50ZXh0P2EuZGF0YS50ZXh0Lmxlbmd0aDp0aGlzLl9nZXRDb250ZW50Tm9kZShhKS5pbm5lclRleHQubGVuZ3RofSxhdXRob3JzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2I9Yi5jb25jYXQodGhpcy5fZXh0cmFjdEFycmF5RmllbGQoYS5kYXRhLCJhdXRob3IiLFsibmFtZSJdKSk7Yj1iLmNvbmNhdCh0aGlzLl9leHRyYWN0QXJyYXlGaWVsZChhLmRhdGEubWFpbkVudGl0eSwiYXV0aG9yIixbIm5hbWUiXSkpO3JldHVybiBiLmNvbmNhdCh0aGlzLl9leHRyYWN0QXJyYXlGaWVsZChhLmRhdGEubWFpbkVudGl0eU9mUGFnZSwiYXV0aG9yIixbIm5hbWUiXSkpfSxwYWdlVGl0bGU6ZnVuY3Rpb24oYSl7dmFyIGI9CmEuZGF0YS5oZWFkbGluZXx8IiI7YS5kYXRhLmFsdGVybmF0aXZlSGVhZGxpbmUmJihiKz0iICIrYS5kYXRhLmFsdGVybmF0aXZlSGVhZGxpbmUpOyIiPT09YiYmKGEuZGF0YS5uYW1lP2I9YS5kYXRhLm5hbWU6YS5kYXRhLml0ZW1SZXZpZXdlZCYmKGI9YS5kYXRhLml0ZW1SZXZpZXdlZCkpOzM9PT1hLnR5cGUmJmEuZGF0YS5wYXJlbnRJdGVtJiYoYj1hLmRhdGEucGFyZW50SXRlbS50ZXh0KTtyZXR1cm4gYn0sdXBkYXRlRGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5kYXRhLmRhdGVNb2RpZmllZHx8IiJ9LHB1YmxpY2F0aW9uRGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5kYXRhLmRhdGVQdWJsaXNoZWR8fCIifSxwYWdlVXJsQ2Fub25pY2FsOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRhdGEudXJsfSx0b3BpY3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2V4dHJhY3RBcnJheUZpZWxkKGEuZGF0YSwiYWJvdXQiLFsibmFtZSIsImFsdGVybmF0ZU5hbWUiXSl9LHJ1YnJpYzpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5fZ2V0Q29udGVudE5vZGUoYSksYz1bXSxkPXRoaXM7aC5tYXAoZnVuY3Rpb24oYSl7YT1hYS5wYXJzZShhLmlubmVyVGV4dCk7dmFyIGI7YSYmKChiPWQuX2dldEdyYXBoKGEpKT9oLm1hcChmdW5jdGlvbihhKXsiQnJlYWRjcnVtYkxpc3QiPT09YVsiQHR5cGUiXSYmYy5wdXNoKGEpfSxiKToiQnJlYWRjcnVtYkxpc3QiPT09YVsiQHR5cGUiXSYmYy5wdXNoKGEpKX0sW2EuZWxlbWVudF0uY29uY2F0KGgudG9BcnJheShDLnNlbGVjdCh0LmJvZHk9PT1iP3QuZG9jdW1lbnRFbGVtZW50OmIsdGhpcy5kYXRhTm9kZXNTZWxlY3RvcikpKSk7cmV0dXJuIGMubGVuZ3RoJiYoYz1jWzBdLml0ZW1MaXN0RWxlbWVudCxoLmlzQXJyYXkoYykpP2guZmlsdGVyKEJvb2xlYW4saC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaXRlbSYmIWlzTmFOKGEucG9zaXRpb24pP3tuYW1lOmEuaXRlbS5uYW1lfHxhLm5hbWUscG9zaXRpb246YS5wb3NpdGlvbn06bnVsbH0sYykpOltdfX0sX2V4dHJhY3RBcnJheUZpZWxkOmZ1bmN0aW9uKGEsCmIsYyl7aWYoIWF8fCFhW2JdKXJldHVybltdO2E9aC5pc0FycmF5KGFbYl0pP2FbYl06W2FbYl1dO2E9aC5maWx0ZXIoQm9vbGVhbixoLm1hcChmdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKCFhKXJldHVybiBiO2lmKCJzdHJpbmciPT09dHlwZW9mIGEpcmV0dXJuIGE7aC5tYXAoZnVuY3Rpb24oYyl7Yj1iP2I6YVtjXX0sYyk7cmV0dXJuIGJ9LGEpKTtyZXR1cm4gaC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6YX19LGEpfSxfZ2V0Q29udGVudE5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5lbGVtZW50LGM9YS5kYXRhWyJAaWQiXTthPWEuZGF0YS51cmw7dmFyIGQsZj1iLnBhcmVudE5vZGU7YSYmInN0cmluZyI9PT10eXBlb2YgYSYmKGQ9dGhpcy5fZXh0cmFjdEVsZW1lbnRCeUhhc2hlZFVybChhKSk7IWQmJmMmJiJzdHJpbmciPT09dHlwZW9mIGMmJihkPXRoaXMuX2V4dHJhY3RFbGVtZW50QnlIYXNoZWRVcmwoYykpO3JldHVybiBkP2Q6Qy5jbG9zZXN0KGIsImhlYWQiKXx8MD09PQpmLmlubmVyVGV4dC5sZW5ndGg/bS5kb2N1bWVudC5ib2R5OmZ9LF9leHRyYWN0RWxlbWVudEJ5SGFzaGVkVXJsOmZ1bmN0aW9uKGEpe3ZhciBiLGM7dHJ5e2lmKGI9aC5wYXJzZVVybChhKS5oYXNoKWlmKGM9Qy5zZWxlY3RPbmUodC5ib2R5LGIpKXJldHVybiBjfWNhdGNoKGQpe3JldHVybiBudWxsfX0sX3BhcnNlVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50eXBlc01hcFthWyJAdHlwZSJdXXx8MX0sX2dldENvbnRlbnREYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZWxlbWVudCxjPXRoaXMsZD1bXSxmO2lmKCFhLmRhdGEmJihhLmRhdGE9YWEucGFyc2UoYi5pbm5lclRleHQpLCFhLmRhdGF8fCEvc2NoZW1hXC5vcmcvLnRlc3QoYS5kYXRhWyJAY29udGV4dCJdKSYmIWguaXNBcnJheShhLmRhdGEpKSlyZXR1cm4gbnVsbDtpZihkPXRoaXMuX2dldEdyYXBoKGEuZGF0YSkpcmV0dXJuIGgubWFwKGZ1bmN0aW9uKGEpe2lmKCFoLmluQXJyYXkoYy5zY2hlbWFFbnRpdGllc1sic2NoZW1hLm9yZyJdLAphWyJAdHlwZSJdKSlyZXR1cm4gbnVsbDthPXtlbGVtZW50OmIsZGF0YTphLHR5cGU6Yy5fcGFyc2VUeXBlKGEpfTtyZXR1cm4gZWIuc3VwZXJjbGFzcy5fZ2V0Q29udGVudERhdGEuY2FsbChjLGEpfSxkKTsiUUFQYWdlIj09PWEuZGF0YVsiQHR5cGUiXSYmKGY9YS5kYXRhLm1haW5FbnRpdHl8fGEuZGF0YS5tYWluRW50aXR5T2ZQYWdlKTsiUXVlc3Rpb24iPT09YS5kYXRhWyJAdHlwZSJdJiYoZj1hLmRhdGEpO2lmKGYpcmV0dXJuIGE9aC5yZWR1Y2UoZnVuY3Rpb24oYSxiKXt2YXIgYz1mW2JdfHxbXTtyZXR1cm4gYS5jb25jYXQoaC5pc0FycmF5KGMpP2M6W2NdKX0sW10sWyJhY2NlcHRlZEFuc3dlciIsInN1Z2dlc3RlZEFuc3dlciJdKSxoLm1hcChmdW5jdGlvbihhKXtpZighaC5pbkFycmF5KGMuc2NoZW1hRW50aXRpZXNbInNjaGVtYS5vcmciXSxhWyJAdHlwZSJdKSlyZXR1cm4gbnVsbDthPXtlbGVtZW50OmIsdHlwZTpjLl9wYXJzZVR5cGUoYSksZGF0YTpoLm1peGluKHtwYXJlbnRJdGVtOmZ9LAphKX07cmV0dXJuIGViLnN1cGVyY2xhc3MuX2dldENvbnRlbnREYXRhLmNhbGwoYyxhKX0sYSk7aWYoIWguaW5BcnJheSh0aGlzLnNjaGVtYUVudGl0aWVzWyJzY2hlbWEub3JnIl0sYS5kYXRhWyJAdHlwZSJdKSlyZXR1cm4gbnVsbDtkPXRoaXMuX3BhcnNlVHlwZShhLmRhdGEpO3JldHVybiBkPWViLnN1cGVyY2xhc3MuX2dldENvbnRlbnREYXRhLmNhbGwodGhpcyxoLm1peGluKGEse3R5cGU6ZH0pKX0sX2ZpbmRDb250ZW50RGVzY3JpcHRpb25Ob2RlczpmdW5jdGlvbigpe3JldHVybiBDLnNlbGVjdChtLmRvY3VtZW50LHRoaXMuZGF0YU5vZGVzU2VsZWN0b3IpfSxfZ2V0R3JhcGg6ZnVuY3Rpb24oYSl7cmV0dXJuIGguaXNBcnJheShhKSYmYXx8YSYmaC5pc0FycmF5KGFbIkBncmFwaCJdKSYmYVsiQGdyYXBoIl19fSksRWI9ZGIuaW5oZXJpdCh7aWQ6Im8iLGZpZWxkczp7bm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fZ2V0Q29udGVudE5vZGUoYSl9LGNoYXJzOmZ1bmN0aW9uKGEpe2E9CnRoaXMuX2dldENvbnRlbnROb2RlKGEpO3JldHVybiBhLmlubmVyVGV4dD9hLmlubmVyVGV4dC5sZW5ndGg6MH0sYXV0aG9yczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fZ2V0QXJyYXlWYWx1ZShhLmRhdGEuYXV0aG9yKX0scGFnZVRpdGxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9nZXRTaW1wbGVWYWx1ZShhLmRhdGEudGl0bGUpfHwiIn0sdXBkYXRlRGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fZ2V0U2ltcGxlVmFsdWUoYS5kYXRhLm1vZGlmaWVkX3RpbWUpfSxwdWJsaWNhdGlvbkRhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2dldFNpbXBsZVZhbHVlKGEuZGF0YS5wdWJsaXNoZWRfdGltZSl9LHBhZ2VVcmxDYW5vbmljYWw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2dldFNpbXBsZVZhbHVlKGEuZGF0YS51cmwpfSx0b3BpY3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2dldEFycmF5VmFsdWUoYS5kYXRhLnRhZyl9LHJ1YnJpYzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fZ2V0QXJyYXlWYWx1ZShhLmRhdGEuc2VjdGlvbil9fSwKX2dldEFycmF5VmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/aC5pc0FycmF5KGEpP2gubWFwKGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmF9fSxhKTpbe25hbWU6YX1dOltdfSxfZ2V0U2ltcGxlVmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIGguaXNBcnJheShhKT9hLmxlbmd0aD9hWzBdOm51bGw6YX0sX2ZpbmRDb250ZW50RGVzY3JpcHRpb25Ob2RlczpmdW5jdGlvbigpe3ZhciBhPVt0LmhlYWRdLGI9Qy5zZWxlY3QodC5ib2R5LCdtZXRhW3Byb3BlcnR5XHgzZCJvZzp0eXBlIl0nKTtiJiYoYT1hLmNvbmNhdChbXS5tYXAuY2FsbChiLGZ1bmN0aW9uKGEpe3JldHVybiBhfSkpKTtyZXR1cm4gYX0sX2dldEVudGl0eURhdGE6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPWEuZWxlbWVudCxmPXt9LGw9dGhpcy5fZ2V0Q29udGVudE5vZGUoYSk7ZD1DLnNlbGVjdChkPT09dC5oZWFkP2Q6bCwibWV0YVtwcm9wZXJ0eV0iKTt2YXIgZyxuPW5ldyBSZWdFeHAoIl4ob2c6KT8oKCIrdGhpcy5zY2hlbWFFbnRpdGllcy5vcGVuZ3JhcGguam9pbigifCIpKwoiKTopPyIpO2lmKGQmJmQubGVuZ3RoKWgubWFwKGZ1bmN0aW9uKGEpe3RyeXtpZihnPWEucGFyZW50Tm9kZT09PWx8fGEucGFyZW50Tm9kZT09PW0uZG9jdW1lbnQuaGVhZCliPWEuZ2V0QXR0cmlidXRlKCJwcm9wZXJ0eSIpLnJlcGxhY2UobiwiIiksYz1hLmdldEF0dHJpYnV0ZSgiY29udGVudCIpLGZbYl0/aC5pc0FycmF5KGZbYl0pP2ZbYl0ucHVzaChjKTpmW2JdPVtmW2JdLGNdOmZbYl09Y31jYXRjaCh3KXt9fSxkKTtlbHNlIHJldHVybiBudWxsO3JldHVybiBoLmluQXJyYXkodGhpcy5zY2hlbWFFbnRpdGllcy5vcGVuZ3JhcGgsZi50eXBlKT9oLm1peGluKGEse2RhdGE6Zn0pOm51bGx9LF9nZXRDb250ZW50Tm9kZTpmdW5jdGlvbihhKXthPWEuZWxlbWVudDtyZXR1cm4gYT09PXQuaGVhZD90LmJvZHk6YS5wYXJlbnRFbGVtZW50fSxfZ2V0Q29udGVudERhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5fZ2V0RW50aXR5RGF0YShhKSk/RWIuc3VwZXJjbGFzcy5fZ2V0Q29udGVudERhdGEuY2FsbCh0aGlzLAphKTpudWxsfX0pLG9jPUouaW5oZXJpdCh7YnVmZmVyOm51bGwsbWV0YTohMSxhY3RpdmVFdmVudHM6InBhZ2UgcmVzaXplIHNjcm9sbCBtb3VzZW1vdmUgbW91c2Vkb3duIGNsaWNrIHdpbmRvd2ZvY3VzIGtleXN0cm9rZSBkZXZpY2VSb3RhdGlvbiBpbnB1dCB0b3VjaG1vdmUgdG91Y2hzdGFydCIuc3BsaXQoIiAiKSxpc1N0b3BwZWQ6ITEsc2NoZW1hczp7anNvbl9sZDplYixzY2hlbWE6cGIsbWljcm9kYXRhOnBiLG9wZW5ncmFwaDpFYn0sY2hlY2tTaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPSJwYWkiK3RoaXMuX3NjaGVtYS5pZCxjPXRoaXMuZ2xvYmFsQ29uZmlnLmdldChiLFtdKTtjLnB1c2goZnVuY3Rpb24oYil7IWEuaXNTdG9wcGVkJiZiLmxlbmd0aCYmKGEuZmluZENvbnRlbnQoYiksYS5tZXRhPWEuZ2V0TWV0YSgpLGEuc2VuZCgpKX0pO3RoaXMuZ2xvYmFsQ29uZmlnLnNldFNhZmUoYixjKTtpZigxPT1jLmxlbmd0aCl7dmFyIGQ9ZnVuY3Rpb24oYyl7dmFyIGY9YS5nbG9iYWxDb25maWcuZ2V0KGIpLApnPWEuX3NjaGVtYS5maW5kQ29udGVudCgpO2EuZmluZENvbnRlbnQoZyk7YS5tZXRhPWEuZ2V0TWV0YSgpO3ZhciBtPWgudG9KU09OKGEubWV0YSk7aWYoIWEuaXNTdG9wcGVkKXtpZihjIT09bSlmb3IoYz0wO2M8Zi5sZW5ndGg7YysrKXt2YXIgcj1oLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gaC5taXhpbih7fSxhKX0sZyk7ZltjXShyKX1hLnRpbWVvdXQ9aC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZChtKX0sMUUzKX19O2QoKX19LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZD0hMH0sZ2V0QnVmZmVyRGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1ldGEubGVuZ3RoP3t0eXBlOiJwdWJsaXNoZXJzSGVhZGVyIixkYXRhOnthcnRpY2xlTWV0YTp0aGlzLm1ldGF8fHt9LGludm9sdmVkVGltZTpNYXRoLm1heCh0aGlzLmludm9sdmVkVGltZSwwKX19Om51bGx9LGZpbmRDb250ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWgubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlkfSx0aGlzLmFydGljbGVzKTsKdGhpcy5hcnRpY2xlcz10aGlzLmFydGljbGVzLmNvbmNhdChoLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4haC5pbkFycmF5KGIsYS5pZCl9LGEpKX0sZ2V0U2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGw9e3g6bS5wYWdlWE9mZnNldHx8dGhpcy5yb290LnNjcm9sbExlZnQseTptLnBhZ2VZT2Zmc2V0fHx0aGlzLnJvb3Quc2Nyb2xsVG9wfX0sX2luaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT11LmdldFZpZXdwb3J0U2l6ZSgpO3RoaXMuaGFuZGxlcnM9W107dGhpcy5ldmVudHM9W107dGhpcy5hcnRpY2xlcz1bXTt0aGlzLnJvb3Q9dS5nZXRSb290RWxlbWVudCgpO3RoaXMuZ2V0U2Nyb2xsKCk7dGhpcy52aWV3Ym94PXt3aWR0aDphWzBdLGhlaWdodDphWzFdfX0sZ2V0TWV0YTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1bXTt0aGlzLmdldFNjcm9sbCgpO3ZhciBjPWgubWFwKGZ1bmN0aW9uKGMpe2lmKGEuaXNSZW1vdmVkRnJvbURvYyhjLmVsZW1lbnQpKXt2YXIgZD1udWxsOwpiLnB1c2goYyl9ZWxzZSBkPXtpZDpjLmlkLGludm9sdmVkVGltZTpNYXRoLm1heChjLmludm9sdmVkVGltZSwwKSxtYXhTY3JvbGxlZDpjLm1heFNjcm9sbGVkfHwwLGNoYXJzOmMudXBkYXRlP2MudXBkYXRlKCJjaGFycyIpOjB9LGMubm9kZSYmaC5pc0Z1bmN0aW9uKGMubm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpJiYoYz1jLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZC54PU1hdGgucm91bmQoYy5sZWZ0KSthLnNjcm9sbC54LGQueT1NYXRoLnJvdW5kKGMudG9wKSthLnNjcm9sbC55LGQud2lkdGg9TWF0aC5yb3VuZChjLndpZHRoKSxkLmhlaWdodD1NYXRoLnJvdW5kKGMuaGVpZ2h0KSk7cmV0dXJuIGR9LHRoaXMuYXJ0aWNsZXMpO2gubWFwKGZ1bmN0aW9uKGIpe2I9aC5hcnJheUluZGV4T2YoYS5hcnRpY2xlcyxiKTthLmFydGljbGVzLnNwbGljZShiLDEpfSxiKTtyZXR1cm4gYz1oLmZpbHRlcihCb29sZWFuLGMpfSxpc1JlbW92ZWRGcm9tRG9jOmZ1bmN0aW9uKGEpe3JldHVybiB1LmNsb3Nlc3QoYSwKImh0bWwiKSE9PW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSxnZXRBcnRpY2Fsc1RvU2VuZDpmdW5jdGlvbigpe3ZhciBhPVtdLGI7Zm9yKGI9MDtiPHRoaXMuYXJ0aWNsZXMubGVuZ3RoO2IrKylpZighdGhpcy5hcnRpY2xlc1tiXS5zZW5kZWQpe3ZhciBjPWgubWl4aW4oe30sdGhpcy5hcnRpY2xlc1tiXSk7ZGVsZXRlIGMuZWxlbWVudDtkZWxldGUgYy5ub2RlO2RlbGV0ZSBjLnNlbmRlZDtkZWxldGUgYy5pbmRleDtkZWxldGUgYy5pbnZvbHZlZFRpbWU7ZGVsZXRlIGMudmlzaWJpbGl0eTtkZWxldGUgYy5tYXhTY3JvbGxlZDtkZWxldGUgYy51cGRhdGU7ZGVsZXRlIGMudHlwZTthLnB1c2goYyl9cmV0dXJuIGF9LHNlbmQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEFydGljYWxzVG9TZW5kKCk7YS5sZW5ndGgmJih0aGlzLnB1c2goe2FydGljbGVJbmZvOmF9KSxULmxvZygiUHVibGlzaGVyIGNvbnRlbnQgaW5mbyBmb3VuZDoiLGEpLGguYXJyYXlFdmVyeSh0aGlzLmFydGljbGVzLApmdW5jdGlvbihhKXthLnNlbmRlZD0hMDtyZXR1cm4gMX0pKX0sc3RhcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXRoaXMuZ2xvYmFsQ29uZmlnLmdldCgiY291bnRlcnMiLHt9KVt0aGlzLmNvdW50ZXJJZCsiOjAiXTthJiZhLnNjaGVtYSYmYyYmYy50cCYmKGEuc2NoZW1hPSJtaWNyb2RhdGEiKTthJiZhLnNjaGVtYSYmdGhpcy5zY2hlbWFzW2Euc2NoZW1hXSYmbS5kb2N1bWVudCYmaC5pc05hdGl2ZUZ1bmN0aW9uKG0uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCwicXVlcnlTZWxlY3RvckFsbCIpPyh0aGlzLmdsb2JhbENvbmZpZy5zZXRTYWZlKCJwYWkiLGZ1bmN0aW9uKCl7cmV0dXJuIGgucmVkdWNlKGZ1bmN0aW9uKGEsYil7KGEudmlzaWJpbGl0eXx8MCk8PWIudmlzaWJpbGl0eSYmKGE9Yik7cmV0dXJuIGF9LHt9LGIuYXJ0aWNsZXMpLmlkfSksdGhpcy5fc2NoZW1hPW5ldyB0aGlzLnNjaGVtYXNbYS5zY2hlbWFdLHRoaXMuX3NjaGVtYS5yb290PXRoaXMucm9vdCxULmxvZygnUHVibGlzaGVycyBhbmFseXRpY3Mgc2NoZW1hICInKwphLnNjaGVtYSsnIicpLHRoaXMuY2hlY2tTaXplKCkpOnRoaXMuc3RvcCgpfSxwdXNoOmZ1bmN0aW9uKGEpe2guYXJyYXlFdmVyeSh0aGlzLmhhbmRsZXJzLGZ1bmN0aW9uKGIpe2IoYSk7cmV0dXJuIDF9KTt0aGlzLmV2ZW50cy5wdXNoKGEpfSxtaWRkbGV3YXJlOmZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlcnMucHVzaChhKTtoLmFycmF5RXZlcnkodGhpcy5ldmVudHMsZnVuY3Rpb24oYil7YShiKX0pfSxsYXN0U3RhbXA6MCxpbnZvbHZlZFRpbWU6MCxNQVhfSU5BQ1RJVkU6NUUzLHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz0iZXZlbnQiIT09YT9hOmIudHlwZTtpZihoLmluQXJyYXkodGhpcy5hY3RpdmVFdmVudHMsYykpeyJzY3JvbGwiPT1jJiZiLm1ldGEmJmIubWV0YS5wYWdlJiYodGhpcy5zY3JvbGw9Yi5tZXRhKTsicmVzaXplIj09YyYmMD09Yi50YXJnZXQmJih0aGlzLnZpZXdib3g9Yi5tZXRhKTt2YXIgZD15LmdldE1zKCktdGhpcy5sYXN0U3RhbXA7ZD1NYXRoLm1pbihkLAp0aGlzLk1BWF9JTkFDVElWRSk7dGhpcy5pbnZvbHZlZFRpbWUrPU1hdGgucm91bmQoZCk7dGhpcy5sYXN0U3RhbXA9eS5nZXRNcygpO3RoaXMubWV0YSYmdGhpcy5zY3JvbGwmJnRoaXMudmlld2JveCYmaC5hcnJheUV2ZXJ5KHRoaXMuYXJ0aWNsZXMsZnVuY3Rpb24oYSl7aWYodGhpcy5pc1JlbW92ZWRGcm9tRG9jKGEuZWxlbWVudCkpcmV0dXJuIDE7dmFyIGI9aC5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGIuaWQ9PT1hLmlkfSx0aGlzLm1ldGEpLnBvcCgpO2lmKCFiKXJldHVybiBsYShFcnJvcigiQ2FuJ3QgZmluZCBtZXRhIiksInAudCIpLDE7dmFyIGM9TWF0aC5tYXgoKE1hdGgubWluKHRoaXMuc2Nyb2xsLnkrdGhpcy52aWV3Ym94LmhlaWdodCxiLnkrYi5oZWlnaHQpLU1hdGgubWF4KHRoaXMuc2Nyb2xsLnksYi55KSkvdGhpcy52aWV3Ym94LmhlaWdodCwwKTt2YXIgZj1NYXRoLm1heCgodGhpcy5zY3JvbGwueSt0aGlzLnZpZXdib3guaGVpZ2h0LWIueSkvYi5oZWlnaHQsCjApO2EuaW52b2x2ZWRUaW1lKz1NYXRoLnJvdW5kKGMqZCk7YS5tYXhTY3JvbGxlZD1NYXRoLnJvdW5kKDFFNCpmKS8xRTQ7YS52aXNpYmlsaXR5PWM7Yi5pbnZvbHZlZFRpbWU9YS5pbnZvbHZlZFRpbWU7cmV0dXJuIDF9LHRoaXMpfX19KSxGYj1KLmluaGVyaXQoe2hpZDowLHR6OjAsdHM6MCxjb3VudGVySWQ6MCxjb3VudGVyVHlwZTowLHVybDoiIixwcm90b2NvbDoiIixleGVjdXRvcjpuYixlbmFibGVkOiExLF9tYXA6e3BhZ2U6e2l0ZXJhdGU6ITEsbmFtZToicGFnZSJ9LGV2ZW50czp7aXRlcmF0ZTohMCxuYW1lOiJldmVudCJ9LG11dGF0aW9uczp7aXRlcmF0ZTohMCxuYW1lOiJtdXRhdGlvbiJ9LGFydGljbGVJbmZvOntpdGVyYXRlOiEwLG5hbWU6ImFydGljbGVJbmZvIn19LF9nZXRCdWZmZXJUeXBlOmZ1bmN0aW9uKCl7dmFyIGE9YmIsYj0hMTtpZighVC5lbmFibGVkJiZDYil7dHJ5e2I9KGI9Mj09PShuZXcgQmxvYihbIlx1MDBlNCJdKSkuc2l6ZSkmJjI9PT0obmV3IEJsb2IoW25ldyBtLlVpbnQ4QXJyYXkoWzEsCjJdKV0pKS5zaXplfWNhdGNoKGMpe31iJiZtLlVpbnQ4QXJyYXkmJm0uVWludDhBcnJheS5wcm90b3R5cGUuc2xpY2UmJihhPURiKX1yZXR1cm4gYX0sX2luaXRDb21wb25lbnQ6RChmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2dldEJ1ZmZlclR5cGUoKTt0aGlzLl9sb2NhbFN0b3JhZ2U9bmV3IFkoe2NvdW50ZXJJZDp0aGlzLmNvdW50ZXJJZH0pO3ZhciBiPXRoaXMuX2xvY2FsU3RvcmFnZS5nZXQoInBhaSIpO3ZhciBjPXRoaXMuX2dldFN0b3JhZ2UoKTt2YXIgZD1jLnJlYWQoInZpc29yYyIpOyJiIiE9PWQmJiJ3IiE9PWQmJihkPSIiKTtpZighYy5pc0VuYWJsZWQoKXx8amIoIm9wZXJhIG1pbmkiKSlkPSJiIjt0aGlzLl9wdWJsaXNoZXI9bmV3IG9jKHtjb3VudGVySWQ6dGhpcy5jb3VudGVySWQsZ2xvYmFsQ29uZmlnOnRoaXMuZ2xvYmFsQ29uZmlnfSk7dGhpcy5fdmM9ZDtjPXtwcm90b2NvbDp0aGlzLnByb3RvY29sLGNvdW50ZXJJZDp0aGlzLmNvdW50ZXJJZCxjb3VudGVyVHlwZTp0aGlzLmNvdW50ZXJUeXBlLApnbG9iYWxDb25maWc6dGhpcy5nbG9iYWxDb25maWcsbWV0YTp7dXJsOnRoaXMudXJsLGhpdElkOnRoaXMuaGlkLHRpbWV6b25lOnRoaXMudHosdGltZXN0YW1wOnRoaXMudHN9fTt0aGlzLl9yZWNvcmRlcj1uZXcgWmIoe2NvdW50ZXJJZDp0aGlzLmNvdW50ZXJJZCx0cnVzdGVkRG9tYWluczp0aGlzLnRydXN0ZWREb21haW5zLGNoaWxkSWZyYW1lOnRoaXMuY2hpbGRJZnJhbWV9KTt0aGlzLl9idWZmZXI9bmV3IGEoaC5taXhpbih7fSxjLHt0b3RhbFNlbmRMaW1pdDozMTQ1NzI4MCxicm93c2VySW5mb01peDp7YnQ6MX19KSk7dGhpcy5fZXZlbnRzQnVmZmVyPW5ldyBhKGgubWl4aW4oYyxiJiZ7YnJvd3NlckluZm9NaXg6e3BhaTpifX0pKTt0aGlzLl9sb2NhbFN0b3JhZ2UucmVtb3ZlKCJwYWkiKTt0aGlzLl9idWZmZXIuYWN0aXZhdGUoKTt0aGlzLl9ldmVudHNCdWZmZXIuYWN0aXZhdGUoKTsiYiIhPT1kJiYodGhpcy5fZm9ybVJlY29yZGVyPW5ldyBTYih0aGlzLnByb3RvY29sLHRoaXMuY291bnRlcklkLAp0aGlzLmNvdW50ZXJUeXBlLHRoaXMuaGlkLHRoaXMuZ2xvYmFsQ29uZmlnKSx0aGlzLl9yZWNvcmRlci5vbigiZXJyb3IiLGZ1bmN0aW9uKGEpe2xhKGEuZXJyb3IsYS5uYW1lc3BhY2UpfSksdGhpcy5fYWN0aXZpdHk9bmV3IG5jKTtGYi5zdXBlcmNsYXNzLl9pbml0Q29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sInd2Mi5pbml0Iiksc3RhcnQ6RChmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD10aGlzLl92YztpZih0aGlzLl9yZWNvcmRlcil7YT1hfHx7fTt2YXIgZj0rYS5yZWNwO2lmKCFpc0Zpbml0ZShmKXx8MD5mfHwxPGYpZD0idyI7ZHx8KGQ9dGhpcy5oaWQlMUU0LzFFNDxmPyJ3IjoiYiIpO3RoaXMuX2dldFN0b3JhZ2UoKS5jcmVhdGUoInZpc29yYyIsZCwzMCk7dGhpcy5fcHVibGlzaGVyLnN0YXJ0KGIpOyJ3Ij09PWQmJnRoaXMuaXNFbmFibGVkKCkmJnRoaXMuZ2xvYmFsQ29uZmlnLnNldFNhZmUoInd2MkNvdW50ZXIiLHRoaXMuY291bnRlcklkKTsidyI9PT0KZCYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5faXNDb3JyZWN0Q291bnRlcigpPyh0aGlzLl9yZWNvcmRlci5taWRkbGV3YXJlKGZ1bmN0aW9uKGEpe2Muc2VuZChhLmRhdGEpfSksdGhpcy5fcmVjb3JkZXIuaW5pdCgpLHRoaXMuX2V2ZW50c0J1ZmZlci53cmFwcGVycy5wdXNoKHRoaXMuX2FjdGl2aXR5KSx0aGlzLl9yZWNvcmRlci5zdGFydChhKSx0aGlzLl9mb3JtUmVjb3JkZXIuc3RhcnQoKSx0aGlzLmdsb2JhbENvbmZpZy5nZXQoInN0b3BSZWNvZGVyIixmdW5jdGlvbigpe30pKCksdGhpcy5nbG9iYWxDb25maWcuc2V0KCJzdG9wUmVjb2RlciIsZnVuY3Rpb24oKXtjLnN0b3AoKX0pKTp0aGlzLl9wdWJsaXNoZXImJiF0aGlzLl9wdWJsaXNoZXIuaXNTdG9wcGVkPyh0aGlzLl9yZWNvcmRlci5taWRkbGV3YXJlKGZ1bmN0aW9uKGEpe2Muc2VuZChhLmRhdGEsITApfSksdGhpcy5fcmVjb3JkZXIuaW5pdCh7ZGlzYWJsZUluZGV4OiEwLGRpc2FibGVNdXRhdGlvbnM6ITB9KSx0aGlzLl9yZWNvcmRlci5zdGFydChhKSk6CnRoaXMuc3RvcCgpO3RoaXMuX3B1Ymxpc2hlciYmIXRoaXMuX3B1Ymxpc2hlci5pc1N0b3BwZWQmJih0aGlzLl9ldmVudHNCdWZmZXIud3JhcHBlcnMucHVzaCh0aGlzLl9wdWJsaXNoZXIpLHRoaXMuX2V2ZW50c0J1ZmZlci5zZXRXVlR5cGUodGhpcy5fYnVmZmVyIGluc3RhbmNlb2YgRGI/NTo0KSx0aGlzLl9wdWJsaXNoZXIubWlkZGxld2FyZShmdW5jdGlvbihhKXtjLnNlbmQoYSl9KSl9fSwid3YyLnN0YXJ0Iiksc3RvcDpmdW5jdGlvbigpe3RoaXMuX3B1Ymxpc2hlciYmdGhpcy5fcHVibGlzaGVyLnN0b3AoKTt0aGlzLl9yZWNvcmRlciYmKHRoaXMuX3JlY29yZGVyLnN0b3AoKSx0aGlzLl9mb3JtUmVjb3JkZXImJnRoaXMuX2Zvcm1SZWNvcmRlci5zdG9wKCkpfSxpc0VuYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgYT0hdGhpcy5nbG9iYWxDb25maWcuZ2V0KCJvbyIpO3JldHVybiB0aGlzLmVuYWJsZWQmJm0uTXV0YXRpb25PYnNlcnZlciYmYX0sc2VuZDpmdW5jdGlvbihhLGIpe3ZhciBjPQphLl92O2guZm9yRWFjaEtleShhLGZ1bmN0aW9uKGEsZil7dmFyIGQ9dGhpcy5fbWFwW2FdLGc9dGhpcy5fYnVmZmVyO2lmKGQpe3ZhciBtPWQubmFtZTtoLmluQXJyYXkoWyJldmVudCIsImFydGljbGVJbmZvIl0sbSkmJihnPXRoaXMuX2V2ZW50c0J1ZmZlcik7ZC5pdGVyYXRlP2guZm9yRWFjaEtleShmLGZ1bmN0aW9uKGEsZCl7dmFyIGY9ImVvZiI9PT1kLnR5cGUmJiFkLmZyYW1lSWQsaD1bZ10sbDtmJiYoaD1bdGhpcy5fZXZlbnRzQnVmZmVyLHRoaXMuX2J1ZmZlcl0pO2ZvcihsPTA7bDxoLmxlbmd0aDtsKyspdGhpcy5leGVjdXRvci5hZGRBc3luY0l0ZW0oaFtsXS5hZGREYXRhLGhbbF0sZixbbSxkLGMsZixiXSwic2VuZC4iKyhkP2QudHlwZXx8ZC5ncm91cHx8IiI6ImVtcHR5IikpfSx0aGlzKTpnLmFkZERhdGEobSxmLGMpfX0sdGhpcyl9LGdldFZjOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZjfSxfZ2V0U3RvcmFnZTpmdW5jdGlvbigpe3RoaXMuX3N0b3JhZ2V8fCh0aGlzLl9zdG9yYWdlPQpuZXcgTih7Y291bnRlcklkOnRoaXMuY291bnRlcklkfSkpO3JldHVybiB0aGlzLl9zdG9yYWdlfSxfaXNDb3JyZWN0Q291bnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvdW50ZXJJZD09PXRoaXMuZ2xvYmFsQ29uZmlnLmdldCgid3YyQ291bnRlciIpfX0pLEdiPXtGTjoieW0iLFNUQUNLOiJhIixjb3VudGVyczpbXSx3YWl0UG9vbDp7fSxoYW5kbGU6ZnVuY3Rpb24oYSl7aWYoMj5hLmxlbmd0aClyZXR1cm4gMTt2YXIgYj0iIithWzBdO2guaW5BcnJheShiLCI6Iil8fChiKz0iOjAiKTt2YXIgYz1iLnNwbGl0KCI6IilbMF07dmFyIGQ9YVsxXTt2YXIgZj10aGlzLmdsb2JhbENvbmZpZy5nZXQoImNvdW50ZXJzIix7fSlbYl07ImluaXQiPT1kPyhkPSJ5YUNvdW50ZXIiK2MsbVtkXXx8KGE9aC5taXhpbihhWzJdfHx7fSx7aWQ6K2N9KSxtW2RdPW5ldyBtLllhW3RoaXMuY29uc3RydWN0b3JOYW1lXShhKSkpOmguaW5BcnJheSh0aGlzLmNvdW50ZXJzLGIpJiZmJiZmW2RdPyhhPVtdLnNsaWNlLmNhbGwoYSwKMiksZltkXS5hcHBseShmLGEpKTpoLmluQXJyYXkodGhpcy5jb3VudGVycyxiKXx8KHRoaXMud2FpdFBvb2xbYl18fCh0aGlzLndhaXRQb29sW2JdPVtdKSx0aGlzLndhaXRQb29sW2JdLnB1c2goYSkpO3JldHVybiAxfSxzdWJzY3JpYmU6ZnVuY3Rpb24oYSl7YSYmKHRoaXMuY291bnRlcnMucHVzaChhKSx0aGlzLndhaXRQb29sW2FdJiYoaC5hcnJheUV2ZXJ5KHRoaXMud2FpdFBvb2xbYV0sdGhpcy5oYW5kbGUsdGhpcyksZGVsZXRlIHRoaXMud2FpdFBvb2xbYV0pKX0saW5pdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1tW3RoaXMuRk5dO2lmKGQpe3ZhciBmPWRbdGhpcy5TVEFDS107dGhpcy5jb25zdHJ1Y3Rvck5hbWU9YTt0aGlzLmdsb2JhbENvbmZpZz1iO2Z8fChkW3RoaXMuU1RBQ0tdPWY9W10pO3ZhciBsPWYucHVzaDtmLnB1c2g9ZnVuY3Rpb24oKXt2YXIgYT1sLmFwcGx5KGYsYXJndW1lbnRzKTtoLmFycmF5RXZlcnkoYXJndW1lbnRzLGMuaGFuZGxlLGMpO3JldHVybiBhfTsKZCYmaC5pc0FycmF5KGYpJiZoLmFycmF5RXZlcnkoZix0aGlzLmhhbmRsZSx0aGlzKX19fSxwYz1DYS5pbmhlcml0KHtpZDoic2NyaXB0IixpbmRleDo2LHJlcXVlc3Q6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGY9ITEsbD1oLmdldE5hdGl2ZUZ1bmN0aW9uKCJjcmVhdGVFbGVtZW50Iix0KSgic2NyaXB0Iik7dGhpcy50aW1lb3V0JiZoLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmfHwoZj0hMCx1LnJlbW92ZU5vZGUobCksYy5jYWxsKGQsITEpKX0sdGhpcy50aW1lb3V0LCJ0cy5yZXF1ZXN0Iik7aWYoIWwpcmV0dXJuIGY9ITAsYy5jYWxsKGQsITEpLCExO3ZhciBnPSJfeW1qc3AiK2gucmFuZG9tKCk7bVtnXT1EKGZ1bmN0aW9uKCl7aWYoIWYpe3RyeXtkZWxldGUgbVtnXX1jYXRjaChyKXttW2ddPUF9Yy5hcHBseShkLGgubWVyZ2VBcnJheXMoWyEwXSxhcmd1bWVudHMpKTtmPSEwO3UucmVtb3ZlTm9kZShsKX19LCJ0cmFuc3BvcnQuc2NyaXB0Iik7bC50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiOwpsLnNyYz10aGlzLl9idWlsZFVybChhLGgubWl4aW4oe3dtb2RlOjUsY2FsbGJhY2s6Z30sYikpO2wuYXN5bmM9ImFzeW5jIjt2YXIgbj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF07bnx8KG49dC5jcmVhdGVFbGVtZW50KCJoZWFkIiksdC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQobikpO2guYXN5bmMoZnVuY3Rpb24oKXtuLmluc2VydEJlZm9yZShsLG4uZmlyc3RDaGlsZCl9KTtsLm9uZXJyb3I9ZnVuY3Rpb24oKXtmPSEwO2MuY2FsbChkLCExKTttW2ddPUF9O3JldHVybiEwfX0pLEhiPVphLmluaGVyaXQoe2lkOiJYSFJoaXQiLGluZGV4OjEwLF9idWlsZFVybDpmdW5jdGlvbihhLGIpe2Iud21vZGU9NztyZXR1cm4gSGIuc3VwZXJjbGFzcy5fYnVpbGRVcmwuYXBwbHkodGhpcyxbYSxiXSl9LF9wYXJzZVJlc3A6ZnVuY3Rpb24oYSl7dmFyIGI9YWEucGFyc2UoYSk7aWYoIWIpdGhyb3ciIjtyZXR1cm4gaC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGJbYV19LGgua2V5cyhiKSl9fSksCnFiPVNhLmluaGVyaXQoe3RyYW5zcG9ydHM6W0hiLHBjXSx0cmltUGFyYW1zOiEwLF9pbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7cWIuc3VwZXJjbGFzcy5faW5pdENvbXBvbmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5faWxTdG9yYWdlPW5ldyBZKHtjb3VudGVySWQ6dGhpcy5jb3VudGVySWR9KX0scG9zdFBhcmFtczpbXSxjaGVja1lhbmRleEhvc3Q6ZnVuY3Rpb24oYSl7aWYoYSl7YTp7aWYoYT1oLnBhcnNlVXJsKGEpLmhvc3QubWF0Y2goLyg/Ol58XC4pKD86eWF8eWFuZGV4KVwuKD86XHcrfGNvbT9cLlx3KykkLykpaWYoYT1hWzBdLnNwbGl0KCJ5YW5kZXgiKS5yZXZlcnNlKClbMF0uc3Vic3RyaW5nKDEpLC0xIT1oLmFycmF5SW5kZXhPZih6YixhKSlicmVhayBhO2E9ITF9YSYmKHRoaXMuaG9zdD0ibWMueWFuZGV4LiIrYSl9fSxzZW5kSGl0OmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9dGhpcy5faWxTdG9yYWdlLmdldCgiaWwiKTthLnZpc2l0Q29sb3ImJihiLnZjPQphLnZpc2l0Q29sb3IpO2MmJih0aGlzLl9pbFN0b3JhZ2UucmVtb3ZlKCJpbCIpLGIuaWx0PWthLmVuY29kZShSYS5lbmNvZGUoaC50cmltKGMsSWIpKSkpO3RoaXMuY2hlY2tZYW5kZXhIb3N0KGEucmVmZXJyZXIpO3RoaXMuX2hpdEV4dCh7dXJsOmEudXJsLGZvcmNlTm9SZWRpcmVjdDphLmZvcmNlTm9SZWRpcmVjdCxub2hpdDphLm5vaGl0LGhhc1ByZXJlbmRlcjphLmhhc1ByZXJlbmRlcix0aXRsZTphLnRpdGxlLHJlZmVycmVyOmEucmVmZXJyZXIsdlBhcmFtczphLnZQYXJhbXMsdXNlclBhcmFtczphLnVzZXJQYXJhbXMsZXhwZXJpbWVudHM6YS5leHBlcmltZW50cyxtb2RlczphLm1vZGVzLGJyb3dzZXJJbmZvOmIsdHM6YS50cyx0ejphLnR6LGNhbGxiYWNrOmEuY2FsbGJhY2ssY3R4OmEuY3R4fSwiaGl0Iil9fSksSmI9Si5pbmhlcml0KHtjaWQ6MyxjbnQ6MCxLRVlfTkFNRToid2FzU3luY2VkIixfaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3RoaXMuX3N0b3JhZ2U9bmV3IFk7CnRoaXMuX2Nvb2tpZT1uZXcgTn0saGl0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWI9PT1BPyEwOiExLGY9ZD90aGlzLl9zdG9yYWdlLmdldCh0aGlzLktFWV9OQU1FKTohMSxsPVtdLGc9dGhpcy5nbG9iYWxDb25maWcuZ2V0KCJmYWtlSGl0Iik7aWYoZyYmZClyZXR1cm4gZyhmdW5jdGlvbihiKXthKGIpfSk7IWYmJmQmJihmPXRoaXMuX2Nvb2tpZS5yZWFkKHRoaXMuS0VZX05BTUUpKSYmKGY9YWEucGFyc2UoZikpO2YmJmYucGFyYW1zJiZmLnRpbWUrODY0RTU+eS5nZXRNcygpPyhjLmdsb2JhbENvbmZpZy5zZXRTYWZlKCJpc0VVIixmLnBhcmFtcy5ldSksYShmKSk6KHRoaXMuZ2xvYmFsQ29uZmlnLnNldCgiZmFrZUhpdCIsZnVuY3Rpb24oYSl7bC5wdXNoKGEpfSksdGhpcy5fZ2V0U2VuZGVyKCkuc2VuZEhpdCh7Zm9yY2VOb1JlZGlyZWN0OnRoaXMuZm9yY2VOb1JlZGlyZWN0LGNhbGxiYWNrOmZ1bmN0aW9uKGIsZCl7dmFyIGc9Ynx8e307Zj17dGltZTp5LmdldE1zKCkscGFyYW1zOmcsCmJrUGFyYW1zOmR9O2MuZ2xvYmFsQ29uZmlnLnNldFNhZmUoImlzRVUiLGcuZXUpO2MuX3N0b3JhZ2Uuc2V0KGMuS0VZX05BTUUsZik7Yy5fY29va2llLmNyZWF0ZShjLktFWV9OQU1FLGFhLnN0cmluZ2lmeShmKSwxNzI4KTthKGYpO2MuZ2xvYmFsQ29uZmlnLnNldCgiZmFrZUhpdCIsZnVuY3Rpb24oYSl7YShmKX0pO2guYXJyYXlFdmVyeShsLGZ1bmN0aW9uKGEpe2EoZik7cmV0dXJuIDF9KX19KSl9LF9nZXRTZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLl9zZW5kZXJ8fCh0aGlzLl9zZW5kZXI9bmV3IHFiKHtwcm90b2NvbDoiaHR0cHM6Iixjb3VudGVyVHlwZTp0aGlzLmNudCxjb3VudGVySWQ6dGhpcy5jaWQsc2VuZFRpdGxlOiExLGdsb2JhbENvbmZpZzp0aGlzLmdsb2JhbENvbmZpZyxmYWtlOiEwfSkpO3JldHVybiB0aGlzLl9zZW5kZXJ9fSksS2I9Si5pbmhlcml0KHtiYXNlVXJsOiJtYy55YW5kZXguIixnbG9iYWxDb25maWc6RSxiYXNlVGxkOiJydSIscGFydG5lcnM6eyJtYy5lZGFkZWFsLnJ1Ijp7cmVnZXg6L14oW14vXStcLik/ZWRhZGVhbFwucnUkLywKdGxkOiJydSJ9LCJtYy55YW5kZXhzcG9ydC5ydSI6e3JlZ2V4Oi9eKFteL10rXC4pP3lhbmRleHNwb3J0XC5ydSQvLHRsZDoicnUifSwibWMuYmVydS5ydSI6e3JlZ2V4Oi9eKFteL10rXC4pP2JlcnVcLnJ1JC8sdGxkOiJydSJ9LCJtYy5raW5vcG9pc2sucnUiOntyZWdleDovXihbXi9dK1wuKT9raW5vcG9pc2tcLnJ1JC8sdGxkOiJydSJ9fSxfaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7S2Iuc3VwZXJjbGFzcy5faW5pdENvbXBvbmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5zeW5jVGxkcz1oLnJlZHVjZShmdW5jdGlvbihhLGMpe3JldHVybiBjKGEpfSx6YixbaC5iaW5kKGguZmlsdGVyLG51bGwsZnVuY3Rpb24oYil7cmV0dXJuIGIhPT1hLmJhc2VUbGR9KSxoLmJpbmQoaC5yZWR1Y2UsbnVsbCxmdW5jdGlvbihhLGMpe2FbY109W2NdO3JldHVybiBhfSx7fSldKTtoLmZvckVhY2hLZXkodGhpcy5wYXJ0bmVycyxmdW5jdGlvbihhLGMpe2MucmVnZXgudGVzdChtLmxvY2F0aW9uLmhvc3RuYW1lKSYmCih0aGlzLnN5bmNUbGRzW2MudGxkXXx8KHRoaXMuc3luY1RsZHNbYy50bGRdPVtdKSx0aGlzLnN5bmNUbGRzW2MudGxkXS5wdXNoKGEpLHRoaXMuX3JlcGxhY2VCYXNlW2FdPSEwKX0sdGhpcyl9LF9yZXBsYWNlQmFzZTp7fSxsYW5nVG9Eb21haW46e2thOiJnZSIscm86Im1kIix0ZzoidGoiLHRrOiJ0bSIsZXQ6ImVlIixoeToiY29tLmFtIixoZToiY28ubGkiLGt5OiJrZyIsdWs6InVhIixiZToiYnkiLHRyOiJjb20udHIiLGtrOiJreiJ9LHN5bmM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXRoaXMuX25lZWQoKSxkPS0xIT1NKCkuaG9zdG5hbWUuc2VhcmNoKC8oPzpefFwuKSg/OnlhfHlhbmRleChzcG9ydCk/fGJlcnV8a2lub3BvaXNrfGVkYWRlYWwpXC4oPzpcdyt8Y29tP1wuXHcrKSQvKTtpZih2LmlzSWZyYW1lKCl8fHYuaXNJVFBTYWZhcmkoKSlyZXR1cm4gYSgpO3RoaXMuX2lzKCk/YSgpOihkJiZiLl9zeW5jQWRtZXRyaWNhKCksYz8odGhpcy5fc2V0U3RhdHVzKCEwKSxkPwp0aGlzLl9nZXRDbigpLmhpdChmdW5jdGlvbigpe2IuX3N5bmMoYyxhKX0pOmEoKSk6YSgpKTtkJiZ0aGlzLl9hZGRNZGEoKX0sX2FkZE1kYTpmdW5jdGlvbigpe3ZhciBhPW5ldyBOKHtza2lwUHJlZml4OiEwfSksYj1uZXcgTixjPWEucmVhZCgibWRhIik7IjAiIT09YyYmIjEiIT09YyYmYS5jcmVhdGUoIm1kYSIsIjAiLDEwMzY4MDApO2IucmVhZCgibWRhIikmJmIuZXJhc2UoIm1kYSIpfSxfaXM6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuISF0aGlzLmdsb2JhbENvbmZpZy5nZXQoInN0YXJ0U3luYyIpfWNhdGNoKGEpe3JldHVybiExfX0sX3NldFN0YXR1czpmdW5jdGlvbihhKXt0cnl7dGhpcy5nbG9iYWxDb25maWcuc2V0KCJzdGFydFN5bmMiLGEpfWNhdGNoKGIpe319LF9uZWVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZ2V0RG9tYWluQnlMYW5nKCksYj10aGlzLl9nZXRUbGQoKSxjPVtdLGQ7KGQ9dGhpcy5zeW5jVGxkc1tiXSkmJmMucHVzaC5hcHBseShjLGQpO2Q9dGhpcy5zeW5jVGxkc1thXTsKYSE9PWImJmQmJmMucHVzaC5hcHBseShjLGQpO3ZhciBmPXRoaXMuX2dldExzKCkuZ2V0KCJzeW5jZWQiKXx8e307Yz1oLmFycmF5RmlsdGVyKGMsZnVuY3Rpb24oYSl7cmV0dXJuKGZbYV18fDEpKzE0NDA8eS5nZXRNaW51dGVzKCl9KTtyZXR1cm4gYy5sZW5ndGgmJmN8fCExfSxfc3luY0FkbWV0cmljYTpmdW5jdGlvbigpe3ZhciBhPW5ldyBEYSh7fSksYj10aGlzLl9nZXRMcygpOygoYi5nZXQoInN5bmNlZCIpfHx7fSkuU1lOQ0VEX0FETXx8MSkrMTQ0MDx5LmdldE1pbnV0ZXMoKSYmYS5yZXF1ZXN0KCJodHRwczovL21jLmFkbWV0cmljYS5ydS9zeW5jX2Nvb2tpZV9pbWFnZV9jaGVjayIse30sZnVuY3Rpb24oYSl7Yi5nZXQoInN5bmNlZCIpO3ZhciBjPXkuZ2V0TWludXRlcygpO2F8fChjLT0xNDM1KTthPWIuZ2V0KCJzeW5jZWQiKXx8e307YS5TWU5DRURfQURNPWM7Yi5zZXQoInN5bmNlZCIsYSl9KX0sX3N5bmM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTAsZj1hLmxlbmd0aCxoPQp0aGlzO2lmKDA8Zil7Yj1ifHxmdW5jdGlvbigpe307dmFyIGc9ZnVuY3Rpb24oKXtkKys7Zj09PWQmJmIoKX07dmFyIG09aC5fZ2V0THMoKTt2YXIgcj1uZXcgRGEoe30pO2ZvcihjPTA7YzxmO2MrKykoZnVuY3Rpb24oYSl7ci5yZXF1ZXN0KCJodHRwczovLyIrKGguX3JlcGxhY2VCYXNlW2FdP2E6aC5iYXNlVXJsK2EpKyIvc3luY19jb29raWVfaW1hZ2VfY2hlY2siLHt9LGZ1bmN0aW9uKGIpe2coKTt2YXIgYz15LmdldE1pbnV0ZXMoKTtifHwoYy09MTQzNSk7Yj1tLmdldCgic3luY2VkIil8fHt9O2JbYV09YzttLnNldCgic3luY2VkIixiKX0pfSkoYVtjXSl9ZWxzZSBiKCl9LF9nZXRDbjpmdW5jdGlvbigpe3RoaXMuX2NufHwodGhpcy5fY249bmV3IEpiKHtmYWtlOiEwLGdsb2JhbENvbmZpZzp0aGlzLmdsb2JhbENvbmZpZ30pKTtyZXR1cm4gdGhpcy5fY259LF9nZXRMczpmdW5jdGlvbigpe3RoaXMuX2xzfHwodGhpcy5fbHM9bmV3IFkpO3JldHVybiB0aGlzLl9sc30sX2dldFRsZDpmdW5jdGlvbigpe3ZhciBhPQpoLmdldFRsZCgpO3JldHVybnthbToiY29tLmFtIix0cjoiY29tLnRyIixnZToiY29tLmdlIixpbDoiY28uaWwiLCJcdTA0NDBcdTA0NDQiOiJydSIsInhuLS1wMWFpIjoicnUiLCJcdTA0NDNcdTA0M2FcdTA0NDAiOiJ1YSIsInhuLS1qMWFtaCI6InVhIiwiXHUwNDMxXHUwNDM1XHUwNDNiIjoiYnkiLCJ4bi0tOTBhaXMiOiJieSJ9W2FdfHxhfSxfZ2V0RG9tYWluQnlMYW5nOmZ1bmN0aW9uKCl7aWYoIW0ubmF2aWdhdG9yKXJldHVybiJydSI7dHJ5e3ZhciBhPW5hdmlnYXRvci5sYW5ndWFnZXM/bmF2aWdhdG9yLmxhbmd1YWdlc1swXTp2LmdldExhbmd1YWdlKCl9Y2F0Y2goYil7fWEmJmEudG9Mb3dlckNhc2UmJihhPWEudG9Mb3dlckNhc2UoKS5zcGxpdCgiLSIpWzBdKTtyZXR1cm4gdGhpcy5sYW5nVG9Eb21haW5bYV18fCJydSJ9fSk7dS5sb2FkU2NyaXB0PWZ1bmN0aW9uKGEsYil7Yj1ifHxtO3ZhciBjPWgubWl4aW4oe3R5cGU6InRleHQvamF2YXNjcmlwdCIsY2hhcnNldDoidXRmLTgiLAphc3luYzohMH0sYSksZD1iLmRvY3VtZW50LGY9aC5nZXROYXRpdmVGdW5jdGlvbigiY3JlYXRlRWxlbWVudCIsZCksbD1mKCJzY3JpcHQiKTtpZihsKXtsLnR5cGU9Yy50eXBlO2wuY2hhcnNldD1jLmNoYXJzZXQ7bC5zcmM9Yy5zcmM7Yy5hc3luYyYmKGwuYXN5bmM9ITApO3RyeXt2YXIgZz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF07aWYoIWcpe3ZhciBuPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImh0bWwiKVswXTtnPWYoImhlYWQiKTtuJiZuLmFwcGVuZENoaWxkKGcpfWcuaW5zZXJ0QmVmb3JlKGwsZy5maXJzdENoaWxkKTtyZXR1cm4gbH1jYXRjaChyKXt9fX07dmFyIHFjPWZ1bmN0aW9uKGEsYil7dmFyIGM9e3M6bmV3IFksazphLGM6Yn07cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhKGMpfX0sTGI9ZnVuY3Rpb24oYSl7YS5jLl9pc0Rlc3RydWN0aW5nPSEwO2EuYy5kZXN0cnVjdD9hLmMuZGVzdHJ1Y3QoKTpudWxsfSxyYz1mdW5jdGlvbihhLGIpezA9PT0KcGFyc2VGbG9hdChhLmNfcmVjcCkmJihMYihiKSxiLnMuc2V0KCJ5bW9vIitiLmsseS5nZXRNaW51dGVzKCkpKX0sc2M9ZnVuY3Rpb24oYSl7dmFyIGI9eS5nZXRNaW51dGVzKCksYzthLnMuaXNFbmFibGVkKCkmJihjPWEucy5nZXQoInltb28iK2EuaykpJiYzMD5iLWMmJkxiKGEpfSx0Yz1aYS5pbmhlcml0KHtpZDoiUmF3Qm9keVhIUiIsaW5kZXg6OSxwb3N0UGFyYW1zOlsiYm9keSJdLF9zZXRIZWFkZXJzOmZ1bmN0aW9uKCl7fSxfcHJlcGFyZVBvc3RQYXJhbXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucG9zdC5ib2R5fHwiIn19KTt2LmlzQW5kcm9pZD1EKGZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLGI9di5nZXRQbGF0Zm9ybSgpfHwiIjtyZXR1cm4tMTxhLmluZGV4T2YoImFuZHJvaWQiKSYmLTE8YS5pbmRleE9mKCJtb2JpbGUiKSYmYi5tYXRjaCgvXmFuZHJvaWR8bGludXggYXJtdi9pKX0sIiIsITApO3ZhciBUYT17X3VybDoiaHR0cHM6Ly9tYy55YW5kZXgucnUvdXNlcl9zdG9yYWdlX3NldD8iLApfcGFyYW1zOnt9LGluaXQ6ZnVuY3Rpb24oYSl7dGhpcy5fcGFyYW1zPWF8fHt9fSxzYXZlOmZ1bmN0aW9uKGEsYil7dGhpcy5fZ2V0UmVxKCkucmVxdWVzdCh0aGlzLl91cmwrd2Euc3RyaW5naWZ5KHtrZXk6YSx2YWx1ZTpoLnRvSlNPTihiKX0pKTt0aGlzLl9nZXRMcygpLnNldChhLGIpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJue3JlbW90ZTp0aGlzLl9wYXJhbXNbYV0sbG9jYWw6dGhpcy5fZ2V0THMoKS5nZXQoYSl9fSxnZXROdW06ZnVuY3Rpb24oYSl7YT10aGlzLmdldChhKTtyZXR1cm4gTWF0aC5tYXgoK2EucmVtb3RlfHwwLCthLmxvY2FsfHwwKX0sX2dldExzOmZ1bmN0aW9uKCl7dGhpcy5fbHN8fCh0aGlzLl9scz1uZXcgWSk7cmV0dXJuIHRoaXMuX2xzfSxfZ2V0UmVxOmZ1bmN0aW9uKCl7dGhpcy5fcmVxfHwodGhpcy5fcmVxPW5ldyBEYSk7cmV0dXJuIHRoaXMuX3JlcX19LHVjPXtzeW5jOkQoZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGY9e3Q6J1VWfEw3LCEiVFtyd2VceDI2RF9ceDNlWkliXFxhVyM5OFkuUEM2ayd9Owp0aGlzLmdsb2JhbENvbmZpZz1kfHxFO2lmKHRoaXMuX2VuYWJsZWQoYSxiLGMpKXt0aGlzLl9zZXRTdGF0dXMoITApO3ZhciBoPW5ldyB0Yyh7bWV0aG9kOiJHRVQiLHdpdGhDcmVkZW50aWFsczohMX0pO3ZhciBnPXRoaXMuX2dldEhvc3RzKCk7dmFyIG09Zy5sZW5ndGg7KGZ1bmN0aW9uIHAoYSl7dmFyIGI9Z1thXTthPG0/aC5yZXF1ZXN0KGJbMF0rIjoiK2JbMV0rIi9wIixmLGZ1bmN0aW9uKGMsZCl7Yz90aGlzLl9zYXZlKGMsZCxiWzFdKTpwLmNhbGwodGhpcyxhKzEpfSx0aGlzKTp0aGlzLl9zYXZlKCExKX0pLmNhbGwodGhpcywwKX19LCJkcyIpLF9nZXRIb3N0czpmdW5jdGlvbigpe3ZhciBhPVtdLGI9TC5wcm90b2NvbCxjPXYuaXNJT1MoKTsodi5pc0FuZHJvaWQoKXx8YyYmImh0dHA6Ij09PWIpJiZhLnB1c2goWyJodHRwOi8vMTI3LjAuMC4xIiwiMzAxMDIiXSxbImh0dHA6Ly8xMjcuMC4wLjEiLCIyOTAwOSJdKTtjJiYiaHR0cHM6Ij09PWImJmEucHVzaChbImh0dHBzOi8veWFuZGV4bWV0cmljYS5jb20iLAoiMzAxMDMiXSxbImh0dHBzOi8veWFuZGV4bWV0cmljYS5jb20iLCIyOTAxMCJdKTtyZXR1cm4gYX0sX3NhdmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXkuZ2V0TWludXRlcygpO2E/KG5ldyBTYSh7cHJvdG9jb2w6Imh0dHBzOiIsY291bnRlclR5cGU6MCxjb3VudGVySWQ6NDI4MjI4OTksc2VuZFRpdGxlOiExLGZha2U6ITB9KSkuc2VuZERldmljZSh7ZGF0YTpoLnRyaW0oYikscG9ydDpjfSk6ZC09NDU7VGEuc2F2ZSgiZHMiLGQpfSxfaXM6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuISF0aGlzLmdsb2JhbENvbmZpZy5nZXQoImRTeW5jIil9Y2F0Y2goYSl7cmV0dXJuITF9fSxfZW5hYmxlZDpmdW5jdGlvbihhLGIsYyl7aWYoISg2MDx5LmdldE1pbnV0ZXMoKS1UYS5nZXROdW0oImRzIikpfHx0aGlzLl9pcygpfHxoLmlzRGV2KHRoaXMuZ2xvYmFsQ29uZmlnKSlyZXR1cm4hMTthPTA9PT1iJiYwPD1oLmFycmF5SW5kZXhPZihbMzkzNzAwOTUsMTI4MjI1MywyOTMwMjMzNSw0MzY1MzQ4NCwKNDE3MzQ5NDQsMzEwNDgwODEsMTY0NDMxMzksMjc3MzczNDYsNDE4NzA0OTksMzM5MTE1MTQsMzA3NDQ4NzMsNTU2NDM5NSwyNTgwNDg3XSxhKTthPUJhKCl8fCFjJiYuMT49TWF0aC5yYW5kb20oKSYmYTtjPXYuaXNJT1MoKSYmYTtyZXR1cm4gdi5pc0FuZHJvaWQoKSYmYXx8Y30sX3NldFN0YXR1czpmdW5jdGlvbihhKXt0cnl7dGhpcy5nbG9iYWxDb25maWcuc2V0KCJkU3luYyIsYSl9Y2F0Y2goYil7fX19LFM9e2dldFBvczpmdW5jdGlvbihhKXt2YXIgYj11LmdldFJvb3RFbGVtZW50KCksYz11LmdldERvY3VtZW50U2Nyb2xsKCk7cmV0dXJuW2EucGFnZVh8fGEuY2xpZW50WCtjWzBdLShiLmNsaWVudExlZnR8fDApfHwwLGEucGFnZVl8fGEuY2xpZW50WStjWzFdLShiLmNsaWVudFRvcHx8MCl8fDBdfSxnZXRUYXJnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDt0cnl7aWYoYj1hLnRhcmdldHx8YS5zcmNFbGVtZW50KSFiLm93bmVyRG9jdW1lbnQmJmIuZG9jdW1lbnRFbGVtZW50PwpiPWIuZG9jdW1lbnRFbGVtZW50OmIub3duZXJEb2N1bWVudCE9PXQmJihiPW51bGwpfWNhdGNoKGMpe31yZXR1cm4gYn0sZ2V0TW91c2VCdXR0b246ZnVuY3Rpb24oYSl7cmV0dXJuIGEud2hpY2h8fGEuYnV0dG9uPT1BP2Eud2hpY2g6YS5idXR0b24mMT8xOmEuYnV0dG9uJjI/MzphLmJ1dHRvbiY0PzI6MH0scHJldmVudDpmdW5jdGlvbihhKXthPWF8fG0uZXZlbnQ7YS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMX19O1MuZGlzcGF0Y2hDdXN0b21FdmVudD1EKGZ1bmN0aW9uKGEsYil7dmFyIGM7Yj1ifHx0O2lmKGM9aC5nZXROYXRpdmVGdW5jdGlvbigiY3JlYXRlRXZlbnQiLHQpKCJFdmVudCIpKWMuaW5pdEV2ZW50KGEsITEsITEpLGguZ2V0TmF0aXZlRnVuY3Rpb24oImRpc3BhdGNoRXZlbnQiLGIpKGMpfSwiZXZ0LmRpc3BhdGNoIik7dmFyIGFiPXtsYXN0UmVmZXJyZXI6bnVsbH07di5pc1NlYXJjaFJvYm90PWgubWVtb3JpemUoZnVuY3Rpb24oKXtyZXR1cm4obmV3IFJlZ0V4cCgiKCIrCiJ5YW5kZXguY29tL2JvdHN8R29vZ2xlYm90fEFQSXMtR29vZ2xlfE1lZGlhcGFydG5lcnMtR29vZ2xlfEFkc0JvdC1Hb29nbGV8RmVlZEZldGNoZXItR29vZ2xlfEdvb2dsZS1SZWFkLUFsb3VkfER1cGxleFdlYi1Hb29nbGV8R29vZ2xlIEZhdmljb258Z29vZ2xld2VibGlnaHR8TWFpbC5SVV9Cb3R8U3RhY2tSYW1ibGVyfFNsdXJwfG1zbmJvdHxiaW5nYm90fHd3dy5iYWlkdS5jb20vc2VhcmNoL3NwaV8/ZGVyLmh0bSIucmVwbGFjZSgvWy4vXS9nLCJcXCRceDI2IikrIikiKSkudGVzdChtLm5hdmlnYXRvci51c2VyQWdlbnQpfSk7dmFyIElhPUouaW5oZXJpdCh7Y291bnRlcjpudWxsLHByZWZzRWNvbW1lcmNlOm51bGwsc3RhdHVzOntORVc6QSxQRU5ESU5HOjEsT0s6MixGQUlMOjN9LG92ZXJyaWRlVGltZW91dDpudWxsLGRhdGFMYXllck5hbWU6ImRhdGFMYXllciIsX2luaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXtJYS5zdXBlcmNsYXNzLl9pbml0Q29tcG9uZW50LmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk7dGhpcy5mcmFtZUNvbm5lY3RvciYmdGhpcy5mcmFtZUNvbm5lY3Rvci5hZGRIYW5kbGVyKCJwYXJhbXMiLGZ1bmN0aW9uKGEsYil7aWYodGhpcy5jb3VudGVyJiZ0aGlzLmNvdW50ZXIucGFyYW1zKXRoaXMub25Db29raWVzKGZ1bmN0aW9uKGEpe3RoaXMuY291bnRlci5wYXJhbXMoYS5kYXRhKX0sdGhpcyxiKX0sdGhpcyk7dGhpcy5fb3ZlcnJpZGVQdXNoKHRoaXMuZ2xvYmFsQ29uZmlnLmdldCgiZGF0YUxheWVyIikpfSx3YWl0UG9vbDpbXSxkZXN0cnVjdDpmdW5jdGlvbigpe3RoaXMuZnJhbWVDb25uZWN0b3ImJnRoaXMuZnJhbWVDb25uZWN0b3IuZGVzdHJ1Y3QmJih0aGlzLmZyYW1lQ29ubmVjdG9yLmRlc3RydWN0KCksdGhpcy5fc2VuZD1mdW5jdGlvbigpe30sdGhpcy53YWl0UG9vbD1bXSx0aGlzLm9uQ29va2llcz1mdW5jdGlvbigpe30pO2guY2xlYXJUaW1lb3V0KHRoaXMub3ZlcnJpZGVUaW1lb3V0KX0sb25Db29raWVzOmZ1bmN0aW9uKGEsYil7dGhpcy53YWl0UG9vbC5wdXNoKHtmbjphLApjdHg6YixhcmdzOltdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpfSl9LGluaXRVc2VyTGF5ZXI6ZnVuY3Rpb24oKXt2YXIgYT0iY3VzdG9tQXJyIjtoLmFycmF5RXZlcnkodGhpcy53YWl0UG9vbCxmdW5jdGlvbihhKXthLmZuLmFwcGx5KGEuY3R4LGEuYXJncyk7cmV0dXJuIDF9KTt0aGlzLm9uQ29va2llcz1mdW5jdGlvbihhLGMpe2EuYXBwbHkoYyxbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9O2lmKHRoaXMucHJlZnNFY29tbWVyY2V8fHRoaXMucHJlZnNVc2VEYXRhTGF5ZXIpdGhpcy5fb3ZlcnJpZGVQdXNoKHRoaXMucHJlZnNFY29tbWVyY2UpfHwoaC5pc1N0cmluZyh0aGlzLnByZWZzRWNvbW1lcmNlKSYmKHRoaXMuZGF0YUxheWVyTmFtZT10aGlzLnByZWZzRWNvbW1lcmNlKSxhPXRoaXMuZGF0YUxheWVyTmFtZSx0aGlzLl90cnlUaW1lb3V0PWguYmluZCh0aGlzLl90cnlUaW1lb3V0LHRoaXMpLHRoaXMuX3RyeVRpbWVvdXQoKSksdGhpcy5jb3VudGVyLl9lY29tbWVyY2U9CmF9LF9vdmVycmlkZVB1c2g6ZnVuY3Rpb24oYSl7aWYoYSYmImZ1bmN0aW9uIj09dHlwZW9mIGEucHVzaCl7dmFyIGI9dGhpcztiLl9zZW5kKGEpO3ZhciBjPWEucHVzaDthLnB1c2g9ZnVuY3Rpb24oKXt2YXIgYT1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtiLl9zZW5kKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApKTtyZXR1cm4gYX07cmV0dXJuITB9cmV0dXJuITF9LF90cnlUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5fb3ZlcnJpZGVQdXNoKG1bdGhpcy5kYXRhTGF5ZXJOYW1lXSl8fCh0aGlzLm92ZXJyaWRlVGltZW91dD1oLnNldFRpbWVvdXQodGhpcy5fdHJ5VGltZW91dCwxRTMsImRsT2JzZXJ2ZXIiKSl9LF9jYWxsSGFuZGxlcnM6ZnVuY3Rpb24oYSl7aC5hcnJheUV2ZXJ5KElhLmhhbmRsZXJzLGZ1bmN0aW9uKGIpe2ImJmIudHlwZSYmaC5hcnJheUV2ZXJ5KGIudHlwZS5zcGxpdCgiLCIpLGZ1bmN0aW9uKGMpe2MucmVwbGFjZSgiICIsIiIpPT09YS50eXBlJiZiLmNhbGxiYWNrJiYKYi5jYWxsYmFjayhhKTtyZXR1cm4gMX0pO3JldHVybiAxfSl9LGFsbG93ZWRFdmVudHM6ImN1cnJlbmN5Q29kZSBhZGQgZGVsZXRlIHJlbW92ZSBwdXJjaGFzZSBjaGVja291dCBkZXRhaWwiLnNwbGl0KCIgIiksX2NvbnZlcnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1oLmtleXMoYiksZD0hMSxmPXt0cmFuc2FjdGlvbl9pZDoiaWQiLHZhbHVlOiJyZXZlbnVlIn07aWYoYi5pdGVtcyl7dmFyIGw9e307bFthXT17cHJvZHVjdHM6Yi5pdGVtc307MTxjLmxlbmd0aCYmKGxbYV0uYWN0aW9uRmllbGQ9aC5yZWR1Y2UoZnVuY3Rpb24oYSxjKXtmW2NdP2FbZltjXV09YltjXToiY3VycmVuY3kiPT09Yz9kPWJbY106Iml0ZW1zIiE9PWMmJmJbY10mJihhW2NdPWJbY10pO3JldHVybiBhfSx7fSxjKSk7ZCYmKGwuY3VycmVuY3lDb2RlPWQpO3JldHVybiBsfX0sX2NoZWNrR3RhZzpmdW5jdGlvbihhKXt2YXIgYj17dmlld19pdGVtOiJkZXRhaWwiLGFkZF90b19jYXJ0OiJhZGQiLHJlbW92ZV9mcm9tX2NhcnQ6InJlbW92ZSIsCmJlZ2luX2NoZWNrb3V0OiJjaGVja291dCIscHVyY2hhc2U6InB1cmNoYXNlIn0sYz1bXTthJiYiZXZlbnQiPT09YVswXSYmYlthWzFdXSYmKGE9dGhpcy5fY29udmVydChiW2FbMV1dLGFbMl0pKSYmYy5wdXNoKGEpO3JldHVybiBjfSxfc2VuZDpmdW5jdGlvbihhKXt2YXIgYj1bXSxjPXRoaXMuYWxsb3dlZEV2ZW50cyxkLGY7dmFyIGw9MDtmb3IoZj1hLmxlbmd0aDtsPGY7bCsrKXtpZigoZD1hW2xdKSYmZC55bWV0cmlrYUV2ZW50KXt2YXIgZz1kLnltZXRyaWthRXZlbnQ7dGhpcy5fY2FsbEhhbmRsZXJzKGcpO2lmKCJwYXJhbXMiPT09Zy50eXBlJiZnLmRhdGEpe2cuc2VuZGVkfHwoZy5zZW5kZWQ9W10pO2lmKGcuY291bnRlcil0aGlzLmNvdW50ZXImJnRoaXMuY291bnRlci5wYXJhbXMmJnRoaXMuY291bnRlcklkPT1nLmNvdW50ZXImJih0aGlzLm9uQ29va2llcyhmdW5jdGlvbihhKXt0aGlzLmNvdW50ZXIucGFyYW1zKGEuZGF0YSl9LHRoaXMsaC5taXhpbih7fSxnKSksZy5zZW5kZWQucHVzaCh0aGlzLmNvdW50ZXJJZCkpOwplbHNlIHRoaXMub25Db29raWVzKGZ1bmN0aW9uKGEpe2guZm9yRWFjaEtleSh0aGlzLmdsb2JhbENvbmZpZy5nZXQoImNvdW50ZXJzIiksZnVuY3Rpb24oYixjKXt2YXIgZD1iLnNwbGl0KCI6IilbMF07IWguaW5BcnJheShhLnNlbmRlZCxkKSYmYyYmYy5wYXJhbXMmJihjLnBhcmFtcyhhLmRhdGEpLGEuc2VuZGVkLnB1c2goZCkpfSx0aGlzKX0sdGhpcyxoLm1peGluKHt9LGcpKTtnLnN0YXR1cz09dGhpcy5zdGF0dXMuTkVXJiZnLnBhcmVudCYmdGhpcy5mcmFtZUNvbm5lY3RvciYmdGhpcy5mcmFtZUNvbm5lY3Rvci5jaGVja0ZyYW1lKG0ucGFyZW50KSYmbS5wYXJlbnQhPT1tJiYodGhpcy5mcmFtZUNvbm5lY3Rvci5zZW5kVG9QYXJlbnRzKHt0eXBlOiJwYXJhbXMiLGRhdGE6Zy5kYXRhfSxmdW5jdGlvbigpe2cuc3RhdHVzPXRoaXMuc3RhdHVzLk9LfSx0aGlzKSxnLnN0YXR1cz10aGlzLnN0YXR1cy5QRU5ESU5HKX19aWYoZCYmZC5lY29tbWVyY2Upe3ZhciBuPXt9O3ZhciByPSExOwpoLmZvckVhY2hLZXkoZC5lY29tbWVyY2UsZnVuY3Rpb24oYSxiKXswPD1oLmFycmF5SW5kZXhPZihjLGEpJiYocj0hMCxuW2FdPWIpfSk7ciYmYi5wdXNoKG4pfWI9Yi5jb25jYXQodGhpcy5fY2hlY2tHdGFnKGQpKX1pZihiLmxlbmd0aCl0aGlzLm9uQ29va2llcyhmdW5jdGlvbihhKXt0aGlzLmNvdW50ZXIucGFyYW1zKHtfX3ltOntlY29tbWVyY2U6YX19KX0sdGhpcyxiKX19KTtJYS5oYW5kbGVycz1bXTt2YXIgdmE9WyIwIiwiMSIsIjIiLCIzIl0scmI9dmFbMF0sdmM9dmFbMV0sTWI9IkdEUFItb2sgR0RQUi1jcm9zcyBHRFBSLWNhbmNlbCBHRFBSLWNvb2tpZS1zdWNjZXNzIEdEUFItZnJhbWUtc2tpcCBHRFBSLWZyYW1lLXlhIEdEUFItZnJhbWUtbm95YSBHRFBSLW9wZW4tc3RhcnQgR0RQUi1ldS1za2lwIEdEUFItb3Blbi1mYWlsIEdEUFItb3Blbi1zdWNjZXNzIEdEUFItc2tpcCBHRFBSLWNvb2tpZS1mYWlsIEdEUFItc2tpcC1sb2dpbiBHRFBSLXNraXAtZG9tYWluIEdEUFItc2tpcC1uYSBHRFBSLXNraXAtZXUtbmEgR0RQUi1za2lwLXd2IEdEUFItc2V0dGluZ3MgR0RQUi1vay12aWV3LWRlZmF1bHQgR0RQUi1vay12aWV3LWRldGFpbGVkIDIxIDIyIDIzIEdEUFItb2stdmlldy1kZXRhaWxlZC0wIEdEUFItb2stdmlldy1kZXRhaWxlZC0xIEdEUFItb2stdmlldy1kZXRhaWxlZC0yIEdEUFItb2stdmlldy1kZXRhaWxlZC0zIDI4Ii5zcGxpdCgiICIpLAp3Yz1bImh0dHBzOi8vYnJvemVuLnlhbmRleC5ydSIsImh0dHBzOi8veWFicm8xLnplbi10ZXN0LnlhbmRleC5ydS95YWJyby9pbmRleC5odG1sIiwiaHR0cHM6Ly95YWJybzIuemVuLXRlc3QueWFuZGV4LnJ1L3lhYnJvL2luZGV4Lmh0bWwiXSx4YT1KLmluaGVyaXQoe2dsb2JhbEtleToiZjEiLE1BWF9TSVpFOjFFNixpc1lBTjohMSx0cmlnZ2VyOmZ1bmN0aW9uKGEpe3RoaXMuZ2xvYmFsQ29uZmlnLmdldCgiZGF0YUxheWVyIikucHVzaCh7eW1ldHJpa2FFdmVudDp7dHlwZTphfX0pfSxpbml0Q291bnRlcjpmdW5jdGlvbigpe30sZW5hYmxlZDpCYSgpJiYtMTxtLmxvY2F0aW9uLmhyZWYuaW5kZXhPZigieWFnZHByY2hlY2tceDNkMSIpLF9pbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dGhpcy5fY29va2llPXhhLmNvb2tpZTt0aGlzLl9zZW5kZXI9bmV3IEpiKHtmYWtlOiEwLGdsb2JhbENvbmZpZzp0aGlzLmdsb2JhbENvbmZpZyxmb3JjZU5vUmVkaXJlY3Q6ITB9KX0scmVhbGlzZTpmdW5jdGlvbihhLApiKXt0aGlzLmluaXRDb3VudGVyLmFwcGx5KG0sYSk7dGhpcy5nbG9iYWxDb25maWcuc2V0KHRoaXMuZ2xvYmFsS2V5LGZ1bmN0aW9uKGEpe2EoKX0pO2IubGVuZ3RoJiZuYi5jaGFpbihiLmNvbmNhdChbZnVuY3Rpb24oKXtiPVtdfV0pLG51bGwsITEsIkdEUFIiKX0scGFyc2VWYWx1ZTpmdW5jdGlvbihhKXthPWguaW5BcnJheShbIkdEUFItb2stdmlldy1kZWZhdWx0IiwiR0RQUi1vay12aWV3LWRldGFpbGVkIl0sYSk/cmI6YS5yZXBsYWNlKCJHRFBSLW9rLXZpZXctZGV0YWlsZWQtIiwiIik7cmV0dXJuIGguaW5BcnJheSh2YSxhKT9hOm51bGx9LGFjY2VwdDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZj10aGlzLnBhcnNlVmFsdWUoZCk7ZiYmKGMuY3JlYXRlKCJnZHByIixmLDUyNTYwMCksdGhpcy5yZWFsaXNlKGEsYiksdGhpcy5mcmFtZUNvbm5lY3Rvci5zZW5kVG9DaGlsZHJlbih7dHlwZTpkfSkpfSxnZXRQb3B1cE9rRXZlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuWyJHRFBSLW9rLXZpZXctZGVmYXVsdCIsCiJHRFBSLW9rLXZpZXctZGV0YWlsZWQiXS5jb25jYXQoaC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIkdEUFItb2stdmlldy1kZXRhaWxlZC0iK2F9LHZhKSl9LHNob3dQb3B1cDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZj10aGlzO2guaW5BcnJheSgicnUgZW4gZXQgZmkgbHQgbHYgcGwiLnNwbGl0KCIgIiksYSl8fChhPSJlbiIpO2E9dS5sb2FkU2NyaXB0KHtzcmM6Imh0dHBzOi8veWFzdGF0aWMubmV0L3MzL2dkcHIvcG9wdXAvdjIvIithKyIuanMifSk7Zi50cmlnZ2VyKCJHRFBSLW9wZW4tc3RhcnQiKTthLm9uZXJyb3I9ZnVuY3Rpb24oYSl7RChmdW5jdGlvbigpe3Rocm93IGE7fSwiZ2Rwci1wb3B1cCIpKCk7Zi50cmlnZ2VyKCJHRFBSLW9wZW4tZmFpbCIpO2YucmVhbGlzZShiLGMpO2YuZnJhbWVDb25uZWN0b3Iuc2VuZFRvQ2hpbGRyZW4oe3R5cGU6IkdEUFItb2stdmlldy1kZWZhdWx0In0pfTthLm9ubG9hZD1mdW5jdGlvbigpe2YudHJpZ2dlcigiR0RQUi1vcGVuLXN1Y2Nlc3MiKTsKZi50cmlnZ2VyKCIyMiIpO0lhLmhhbmRsZXJzPUlhLmhhbmRsZXJzLmNvbmNhdChbe3R5cGU6Zi5nZXRQb3B1cE9rRXZlbnRzKCkuam9pbigiLCIpLGNhbGxiYWNrOmZ1bmN0aW9uKGEpe2Eub25jZXx8KGYuYWNjZXB0KGIsYyxkLGEudHlwZSksYS5vbmNlPSEwKX19XSl9fSxhc2tHRFBSOmZ1bmN0aW9uKGEsYixjLGQsZil7aC5pbkFycmF5KFtudWxsLCIiXSxhKSYmdGhpcy5zaG93UG9wdXAoYixjLGQsZil9LGhhbmRsZUdkcHJWYWx1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxmPXRoaXMuX2Nvb2tpZSxsPWYucmVhZCgieWFHZHByQ2hlY2siKSxnPWYucmVhZCgiZ2RwciIpLG09KHYuZ2V0TGFuZ3VhZ2UoKXx8IiIpLnRvTG93ZXJDYXNlKCkuc3BsaXQoIi0iKVswXTtpZihhfHxsfHxkLmVuYWJsZWQpaWYoZC5mcmFtZUNvbm5lY3RvciYmZC5mcmFtZUNvbm5lY3Rvci5hZGRIYW5kbGVyKCJpc1lhbmRleCIsZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiaXNZYW5kZXgiLGlzWWFuZGV4OkJhKCl9fSksCmQuZnJhbWVDb25uZWN0b3IuaXNJZnJhbWUpe2QuZnJhbWVDb25uZWN0b3Iuc2VuZFRvUGFyZW50cyh7dHlwZToiaXNZYW5kZXgifSxmdW5jdGlvbihhLGMpe3ZhciBnPSExO2NsZWFyVGltZW91dChyKTtjWzBdLmlzWWFuZGV4PyhkLnRyaWdnZXIoIkdEUFItZnJhbWUteWEiKSxoLm1hcChmdW5jdGlvbihhKXtkLmZyYW1lQ29ubmVjdG9yLmFkZEhhbmRsZXIoYSxmdW5jdGlvbigpe3ZhciBoPWQucGFyc2VWYWx1ZShhKTtnfHwoaCYmKGYuY3JlYXRlKCJnZHByIixoLDUyNTYwMCksZC5yZWFsaXNlKGMsYikpLGc9ITApfSl9LGQuZ2V0UG9wdXBPa0V2ZW50cygpKSk6KGQudHJpZ2dlcigiR0RQUi1mcmFtZS1ub3lhIiksZC5yZWFsaXNlKGMsYikpfSk7dmFyIHI9aC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50cmlnZ2VyKCJHRFBSLWZyYW1lLXNraXAiKTtkLnJlYWxpc2UoYyxiKX0sMkUzKX1lbHNlIGQuYXNrR0RQUihnLG0sYyxiLGYpO2Vsc2UgcmV0dXJuIGF8fChmLmNyZWF0ZSgiZ2RwciIsCnJiKSxkLnRyaWdnZXIoIkdEUFItZXUtc2tpcCIpKSxkLnJlYWxpc2UoYyxiKX0saGFuZGxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fc2VuZGVyLGI9W10sYz10aGlzLl9jb29raWUsZD1jLnJlYWQoImdkcHIiKSxmPXRoaXMsbD10aGlzLmdsb2JhbENvbmZpZy5nZXQodGhpcy5nbG9iYWxLZXkpLGc9YXJndW1lbnRzLG49dGhpcy5nbG9iYWxDb25maWcuZ2V0KCJpc0VVIikscj12LmlzU2VhcmNoUm9ib3QoKTtiLnNpemU9MDtpZihsKXJldHVybiBsKGZ1bmN0aW9uKCl7Zi5yZWFsaXNlKGcsYil9KTtpZighdGhpcy5lbmFibGVkJiYoaC5pbkFycmF5KHZhLGQpfHx2LmlzU2FmYXJpV2ViVmlldygpfHx2LmlzQW5kcm9pZFdlYlZpZXcoKXx8aC5pbkFycmF5KHdjLG0ubG9jYXRpb24uaHJlZi5zcGxpdCgiPyIpWzBdKXx8IUJhKCl8fGMucmVhZCgieWFuZGV4X2xvZ2luIil8fHRoaXMuZGlzYWJsZXx8cikpcmV0dXJuIGMucmVhZCgieWFuZGV4X2xvZ2luIik/KHRoaXMudHJpZ2dlcigiR0RQUi1za2lwLWxvZ2luIiksCmMuY3JlYXRlKCJnZHByIixyYiw1MjU2MDApKTpCYSgpP2Q/ZD09PXZjP3RoaXMudHJpZ2dlcigiR0RQUi1jb29raWUtZmFpbCIpOnRoaXMudHJpZ2dlcigiR0RQUi1jb29raWUtc3VjY2VzcyIpOnYuaXNTYWZhcmlXZWJWaWV3KCl8fHYuaXNBbmRyb2lkV2ViVmlldygpP3RoaXMudHJpZ2dlcigiR0RQUi1za2lwLXd2Iik6cj90aGlzLnRyaWdnZXIoIjI4Iik6dGhpcy50cmlnZ2VyKCJHRFBSLXNraXAtbmEiKTp0aGlzLnRyaWdnZXIoIkdEUFItc2tpcC1kb21haW4iKSx0aGlzLnJlYWxpc2UoZyxiKTt0aGlzLmdsb2JhbENvbmZpZy5zZXQodGhpcy5nbG9iYWxLZXksZnVuY3Rpb24oYSxjKXt2YXIgZD0wO3RyeXtkPUpTT04uc3RyaW5naWZ5KGMpLmxlbmd0aHx8MH1jYXRjaChxKXt9Yi5zaXplK2Q8Zi5NQVhfU0laRT8oYi5wdXNoKGEpLGIuc2l6ZSs9ZCk6aC53YXJuaW5nKCJHRFBSIGJ1ZmZlciBpcyBleGNlZWRlZCIpfSk7biE9PUE/dGhpcy5oYW5kbGVHZHByVmFsdWUobixiLGcpOgphLmhpdChmdW5jdGlvbihhKXtmLmhhbmRsZUdkcHJWYWx1ZShhLnBhcmFtcy5ldSxiLGcpfSl9fSk7eGEuZ2xvYmFsS2V5PSJmMSI7eGEuY29va2llPW5ldyBOKHtza2lwUHJlZml4OiEwfSk7eGEuZ2V0U3RhdGU9ZnVuY3Rpb24oYSl7dmFyIGI9eGEuY29va2llLnJlYWQoImdkcHIiKTthPWgucmVkdWNlKGZ1bmN0aW9uKGEsYil7Yi55bWV0cmlrYUV2ZW50JiZoLmluQXJyYXkoTWIsYi55bWV0cmlrYUV2ZW50LnR5cGUpJiZhLnB1c2goaC5hcnJheUluZGV4T2YoTWIsYi55bWV0cmlrYUV2ZW50LnR5cGUpKTtyZXR1cm4gYX0sW10sYS5nZXQoImRhdGFMYXllciIpKTtyZXR1cm4gYS5sZW5ndGg/KGE9YS5qb2luKCIsIiksYiYmKGErPSItIisoaC5pbkFycmF5KHZhLGIpP2I6IiIpKSxhKToiIn07dmFyIHhjPXtpbml0OmZ1bmN0aW9uKGEsYixjKXsiMjI2NjM5NDIiPT1jJiYoYz10LmNyZWF0ZUVsZW1lbnQoImltZyIpLGEmJmEuYWNjb3VudCYmYS50bXNlYyYmYiYmKGMuc3JjPSJodHRwczovL3d3dy50bnMtY291bnRlci5ydS9WMTNhKioqKiIrCmEuYWNjb3VudCsiL3J1L1VURi04L3Rtc2VjXHgzZCIrYS50bXNlYysiLyIrYikpfX07di5pc0lFPWgubWVtb3JpemUoZnVuY3Rpb24oKXtyZXR1cm4gdCYmIXQuYWRkRXZlbnRMaXN0ZW5lcnx8ITF9KTt2LmlzQ2hyb21lUGRmPWgubWVtb3JpemUoZnVuY3Rpb24oKXt2YXIgYSxiPW5hdmlnYXRvci5wbHVnaW5zO2lmKGImJmIubGVuZ3RoKWZvcihhPTA7YTxiLmxlbmd0aDthKyspaWYoL0Nocm9tZSBQREYgVmlld2VyLy50ZXN0KGJbYV0ubmFtZSkpcmV0dXJuITA7cmV0dXJuITF9KTt2LmlzUHJpdmF0ZT1EKGZ1bmN0aW9uKGEpe3ZhciBiPWguYmluZChhLG51bGwsMCk7YT1oLmJpbmQoYSxudWxsLDEpO2lmKGguaXNGdW5jdGlvbihtLndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtKSYmIXYuaXNBbmRyb2lkKCkpcmV0dXJuIG0ud2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0oMCwwLGIsYSk7aWYodi5pc0ZGKCkpcmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlcj8KYSgpOmIoKTtpZih2LmlzU2FmYXJpKCkmJmguaXNGdW5jdGlvbihtLm9wZW5EYXRhYmFzZSkpdHJ5e20ub3BlbkRhdGFiYXNlKG51bGwsbnVsbCxudWxsLG51bGwpLGIoKX1jYXRjaChjKXthKCl9ZWxzZXtpZihtLmluZGV4ZWREQnx8IW0uUG9pbnRlckV2ZW50JiYhbS5NU1BvaW50ZXJFdmVudClyZXR1cm4gYigpO2EoKX19LCJpc1ByaXZhdGUiKTt2LmZpbmRUYXJnZXQ9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldHx8YS5zcmNFbGVtZW50O3ZhciBiO2lmKCFhKXJldHVybiExOzM9PWEubm9kZVR5cGUmJihhPWEucGFyZW50Tm9kZSk7Zm9yKGI9YSYmYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7YSYmYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUubm9kZU5hbWUmJigiYSIhPT1iJiYiYXJlYSIhPT1ifHwhYS5ocmVmJiYhYVsieGxpbms6aHJlZiJdKTspYj0oYT1hLnBhcmVudE5vZGUpJiZhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTsKcmV0dXJuIGEuaHJlZj9hOiExfTt2LmdldEhyZWY9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIiI7YT1hLmhyZWY7cmV0dXJuIGguaXNTdHJpbmcoYSk/IiIrYToiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10iPT09aC50b1N0cmluZyhhKT8iIithLmJhc2VWYWw6IiJ9O3YuZ2V0TGlua0NvbXBvbmVudHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJiJBIj09PWEubm9kZU5hbWU/e2hyZWY6YS5ocmVmLGhvc3RuYW1lOmEuaG9zdG5hbWV8fGgucGFyc2VVcmwoYS5ocmVmKS5ob3N0bmFtZXx8IiIsaG9zdDphLmhvc3QscHJvdG9jb2w6YS5wcm90b2NvbCxwYXRobmFtZTphLnBhdGhuYW1lLGhhc2g6YS5oYXNoLHBvcnQ6YS5wb3J0LHNlYXJjaDphLnNlYXJjaCxxdWVyeTphLnNlYXJjaC5zbGljZShNYXRoLm1pbigxLGEuc2VhcmNoLmxlbmd0aCkpLHBhdGg6KGEucGF0aG5hbWV8fCIvIikrYS5zZWFyY2h9OmguaXNTdHJpbmcoYSk/aC5wYXJzZVVybChhKTp7aHJlZjoiIixob3N0bmFtZToiIiwKaG9zdDoiIixwcm90b2NvbDoiIixwYXRobmFtZToiIixoYXNoOiIiLHBvcnQ6IiIsc2VhcmNoOiIiLHF1ZXJ5OiIiLHBhdGg6IiJ9fTt1LmdldEVsZW1lbnRQYXRoPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iIixjPWZjKCk7YSYmYS5wYXJlbnROb2RlJiYiQk9EWSIhPWEudGFnTmFtZSYmIkhUTUwiIT1hLnRhZ05hbWU7KWIrPWNbYS50YWdOYW1lXXx8IioiLGIrPXUuZ2V0RWxlbWVudE5laWdoYm9yUG9zaXRpb24oYSl8fCIiLGE9YS5wYXJlbnROb2RlO3JldHVybiBoLnRyaW0oYix0aGlzLk1BWF9MRU5fUEFUSCl9O3ZhciB5Yz1WLmluaGVyaXQoe3Jlc291cmNlOiJjbG1hcCIscmV0cnk6ITAsdHJhbnNwb3J0czpbRGFdLHNlbmRDbGljazpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLnNlbmQoeyJwYWdlLXVybCI6YSwicG9pbnRlci1jbGljayI6Yn0se30sYyxkKX19KSx6Yz1KLmluaGVyaXQoe2ZpbHRlcjpudWxsLGlnbm9yZVRhZ3M6W10scXVvdGE6MCxpc1RyYWNrSGFzaDohMSxwcm90b2NvbDoiIiwKY291bnRlcklkOjAsY291bnRlclR5cGU6MCxzdGFydFRpbWU6MCxNQVhfTEVOX1BBVEg6MTI4LFRJTUVPVVRfQ0xJQ0s6NTAsVElNRU9VVF9TQU1FX0NMSUNLUzoxRTMsREVMVEFfU0FNRV9DTElDS1M6MixfaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBhO3RoaXMuX2xhc3RDbGljaz1udWxsO3RoaXMuaGFzUXVvdGE9ISF0aGlzLnF1b3RhO3RoaXMuX3F1b3RhPXRoaXMucXVvdGE7dGhpcy5faWdub3JlVGFncz1bXTtpZih0aGlzLmlnbm9yZVRhZ3MpZm9yKGE9MDthPHRoaXMuaWdub3JlVGFncy5sZW5ndGg7YSsrKXRoaXMuaWdub3JlVGFnc1thXSYmaC5tZXJnZUFycmF5cyh0aGlzLl9pZ25vcmVUYWdzLFtTdHJpbmcodGhpcy5pZ25vcmVUYWdzW2FdKS50b1VwcGVyQ2FzZSgpXSk7dGhpcy5fc2VuZGVyPW5ldyB5Yyh7Z2xvYmFsQ29uZmlnOnRoaXMuZ2xvYmFsQ29uZmlnLHByb3RvY29sOnRoaXMucHJvdG9jb2wsY291bnRlcklkOnRoaXMuY291bnRlcklkLGNvdW50ZXJUeXBlOnRoaXMuY291bnRlclR5cGV9KTsKdGhpcy5fc3RhcnQ9ITE7dGhpcy5zdGFydCgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zdG9wKCl9LHN0YXJ0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3N0YXJ0KXgub24odCwiY2xpY2siLHRoaXMuX2hhbmRsZXIsdGhpcyk7dGhpcy5fc3RhcnQ9ITB9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLl9zdGFydCYmeC51bih0LCJjbGljayIsdGhpcy5faGFuZGxlcix0aGlzKTt0aGlzLl9zdGFydD0hMX0sc2V0VHJhY2tIYXNoOmZ1bmN0aW9uKGEpe3RoaXMuaXNUcmFja0hhc2g9YX0sX2lzSWdub3JlOmZ1bmN0aW9uKGEpe3JldHVybiB1LmNsYXNzTmFtZUV4aXN0cyhhLCIoeW0tZGlzYWJsZS1jbGlja21hcHx5bS1jbGlja21hcC1pZ25vcmUpIil9LF9oYW5kbGVyOmZ1bmN0aW9uKGEpe2E9e2VsOlMuZ2V0VGFyZ2V0KGEpLHBvczpTLmdldFBvcyhhKSxidXR0b246Uy5nZXRNb3VzZUJ1dHRvbihhKSx0aW1lOituZXcgRGF0ZX07aWYodGhpcy5faXNUcmFja2luZ0NsaWNrKGEpKXt2YXIgYj11LmdldEVsZW1lbnRTaXplKGEuZWwpOwp2YXIgYz11LmdldEVsZW1lbnRYWShhLmVsKTtiPVsicm4iLGgucmFuZG9tKCksIngiLE1hdGguZmxvb3IoNjU1MzUqKGEucG9zWzBdLWNbMF0pLyhiWzBdfHwxKSksInkiLE1hdGguZmxvb3IoNjU1MzUqKGEucG9zWzFdLWNbMV0pLyhiWzFdfHwxKSksInQiLE1hdGguZmxvb3IoKGEudGltZS10aGlzLnN0YXJ0VGltZSkvMTAwKSwicCIsdS5nZXRFbGVtZW50UGF0aChhLmVsKSwiWCIsYS5wb3NbMF0sIlkiLGEucG9zWzFdXTtjPU0oKS5ocmVmO3RoaXMuaXNUcmFja0hhc2g/aC5tZXJnZUFycmF5cyhiLFsid2giLCIxIl0pOmM9Yy5zcGxpdCgiIyIpWzBdO3RoaXMuX3NlbmRlci5zZW5kQ2xpY2soaC50cmltKGMsbWIpLGIuam9pbigiOiIpKTt0aGlzLl9sYXN0Q2xpY2s9YX19LF9pc1RyYWNraW5nQ2xpY2s6ZnVuY3Rpb24oYSl7dmFyIGI7aWYobS55bURpc2FibGVkQ2xpY2ttYXB8fGguaXNNZXRyaWthUGxheWVyKCl8fCFhLmVsKXJldHVybiExO3ZhciBjPWEuZWwudGFnTmFtZTtpZigoMj09CmEuYnV0dG9ufHwzPT1hLmJ1dHRvbikmJiJBIiE9Y3x8dGhpcy5maWx0ZXImJiF0aGlzLmZpbHRlcihhLmVsLGMpKXJldHVybiExO2ZvcihiPTA7Yjx0aGlzLl9pZ25vcmVUYWdzLmxlbmd0aDtiKyspaWYodGhpcy5faWdub3JlVGFnc1tiXT09YylyZXR1cm4hMTtmb3IoYz1hLmVsO2M7KXtpZih0aGlzLl9pc0lnbm9yZShjKSlyZXR1cm4hMTtjPWMucGFyZW50Tm9kZX1pZih0aGlzLl9sYXN0Q2xpY2spe2lmKGEudGltZS10aGlzLl9sYXN0Q2xpY2sudGltZTx0aGlzLlRJTUVPVVRfQ0xJQ0spcmV0dXJuITE7Yz1NYXRoLmFicyh0aGlzLl9sYXN0Q2xpY2sucG9zWzBdLWEucG9zWzBdKTtiPU1hdGguYWJzKHRoaXMuX2xhc3RDbGljay5wb3NbMV0tYS5wb3NbMV0pO3ZhciBkPWEudGltZS10aGlzLl9sYXN0Q2xpY2sudGltZTtpZih0aGlzLl9sYXN0Q2xpY2suZWw9PWEuZWwmJmM8dGhpcy5ERUxUQV9TQU1FX0NMSUNLUyYmYjx0aGlzLkRFTFRBX1NBTUVfQ0xJQ0tTJiZkPHRoaXMuVElNRU9VVF9TQU1FX0NMSUNLUylyZXR1cm4hMX1pZih0aGlzLmhhc1F1b3RhKXtpZighdGhpcy5fcXVvdGEpcmV0dXJuITE7CnRoaXMuX3F1b3RhLS19cmV0dXJuITB9fSksTmI9Si5pbmhlcml0KHtpbmplY3RIYXNoOntXanc3NWdobTdmYTdKVzhwOiJodHRwczovL3lhc3RhdGljLm5ldC9tZXRyaWthLXN0YXRpYy13YXRjaC9hc3Nlc3Nvci1pbml0LmpzIixaNFJoV0pOREphbnprR0phOiJodHRwczovL3lhc3RhdGljLm5ldC9tZXRyaWthLXN0YXRpYy13YXRjaC9hc3Nlc3Nvci1jb21wYXJlLmpzIn0sQVNTRVNTT1JfQ09PS0lFOiJhc3Nlc3NvciIsUkVNT1RFX0NPTlRST0w6ImkiLGdldEluamVjdEhhc2g6ZnVuY3Rpb24oKXt2YXIgYT17fTtoLmZvckVhY2hLZXkodGhpcy5pbmplY3RIYXNoLGZ1bmN0aW9uKGIpe2FbemErKCIiK2guZm52MzJhKGIpKV09dGhpcy5pbmplY3RIYXNoW2JdfSx0aGlzKTtyZXR1cm4gYX0sY2hlY2tBc3Nlc3NvcjpmdW5jdGlvbigpe3ZhciBhPVtdLGI9dGhpcy5nZXRJbmplY3RIYXNoKCk7aC5mb3JFYWNoS2V5KGIsZnVuY3Rpb24oYyl7aWYoKG5ldyBSZWdFeHAoYykpLnRlc3QobS5sb2NhdGlvbi5oYXNoKXx8Ck4uZ2V0KHRoaXMuQVNTRVNTT1JfQ09PS0lFK2MpKU4uc2V0KHRoaXMuQVNTRVNTT1JfQ09PS0lFK2MpLGEucHVzaChiW2NdKX0sdGhpcyk7cmV0dXJuIGF9LF9pbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jaGVja0Fzc2Vzc29yKCk7dGhpcy5nbG9iYWxDb25maWcuZ2V0KHRoaXMuUkVNT1RFX0NPTlRST0wpfHwodGhpcy5nbG9iYWxDb25maWcuc2V0KHRoaXMuUkVNT1RFX0NPTlRST0wsITApLE5iLnN1cGVyY2xhc3MuX2luaXRDb21wb25lbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2V4ZWN1dGVkTXNncz17fSx4Lm9uKG0sIm1lc3NhZ2UiLHRoaXMuX29uTWVzc2FnZSx0aGlzKSxhLmxlbmd0aCYmKHRoaXMuZ2xvYmFsQ29uZmlnLnNldCgib28iLCEwKSx0aGlzLmdsb2JhbENvbmZpZy5nZXQoInN0b3BSZWNvZGVyIixmdW5jdGlvbigpe30pKCksaC5hcnJheUV2ZXJ5KGEsZnVuY3Rpb24oYSl7dS5sb2FkU2NyaXB0KHtzcmM6YX0sbSk7cmV0dXJuIDF9KSkpfSwKX2J1aWxkUmVtb3RlSWZyYW1lOmZ1bmN0aW9uKGEpe3ZhciBiPWguZ2V0TmF0aXZlRnVuY3Rpb24oImNyZWF0ZUVsZW1lbnQiLHQpKCJkaXYiKSxjPXUuZ2V0Qm9keSgpfHx0LmRvY3VtZW50RWxlbWVudDtpZihjKXtiLmlubmVySFRNTD0nXHgzY2lmcmFtZSBuYW1lXHgzZCJSZW1vdGVJZnJhbWUiIGFsbG93dHJhbnNwYXJlbmN5XHgzZCJ0cnVlIiBzdHlsZVx4M2QicG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAtOTk5cHg7IHRvcDogLTk5OXB4OyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFweDsiXHgzZVx4M2MvaWZyYW1lXHgzZSc7dmFyIGQ9Yi5maXJzdENoaWxkO2Qub25sb2FkPWZ1bmN0aW9uKCl7dS5sb2FkU2NyaXB0KHtzcmM6YX0sZC5jb250ZW50V2luZG93KX07bS5feW1fX3JlbW90ZUlmcmFtZUVsPWQ7Yi5jcmVhdGVTaGFkb3dSb290fHxiLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q/KGMuYXBwZW5kQ2hpbGQoYiksYi5yZW1vdmVDaGlsZChkKSwoYz1iLmNyZWF0ZVNoYWRvd1Jvb3Q/CmIuY3JlYXRlU2hhZG93Um9vdCgpOmIud2Via2l0Q3JlYXRlU2hhZG93Um9vdCgpKSYmYy5hcHBlbmRDaGlsZChkKSxtLl95bV9fcmVtb3RlSWZyYW1lQ29udGFpbmVyPWIpOihjLmFwcGVuZENoaWxkKGQpLG0uX3ltX19yZW1vdGVJZnJhbWVDb250YWluZXI9ZCl9fSxfaXNBbGxvd2VkTGFuZzpmdW5jdGlvbihhKXtyZXR1cm4tMSE9PWguYXJyYXlJbmRleE9mKCJydSB1ayBlbiB0ciBlcyBkZSIuc3BsaXQoIiAiKSxhKX0sX2lzQWxsb3dlZE9yaWdpbjpmdW5jdGlvbihhKXtyZXR1cm4vXmh0dHA6XC9cLyhbXHdcLS5dK1wuKT93ZWJ2aXNvclwuY29tXC8/JC8udGVzdChhKXx8L15odHRwczpcL1wvKFtcd1wtLl0rXC4pP21ldHJpW2tjXWFcLnlhbmRleFwuKHJ1fHVhfGJ5fGt6fGNvbXxjb21cLnRyKVwvPyQvLnRlc3QoYSl9LF9pc0FsbG93ZWRTdGF0aWM6ZnVuY3Rpb24oYSl7cmV0dXJuL14oKFtcd1wtLl0rXC4pP2RldlwubWV0cmlrYVwueWFuZGV4XC5ydXxpbnRlcm5hbC1tZXRyaWthLWJldGFzXC5zM1wubWRzXC55YW5kZXhcLm5ldHx5YXN0YXRpY1wubmV0KSQvLnRlc3QoYSl9LApfaXNBbGxvd2VkUmVzb3VyY2U6ZnVuY3Rpb24oYSl7cmV0dXJuL15odHRwczpcL1wvKHlhc3RhdGljXC5uZXRcL3MzXC9tZXRyaWthfHMzXC5tZHNcLnlhbmRleFwubmV0XC9pbnRlcm5hbC1tZXRyaWthLWJldGFzfFtcdy1dK1wuZGV2XC53ZWJ2aXNvclwuY29tfFtcdy1dK1wuZGV2Lm1ldHJpa2EueWFuZGV4LnJ1KVwvKFx3fC18XC98KFwuKSg/IVwuKSkrXC5qcyQvLnRlc3QoYSl9LF9vbk1lc3NhZ2U6ZnVuY3Rpb24oYSl7dmFyIGIsYzt0cnl7dmFyIGQ9YS5vcmlnaW59Y2F0Y2goZil7fWQmJnRoaXMuX2lzQWxsb3dlZE9yaWdpbihkKSYmKGQ9YWEucGFyc2UoYS5kYXRhKSkmJiJhcHBlbmRyZW1vdGUiPT09ZC5hY3Rpb24mJiF0aGlzLl9leGVjdXRlZE1zZ3NbZC5pZF0mJigiMiI9PT1kLnZlcnNpb24mJnRoaXMuX2lzQWxsb3dlZFJlc291cmNlKGQucmVzb3VyY2UpP2QuaW5saW5lP2M9ZC5yZXNvdXJjZTpiPWQucmVzb3VyY2U6dGhpcy5faXNBbGxvd2VkU3RhdGljKGgucGFyc2VVcmwoZC5kb21haW4pLmhvc3QpJiYKdGhpcy5faXNBbGxvd2VkTGFuZyhkLmxhbmcpJiYoYj1kLmRvbWFpbisiL2Nkbi9pbnBhZ2UtcmVtb3RlLyIrKGQubmV3U2NyaXB0QWRkcj8iX2lucGFnZS1yZW1vdGVfIjoiaW5wYWdlLXJlbW90ZS4iKStkLmxhbmcrIi5qcyIpLGImJih0aGlzLl9leGVjdXRlZE1zZ3NbZC5pZF09ITAsbS5feW1fX3Bvc3RNZXNzYWdlRXZlbnQ9YSxtLl95bV9faW5wYWdlTW9kZT1kLmlucGFnZU1vZGUsbS5feW1fX2luaXRNZXNzYWdlPWQuaW5pdE1lc3NhZ2UsdGhpcy5fYnVpbGRSZW1vdGVJZnJhbWUoYikpLGMmJnUubG9hZFNjcmlwdCh7c3JjOmN9LG0pKX19KSxBYz17a2V5OiJzc3AiLG1hdGNoOmZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkKCkmJngucmVhZHkoZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9WyJodHRwczovL2FuLnlhbmRleC5ydS9tYXB1aWQvZ29vZ2xlLyIsImh0dHBzOi8vZG1wLmFkZm9ybS5uZXQvc2VydmluZy9jb29raWUvbWF0Y2g/cGFydHlceDNkMTEyMyJdLGM9ITA7aC5oaWRkZW5GcmFtZUNyZWF0ZSgiaHR0cHM6Ly9tYy55YW5kZXgucnUvbWV0cmlrYS93YXRjaF9tYXRjaC5odG1sIiwKdGhpcy5rZXkpO3ZhciBkPWZ1bmN0aW9uKGEpe2lmKGEuZGF0YSYmYS5kYXRhLnNwbGl0KXt2YXIgZD1hLmRhdGEuc3BsaXQoIioiKTsic2MuZnJhbWUiPT09ZFswXSYmYz8oYz0hMSxoLmNsZWFyVGltZW91dChsKSxhLnNvdXJjZS5wb3N0TWVzc2FnZSgic2MuaW1hZ2VzKiIrYi5qb2luKCIqIiksIioiKSk6InNjLmltYWdlIj09PWRbMF0mJjE8ZC5sZW5ndGgmJmRbMV0mJihiPWguYXJyYXlGaWx0ZXIoYixmdW5jdGlvbihhKXtyZXR1cm4gYSE9PWRbMV19LG51bGwpLGIubGVuZ3RofHwoVGEuc2F2ZSgiY20iLHkuZ2V0TWludXRlcygpKSxmKCkpKX19O3ZhciBmPWZ1bmN0aW9uKCl7eC51bihtLCJtZXNzYWdlIixkLGEse3Bhc3NpdmU6ITF9KTtoLmhpZGRlbkZyYW1lUmVtb3ZlKCJodHRwczovL21jLnlhbmRleC5ydS9tZXRyaWthL3dhdGNoX21hdGNoLmh0bWwiLGEua2V5KX07dmFyIGw9aC5zZXRUaW1lb3V0KGYsM0UzLCJzc3AuY3JlYXRlRnJhbWUiKTt4Lm9uKG0sIm1lc3NhZ2UiLApkLHRoaXMse3Bhc3NpdmU6ITF9KX0pfSxlbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIDE0NDA8eS5nZXRNaW51dGVzKCktVGEuZ2V0TnVtKCJjbSIpJiYidHIiPT09aC5nZXRUbGQoKX19O0QoZnVuY3Rpb24oKXsoZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihkKXtpZihjW2RdKXJldHVybiBjW2RdLmV4cG9ydHM7dmFyIGY9Y1tkXT17aTpkLGw6ITEsZXhwb3J0czp7fX07YVtkXS5jYWxsKGYuZXhwb3J0cyxmLGYuZXhwb3J0cyxiKTtmLmw9ITA7cmV0dXJuIGYuZXhwb3J0c312YXIgYz17fTtiLm09YTtiLmM9YztiLmQ9ZnVuY3Rpb24oYSxjLGgpe2IubyhhLGMpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6aH0pfTtiLm49ZnVuY3Rpb24oYSl7dmFyIGM9YSYmYS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGFbImRlZmF1bHQiXX06ZnVuY3Rpb24oKXtyZXR1cm4gYX07Yi5kKGMsImEiLGMpO3JldHVybiBjfTtiLm89CmZ1bmN0aW9uKGEsYil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpfTtiLnA9IiI7cmV0dXJuIGIoYi5zPTMpfSkoezA6ZnVuY3Rpb24oYSxiLGMpe2IuX19lc01vZHVsZT0hMDtiLmxpc3RUb0FycmF5PWZ1bmN0aW9uKGEpe3JldHVybiBhP1tdLnNsaWNlLmNhbGwoYSk6W119fSwxOmZ1bmN0aW9uKGEsYixjKXtiLl9fZXNNb2R1bGU9ITA7dmFyIGQ9WyIuZ29vZ2xlc3luZGljYXRpb24uY29tLyIsIi9nb29nbGVhZHMiXTtiLmlzR29vZ2xlU3JjPWZ1bmN0aW9uKGEpe3JldHVybiEoIWF8fCFkLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gMDxhLmluZGV4T2YoYil9KS5sZW5ndGgpfX0sMzpmdW5jdGlvbihhLGIsYyl7Yi5fX2VzTW9kdWxlPSEwO2E9e2RldGVjdEFkOmMoNCkuZGV0ZWN0QWR9O20uWWE/bS5ZYS5BZERldGVjdG9yP2E9bS5ZYS5BZERldGVjdG9yOm0uWWEuQWREZXRlY3Rvcj1hOm0uWWE9e0FkRGV0ZWN0b3I6YX07Yi5BZERldGVjdG9yPQphfSwzNDpmdW5jdGlvbihhLGIsYyl7Yi5fX2VzTW9kdWxlPSEwO2IuZ2V0UGFyZW50RWxlbWVudHNDb3VudD1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDs7KWlmKGE9YS5wYXJlbnRFbGVtZW50KWIrKztlbHNlIHJldHVybiBifX0sNDpmdW5jdGlvbihhLGIsYyl7Yi5fX2VzTW9kdWxlPSEwO3ZhciBkPWMoNSksZj1jKDkpLGg9YygzNCksZz1jKDYpLG49dC5ib2R5LHI9dC5kb2N1bWVudEVsZW1lbnQ7Yi5kZXRlY3RBZD1mdW5jdGlvbigpe3ZhciBhPW0ucGFnZVlPZmZzZXR8fHIuc2Nyb2xsVG9wfHxuLnNjcm9sbFRvcCxiPW0ucGFnZVhPZmZzZXR8fHIuc2Nyb2xsTGVmdHx8bi5zY3JvbGxMZWZ0LGM9ci5jbGllbnRUb3B8fG4uY2xpZW50VG9wfHwwLGw9ci5jbGllbnRMZWZ0fHxuLmNsaWVudExlZnR8fDAsaz1yLnNjcm9sbFdpZHRofHxyLm9mZnNldFdpZHRofHxtLmlubmVyV2lkdGgsZT1yLnNjcm9sbEhlaWdodHx8ci5vZmZzZXRIZWlnaHR8fG0uaW5uZXJIZWlnaHQsdD1nLmdldEZyaWVubHlXaW5kb3dzVHJlZShtKSwKdj1bXTtnLndpbmRvd3NUcmVlRWFjaCh0LGZ1bmN0aW9uKGEpe3ZhciBiPWEud2luZG93LGM9YS5wYXJlbnQsZT0wPGQuZ2V0UGFyZW50RnJpZW5kbHlJRnJhbWVzKGIuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5sZW5ndGgsZz1mLmdldEFkc0luV2luZG93KGIse2lzSW5JRnJhbWU6ZX0pO2U9Zy5hZEVsZW1lbnRzO2c9Zy5pZnJhbWVQcm92aWRlcnM7aWYoYyl7dmFyIGg9Yi5mcmFtZUVsZW1lbnQsaz12LmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS53aW5kb3dzVHJlZT09PWN9KVswXS5hZEVsZW1lbnRzO2cuZm9yRWFjaChmdW5jdGlvbihhKXtrLnB1c2goe3Byb3ZpZGVyOmEsZWxlbWVudDpofSl9KX12LnB1c2goe3dpbmRvd3NUcmVlOmEsYWRFbGVtZW50czplfSl9KTt2LmZvckVhY2goZnVuY3Rpb24oYSl7YS5hZEVsZW1lbnRzPWEuYWRFbGVtZW50cy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGguZ2V0UGFyZW50RWxlbWVudHNDb3VudChhLmVsZW1lbnQpLWguZ2V0UGFyZW50RWxlbWVudHNDb3VudChiLmVsZW1lbnQpfSl9KTsKdmFyIHU9W10seD1bXTt2LmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS53aW5kb3dzVHJlZSxjPWIucGFyZW50O2E9YS5hZEVsZW1lbnRzO2I9ZC5nZXRQYXJlbnRGcmllbmRseUlGcmFtZXMoYi53aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTt2YXIgZT1iW2IubGVuZ3RoLTFdO2EuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLmVsZW1lbnQ7eC5wdXNoKHtwcm92aWRlcjphLnByb3ZpZGVyLGVsZW1lbnQ6Yz9lOmJ9KX0pfSk7eC5mb3JFYWNoKGZ1bmN0aW9uKGQpe3ZhciBmPWQuZWxlbWVudDt2YXIgZz1mLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBoPWcudG9wK2EtYztnPWcubGVmdCtiLWw7dmFyIG09Zi5jbGllbnRXaWR0aDtmPWYuY2xpZW50SGVpZ2h0O3ZhciBuPWcrbSxwPWgrZixxPTA+Zz8wOmc8az9nOmsscj0wPmg/MDpoPGU/aDplOzEwMDw9KChuPms/azpuPnE/bjpxKS1xKSooKHA+ZT9lOnA+cj9wOnIpLXIpJiZ1LnB1c2goe3RvcDpoLGxlZnQ6ZywKd2lkdGg6bSxoZWlnaHQ6Zixwcm92aWRlcjpkLnByb3ZpZGVyfSl9KTtyZXR1cm57cGFnZTp7d2lkdGg6ayxoZWlnaHQ6ZX0sd2luZG93Ont0b3A6YSxsZWZ0OmIsd2lkdGg6bS5pbm5lcldpZHRoLGhlaWdodDptLmlubmVySGVpZ2h0fSxhZHM6dX19fSw1OmZ1bmN0aW9uKGEsYixjKXtiLl9fZXNNb2R1bGU9ITA7Yi5nZXRQYXJlbnRGcmllbmRseUlGcmFtZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdOzspdHJ5e2lmKGE9YS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudCliLnB1c2goYSk7ZWxzZSByZXR1cm4gYn1jYXRjaChsKXtyZXR1cm4gYn19fSw2OmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe3JldHVybiBtLmxpc3RUb0FycmF5KGEuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlmcmFtZSIpKS5maWx0ZXIoZnVuY3Rpb24oYSl7aWYoZy5pc1NhZmFyaSlyZXR1cm4hMTt0cnl7cmV0dXJuIGEuY29udGVudFdpbmRvdy5kb2N1bWVudH1jYXRjaChwKXtyZXR1cm4hMX19KS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGVudFdpbmRvd30pfQpmdW5jdGlvbiBmKGEsYil7dmFyIGM9e3dpbmRvdzphLGNoaWxkcmVuOltdLHBhcmVudDpifTtjLmNoaWxkcmVuPWQoYSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBmKGEsYyl9KTtyZXR1cm4gY31mdW5jdGlvbiBoKGEsYil7YihhKTthLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oYSl7cmV0dXJuIGgoYSxiKX0pfWIuX19lc01vZHVsZT0hMDt2YXIgZz1jKDcpLG09YygwKTtiLmdldEZyaWVubHlXaW5kb3dzVHJlZT1mO2Iud2luZG93c1RyZWVFYWNoPWh9LDc6ZnVuY3Rpb24oYSxiLGMpe2IuX19lc01vZHVsZT0hMDthPWMoOCk7Yi5pc1NhZmFyaT1hLmlzU2FmYXJpKCl9LDg6ZnVuY3Rpb24oYSxiLGMpe2IuX19lc01vZHVsZT0hMDtiLmlzU2FmYXJpPWZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO3JldHVybi0xIT09YS5pbmRleE9mKCJzYWZhcmkiKSYmLTE9PT1hLmluZGV4T2YoImNocm9tZSIpJiYtMT09PWEuaW5kZXhPZigiYW5kcm9pZCIpfX0sCjk6ZnVuY3Rpb24oYSxiLGMpe2IuX19lc01vZHVsZT0hMDt2YXIgZD1jKDApLGY9YygxKTtiLmdldEFkc0luV2luZG93PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIpe2IuZm9yRWFjaChmdW5jdGlvbihiKXtlLnB1c2goe3Byb3ZpZGVyOmEsZWxlbWVudDpifSl9KX12YXIgZz1iLmlzSW5JRnJhbWUsaD1hLmRvY3VtZW50LmJvZHksbD1kLmxpc3RUb0FycmF5KGgucXVlcnlTZWxlY3RvckFsbCgiaW1nIikpLG09ZC5saXN0VG9BcnJheShoLnF1ZXJ5U2VsZWN0b3JBbGwoImlmcmFtZSIpKSxxPWQubGlzdFRvQXJyYXkoaC5xdWVyeVNlbGVjdG9yQWxsKCJzY3JpcHQiKSksaz1kLmxpc3RUb0FycmF5KGgucXVlcnlTZWxlY3RvckFsbCgiZGl2IikpLGU9W10sdD1bXSx2PWQubGlzdFRvQXJyYXkoaC5xdWVyeVNlbGVjdG9yQWxsKCJ5YXRhZyIpKSx1PWQubGlzdFRvQXJyYXkoaC5xdWVyeVNlbGVjdG9yQWxsKCJ5YXRhZyB5YXRhZyIpKTtjKCJ5YW5kZXgiLHYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybi0xPT09CnUuaW5kZXhPZihhKX0pKTtjKCJhZHJpdmVyIixtLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4oYT1hLnNyYykmJi0xPGEuaW5kZXhPZigiLmFkcml2ZXIucnUvIil9KSk7YygiYWRmb3giLG0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybihhPWEuaWQpJiYtMTxhLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYWRmb3giKX0pKTtjKCJhZGZveCIsbC5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5zcmMpJiYtMTxhLmluZGV4T2YoIi9iYW5uZXJzLmFkZm94LnJ1LyIpfSkpO2MoImFkZm94IixrLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4tMTxhLmlkLmluZGV4T2YoIkFkRm94X2Jhbm5lcl8iKX0pKTtnJiZsLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4oYT1hLnNyYykmJi0xPGEuaW5kZXhPZigiLmFkZm94LnJ1LyIpfSkubGVuZ3RoJiZ0LnB1c2goImFkZm94Iik7bS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGYuaXNHb29nbGVTcmMoYS5zcmMpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goe3Byb3ZpZGVyOiJnb29nbGUiLAplbGVtZW50OmF9KX0pO2cmJnEuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBmLmlzR29vZ2xlU3JjKGEuc3JjKX0pLmxlbmd0aCYmdC5wdXNoKCJnb29nbGUiKTtjKCJhd2FwcyIsbS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5zcmMpJiYtMTxhLmluZGV4T2YoImF3YXBzLnlhbmRleC5uZXQvIil9KSk7YygiY3JpdGVvIixtLmZpbHRlcihmdW5jdGlvbihhKXt2YXIgYj1hLnNyYzthPWEuaWQ7cmV0dXJuIGImJigtMTxiLmluZGV4T2YoIi5jcml0ZW8uY29tLyIpfHxhJiYtMTxhLmluZGV4T2YoImN0b19pZnJhbWVfIikpPyEwOiExfSkpO3JldHVybnthZEVsZW1lbnRzOmUsaWZyYW1lUHJvdmlkZXJzOnR9fX19KX0sIiIsITApKCk7dmFyIEJjPXtpbml0OmZ1bmN0aW9uKGEsYil7aWYoTWF0aC5yYW5kb20oKTwoYnx8LjAwNSkmJiFFLmdldCgiYWREZXRlY3QiKSl7RS5zZXQoImFkRGV0ZWN0IiwhMCk7dmFyIGM9ZnVuY3Rpb24oYil7dmFyIGM9bS5ZYS5BZERldGVjdG9yLmRldGVjdEFkKCk7CnZhciBkPWMud2luZG93O3ZhciBmPWMucGFnZTthLnNlbmRQYXJhbXMoe19feW06e2Fkczp7dzp7dDpkLnRvcCxsOmQubGVmdCx3OmQud2lkdGgsaDpkLmhlaWdodH0scDp7dzpmLndpZHRoLGg6Zi5oZWlnaHR9LGE6aC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJue3Q6YS50b3AsbDphLmxlZnQsdzphLndpZHRoLGg6YS5oZWlnaHQscDphLnByb3ZpZGVyfX0sYy5hZHMpLGZ1bGw6Yj8xOjB9fX0pfTt2YXIgZD1EKGZ1bmN0aW9uKCl7eC51bihtLCJsb2FkIixkKTtjKCEwKX0sIiIsITApO3gub24obSwibG9hZCIsZCk7aC5zZXRUaW1lb3V0KGMsMUU0LCJBZERldGVjdG9yIiwhMCl9fX0sT2I9Si5pbmhlcml0KHttZXNzYWdlOm0ucG9zdE1lc3NhZ2Usc3BsaXRlcjoiOiIsbmFtZVNwYWNlOiJfX3ltaW5mbyIscGVuZGluZzp7fSxjaGlsZHM6e30saXNJZnJhbWU6ITEscGFyZW50czp7fSxkYXRhVG9TZW5kOntwYXJlbnRzOltdLGNoaWxkczpbXX0sY2hlY2tGcmFtZTpmdW5jdGlvbihhKXt0cnl7dmFyIGI9CmEmJmEucG9zdE1lc3NhZ2V9Y2F0Y2goYyl7cmV0dXJuITF9cmV0dXJuIGJ9LGNoZWNrQ2hpbGRyZW5EYXRhOmZ1bmN0aW9uKGEsYil7aC5hcnJheUV2ZXJ5KHRoaXMuZGF0YVRvU2VuZC5jaGlsZHMsZnVuY3Rpb24oYyl7LTE9PWguYXJyYXlJbmRleE9mKGMudHJ5VG8sYi5jb3VudGVySWQpJiYoYy50cnlUby5wdXNoKGIuY291bnRlcklkKSxoLm1peGluKGMuZGF0YSx7dG9Db3VudGVyOmIuY291bnRlcklkfSksdGhpcy5zZW5kVG9JZnJhbWUoYSxjLmRhdGEsZnVuY3Rpb24oKXtjLnNlbmRlZFRvLnB1c2goYi5jb3VudGVySWQpO2MuY2FsbGJhY2smJmMuY2FsbGJhY2soYixhcmd1bWVudHMpfSkpO3JldHVybiEwfSx0aGlzKX0sY2hlY2tQYXJlbnREYXRhOmZ1bmN0aW9uKGEsYil7aC5hcnJheUV2ZXJ5KHRoaXMuZGF0YVRvU2VuZC5wYXJlbnRzLGZ1bmN0aW9uKGMpey0xPT1oLmFycmF5SW5kZXhPZihjLnRyeVRvLGIuY291bnRlcklkKSYmKGMudHJ5VG8ucHVzaChiLmNvdW50ZXJJZCksCmgubWl4aW4oYy5kYXRhLHt0b0NvdW50ZXI6Yi5jb3VudGVySWR9KSx0aGlzLnNlbmRUb0lmcmFtZShhLGMuZGF0YSxmdW5jdGlvbigpe2Muc2VuZGVkVG8ucHVzaChiLmNvdW50ZXJJZCk7Yy5jYWxsYmFjayYmYy5jYWxsYmFjayhiLGFyZ3VtZW50cyl9KSk7cmV0dXJuITB9LHRoaXMpfSxnZXRIYW5kbGVyczpmdW5jdGlvbigpe3JldHVybntpbml0VG9DaGlsZDpbe2ZuOmZ1bmN0aW9uKGEsYil7YS5zb3VyY2U9PT1tLnRvcCYmdGhpcy50cmlnZ2VyKCJwYXJlbnRDb25uZWN0IixhLGIpfX1dLGluaXRUb1BhcmVudDpbe2ZuOmZ1bmN0aW9uKGEsYil7dGhpcy5jaGlsZHNbYi5jb3VudGVySWRdPXtpbmZvOmIsd2luZG93OmEuc291cmNlfTt0aGlzLmNoZWNrQ2hpbGRyZW5EYXRhKGEuc291cmNlLGIpfX1dLHBhcmVudENvbm5lY3Q6W3tmbjpmdW5jdGlvbihhLGIpe3RoaXMucGFyZW50c1tiLmNvdW50ZXJJZF09e2luZm86Yix3aW5kb3c6YS5zb3VyY2V9O3RoaXMuY2hlY2tQYXJlbnREYXRhKGEuc291cmNlLApiKX19XX19LGdlbk1lc3NhZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz17ZGF0ZTp5LmdldE1zKCksa2V5Ok1hdGgucmFuZG9tKCksZGlyOjB9O2ImJihjPXtkYXRlOmJbMF0sa2V5OmJbMV0sZGlyOmJbMl19KTtoLm1peGluKGEse2NvdW50ZXJJZDp0aGlzLmNvdW50ZXJJZCxoaWQ6dGhpcy5oaWR9KTt2YXIgZD17ZGF0YTphfTtkW3RoaXMubmFtZVNwYWNlXT1bdGhpcy5uYW1lU3BhY2UsYy5kYXRlLGMua2V5LGMuZGlyXS5qb2luKHRoaXMuc3BsaXRlcik7cmV0dXJue21ldGE6YyxzdHJpbmc6YWEuc3RyaW5naWZ5KGQpfX0sc2VuZFRvSWZyYW1lOmZ1bmN0aW9uKGEsYixjLGQpe2I9dGhpcy5nZW5NZXNzYWdlKGIpO3ZhciBmPXRoaXMsbD1bYi5tZXRhLmRhdGUsYi5tZXRhLmtleV0uam9pbih0aGlzLnNwbGl0ZXIpO3RoaXMuY2hlY2tGcmFtZShhKSYmKGEucG9zdE1lc3NhZ2UoYi5zdHJpbmcsIioiKSx0aGlzLnBlbmRpbmdbbF09aC5iaW5kKGMsZHx8dGhpcyksaC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGVsZXRlIGYucGVuZGluZ1tsXX0sCjVFMyx0aGlzLCJmYy50b1NlbmRUb0lmcmFtZSIpKX0sc2VuZFRvQ2hpbGRyZW46ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZj10aGlzLmRhdGFUb1NlbmQuY2hpbGRzLnB1c2goe3NlbmRlZFRvOltdLHRyeVRvOltdLGNhbGxiYWNrOmI/aC5iaW5kKGIsY3x8dGhpcyk6ITEsZGF0YTphfSktMTtoLmZvckVhY2hLZXkodGhpcy5jaGlsZHMsZnVuY3Rpb24oYSl7dGhpcy5kYXRhVG9TZW5kLmNoaWxkc1tmXS50cnlUby5wdXNoKGEpO3JldHVybiAxfSx0aGlzKTtoLmtleXModGhpcy5jaGlsZHMpLmxlbmd0aCYmaC5mb3JFYWNoS2V5KHRoaXMuY2hpbGRzLGZ1bmN0aW9uKGIpe3RoaXMuc2VuZFRvSWZyYW1lKGQuY2hpbGRzW2JdLndpbmRvdyxoLm1peGluKGEse3RvQ291bnRlcjpifSksZnVuY3Rpb24oYSl7dGhpcy5kYXRhVG9TZW5kLmNoaWxkc1tmXS5zZW5kZWRUby5wdXNoKGIpO3RoaXMuZGF0YVRvU2VuZC5jaGlsZHNbZl0uY2FsbGJhY2smJnRoaXMuZGF0YVRvU2VuZC5jaGlsZHNbZl0uY2FsbGJhY2soYSl9LAp0aGlzKX0sdGhpcyl9LHNlbmRUb1BhcmVudHM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZGF0YVRvU2VuZC5wYXJlbnRzLnB1c2goe3NlbmRlZFRvOltdLHRyeVRvOltdLGNhbGxiYWNrOmI/aC5iaW5kKGIsY3x8dGhpcyk6ITEsZGF0YTphfSktMTtoLmZvckVhY2hLZXkodGhpcy5wYXJlbnRzLGZ1bmN0aW9uKGEpe3RoaXMuZGF0YVRvU2VuZC5wYXJlbnRzW2RdLnRyeVRvLnB1c2goYSk7cmV0dXJuIDF9LHRoaXMpO2gua2V5cyh0aGlzLnBhcmVudHMpLmxlbmd0aCYmdGhpcy5zZW5kVG9JZnJhbWUobS5wYXJlbnQsYSxmdW5jdGlvbihhKXtoLmZvckVhY2hLZXkodGhpcy5wYXJlbnRzLGZ1bmN0aW9uKGIpe3RoaXMuZGF0YVRvU2VuZC5wYXJlbnRzW2RdLnNlbmRlZFRvLnB1c2goYik7dGhpcy5kYXRhVG9TZW5kLnBhcmVudHNbZF0uY2FsbGJhY2smJnRoaXMuZGF0YVRvU2VuZC5wYXJlbnRzW2RdLmNhbGxiYWNrKGEpfSx0aGlzKX0sdGhpcyl9LGFkZEhhbmRsZXI6ZnVuY3Rpb24oYSwKYixjKXt0aGlzLmhhbmRsZXJzW2FdfHwodGhpcy5oYW5kbGVyc1thXT1bXSk7dGhpcy5oYW5kbGVyc1thXS5wdXNoKHtmbjpiLGN0eDpjfSl9LGRlc3RydWN0OmZ1bmN0aW9uKCl7eC51bihtLCJtZXNzYWdlIix0aGlzLm9uTWVzc2FnZSx0aGlzLHtwYXNzaXZlOiExLG5hbWU6IkZyYW1lQ29ubmVjdG9yIn0pO3RoaXMuc2VuZFRvSWZyYW1lPWZ1bmN0aW9uKCl7fTt0aGlzLnBhcmVudHM9W107dGhpcy5wZW5kaW5nPXt9O3RoaXMuY2hpbGRzPXt9O3RoaXMuZGF0YVRvU2VuZD17cGFyZW50czpbXSxjaGlsZHM6W119fSxfaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBhPW0uZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlmcmFtZSIpLGI9MDtPYi5zdXBlcmNsYXNzLl9pbml0Q29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmhhbmRsZXJzPWgubWl4aW4oe30sdGhpcy5nZXRIYW5kbGVycygpKTt0aGlzLmlzSWZyYW1lPXYuaXNJZnJhbWUoKTtpZih0aGlzLm1lc3NhZ2Upe2ZvcihiPQowO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdOyhmdW5jdGlvbihhLGIpe2Euc2VuZFRvSWZyYW1lKGIuY29udGVudFdpbmRvdyx7dHlwZToiaW5pdFRvQ2hpbGQifSxmdW5jdGlvbihjKXthLmNoaWxkc1tjLmNvdW50ZXJJZF09e2luZm86Yyx3aW5kb3c6Yi5jb250ZW50V2luZG93fX0pfSkodGhpcyxjKX10aGlzLmlzSWZyYW1lJiZ0aGlzLnNlbmRUb0lmcmFtZShtLnBhcmVudCx7dHlwZToiaW5pdFRvUGFyZW50In0sZnVuY3Rpb24oYSl7dGhpcy50cmlnZ2VyKCJwYXJlbnRDb25uZWN0Iix7c291cmNlOm0ucGFyZW50fSxhKX0pO3gub24obSwibWVzc2FnZSIsdGhpcy5vbk1lc3NhZ2UsdGhpcyx7cGFzc2l2ZTohMSxuYW1lOiJGcmFtZUNvbm5lY3RvciJ9KX19LHRyaWdnZXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7cmV0dXJuIGgubWFwKGZ1bmN0aW9uKGEpe2E9YS5mbi5jYWxsKGEuY3R4fHxkLGIsYyl8fHt9O3JldHVybiBoLm1peGluKGEse2NvdW50ZXJJZDpkLmNvdW50ZXJJZCwKaGlkOmQuaGlkfSl9LHRoaXMuaGFuZGxlcnNbYV0pfSxESVJfSU5ERVg6Mixvbk1lc3NhZ2U6ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXTt0cnl7dmFyIGQ9YS5kYXRhO2Q9YWEucGFyc2UoYS5kYXRhKTt2YXIgZj1kW3RoaXMubmFtZVNwYWNlXX1jYXRjaChnKXtyZXR1cm59aWYoZiYmZi5zdWJzdHJpbmcmJmYuc3Vic3RyaW5nKDAsdGhpcy5uYW1lU3BhY2UubGVuZ3RoKT09dGhpcy5uYW1lU3BhY2Upe2ZvcihiPTA7Mz49YjtiKyspe3ZhciBsPWguYXJyYXlJbmRleE9mKGYsdGhpcy5zcGxpdGVyKTstMSE9PWw/Yy5wdXNoKGYuc3Vic3RyaW5nKDAsbCkpOmMucHVzaChmKTtmPWYuc3Vic3RyaW5nKGwrMSl9Yj1jLnNwbGljZSgxLDMpO2lmKChkPWQuZGF0YSkmJmQudHlwZSYmdGhpcy5oYW5kbGVyc1tkLnR5cGVdJiYiMCI9PT1iW3RoaXMuRElSX0lOREVYXSl7aWYoIWQudG9Db3VudGVyfHxkLnRvQ291bnRlcj09dGhpcy5jb3VudGVySWQpe3RyeXthLnNvdXJjZX1jYXRjaChnKXtyZXR1cm59ZC5jb3VudGVySWQmJgp0aGlzLmNoZWNrRnJhbWUoYS5zb3VyY2UpJiYobD10aGlzLnRyaWdnZXIoZC50eXBlLGEsZCksYS5zb3VyY2UucG9zdE1lc3NhZ2UodGhpcy5nZW5NZXNzYWdlKGwsW2JbMF0sYlsxXSxkLmNvdW50ZXJJZF0pLnN0cmluZywiKiIpKX19ZWxzZSBiW3RoaXMuRElSX0lOREVYXT09dGhpcy5jb3VudGVySWQmJmguaXNBcnJheShkKSYmaC5hcnJheUV2ZXJ5KGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY291bnRlcklkJiZhLmhpZH0pJiYoYT10aGlzLnBlbmRpbmdbW2JbMF0sYlsxXV0uam9pbih0aGlzLnNwbGl0ZXIpXSkmJmEuYXBwbHkodGhpcyxkKX19fSksUGI9e2lkOiJpIixuYW1lOiJuIixwYXRoOiJwIn0sUWI9e2lkOjEwMCxuYW1lOjEwMCxwYXRoOjUwMH0sSmE9Si5pbmhlcml0KHthd2FpdFN1Ym1pdEZvcm1zOltdLF9pbml0Q29tcG9uZW50OkQoZnVuY3Rpb24oKXtULmxvZygiRm9ybSBnb2FsLiBDb3VudGVyICIrdGhpcy5jb3VudGVySWQrIi4gSW5pdC4iKTt4Lm9uKG0sInN1Ym1pdCIsCnRoaXMub25TdWJtaXQsdGhpcyx7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSk7eC5vbihtLCJjbGljayIsdGhpcy5vbkNsaWNrLHRoaXMse2NhcHR1cmU6ITAscGFzc2l2ZTohMH0pO0phLnN1cGVyY2xhc3MuX2luaXRDb21wb25lbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSwicy5mLmkiKSxnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKGIpfHwiIn0sZ2V0SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR8fCIifSxnZXROYW1lOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZShhLCJuYW1lIil9LGdldEFjdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEF0dHJpYnV0ZShhLCJhY3Rpb24iKSxjPU0oKTtifHxhLmFjdGlvbj09PWMuaHJlZnx8KGM9Yy5wcm90b2NvbCsiLy8iK2MuaG9zdCxiPWEuYWN0aW9uLGIuc3RhcnRzV2l0aChjKSYmKGI9Yi5zdWJzdHIoYy5sZW5ndGgpKSk7cmV0dXJuIGJ8fAoiIn0sZ2V0TmFtZXM6ZnVuY3Rpb24oYSl7dmFyIGI9IiIsYz10aGlzO2EmJmEucXVlcnlTZWxlY3RvckFsbCYmKGE9YS5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dCIpLGI9aC5maWx0ZXIoQm9vbGVhbixoLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYy5nZXRBdHRyaWJ1dGUoYSwibmFtZSIpfSxhKSkuam9pbigiOyIpKTtyZXR1cm4gYn0sZ2V0SWRlbnRpZmllcnM6ZnVuY3Rpb24oYSl7cmV0dXJue2lkOnRoaXMuZ2V0SWQoYSksbmFtZTp0aGlzLmdldE5hbWUoYSkscGF0aDp1LmdldEVsZW1lbnRQYXRoKGEpLGFjdGlvbjp0aGlzLmdldEFjdGlvbihhKSxuYW1lczp0aGlzLmdldE5hbWVzKGEpfX0sdHJhbnNmb3JtRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4iPyIrd2Euc3RyaW5naWZ5KGgucmVkdWNlKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YVtjXTtkJiYoYltQYltjXV09UWJbY10/ZC5zbGljZSgwLFFiW2NdKTpkKTtyZXR1cm4gYn0se30saC5rZXlzKFBiKSkse30pfSxvbkNsaWNrOkQoZnVuY3Rpb24oYSl7YT0KYS50YXJnZXQ7dmFyIGI9YS5ub2RlTmFtZSxjLGQ9dGhpczsic3VibWl0IiE9PWEudHlwZXx8IklOUFVUIiE9PWImJiJCVVRUT04iIT09Ynx8IShjPXUuY2xvc2VzdChhLCJmb3JtIikpfHwodGhpcy5hd2FpdFN1Ym1pdEZvcm1zLnB1c2goYyksaC5zZXRUaW1lb3V0KEQoZnVuY3Rpb24oKXtoLmluQXJyYXkoZC5hd2FpdFN1Ym1pdEZvcm1zLGMpJiZkLnN1Ym1pdChjKX0sInMuZi5kIiksMzAwKSl9LCJzLmYuYyIpLG9uU3VibWl0OkQoZnVuY3Rpb24oYSl7dGhpcy5zdWJtaXQoYS50YXJnZXQpfSwicy5mLmUiKSxzdWJtaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZ2V0SWRlbnRpZmllcnMoYSkpO1QubG9nKCJGb3JtIGdvYWwuIENvdW50ZXIgIit0aGlzLmNvdW50ZXJJZCsiLiBGb3JtOiAiK2IrIi4iKTt0aGlzLmF3YWl0U3VibWl0Rm9ybXM9aC5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGIhPT1hfSx0aGlzLmF3YWl0U3VibWl0Rm9ybXMpO3RoaXMuY2IoYil9fSk7CkphLmluaXQ9RChmdW5jdGlvbigpe2lmKCFKYS5pbml0ZWQpe3ZhciBhPW5ldyBLYSh7Y291bnRlcklkOjY1NDQ2NDQxfSk7bmV3IEphKHtjYjpmdW5jdGlvbihiKXt2YXIgYz1MLmhyZWYuc3BsaXQoIj8iKVswXTthLmxvZygic3VibWl0IixjLGIpfSx0cmFuc2Zvcm1EYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhfX0pO0phLmluaXRlZD0hMH19LG51bGwsITApO3ZhciBMPU0oKSxoYj15LmdldFRpbWV6b25lKCksaWI9eS5nZXRUaW1lc3RhbXAoKSxkYT1tLnNjcmVlbixoYz02NCxtYj12LmlzSUUoKT81MTI6MjA0OCxpYz12LmlzSUUoKT81MTI6MjA0OCxCYj12LmlzSUUoKT8xMDA6NDAwLEliPTEwMCxsYj0ibm9pbmRleCIsUmI9L1wuKDNncHw3enxhYWN8YWMzfGFjc3xhaXxhdml8YXBlfGFwa3xhc2Z8Ym1wfGJ6MnxjYWJ8Y2RyfGNyYzMyfGNzc3xjc3Z8Y3VlfGRpdnh8ZG1nfGRqdnU/fGRvYyh4fG18Yik/fGVtZnxlcHN8ZXhlfGZsYWM/fGZsdnxpc298c3dmfGdpZnx0P2d6fGpwZT9nP3xqc3xtM3U4P3xtNGF8bXAoM3w0fGU/Zz8pfG00dnxtZDV8bWt2fG1vdnxtc2l8b2RzfG9nKGd8bXx2KXxwc2R8cmFyfHJzc3xydGZ8c2VhfHNmdnxzaXR8c2hhMXxzdmd8dGFyfHRpZj9mfHRvcnJlbnR8dHN8dHh0fHZvYnx3YXZlP3x3bWF8d212fHdtZnx3ZWJtfHBwdCh4fG18Yik/fHhscyh4fG18Yik/fHBkZnxwaHBzfHBuZ3x4cGl8Zz96aXApJC9pLApDYz0rbmV3IERhdGUsamE9Ik1ldHJpa2EiLHNiLGZiLHphPWZ1bmN0aW9uKCl7cmV0dXJuIjE5NTgifSgpO0UuaW5pdCgpLnNldFNhZmUoImNvdW50ZXJzIix7fSkuc2V0U2FmZSgiaGl0UGFyYW0iLHt9KS5zZXRTYWZlKCJjb3VudGVyTnVtIiwwKS5zZXRTYWZlKCJkYXRhTGF5ZXIiLFtdKS5zZXRTYWZlKCJoaXRJZCIsaC5yYW5kb20oMSwxMDczNzQxODI0KSkuc2V0U2FmZSgiX2dsb2JhbE1ldHJpa2FIaXRJZCIsaC5yYW5kb20oKSkuc2V0U2FmZSgidiIsemEpO0VhLmdsb2JhbENvbmZpZz1FO2phPSJNZXRyaWthMiI7bS5ZYVtqYV09ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGY9dGhpcztyZXR1cm4gRChmdW5jdGlvbigpe2Z1bmN0aW9uIGwoYSxiLGMpe2I9bmV3IE4oe2NvdW50ZXJJZDpifSk7Yi5lcmFzZSgibXAyX3N1YnN0cyIpO2lmKGEpe2E6e3ZhciBkPWEuY29uZGl0aW9uczt2YXIgZTtpZihkJiZkLmxlbmd0aClmb3IoZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO2lmKCJyZWYiPT0KZi50eXBlKXZhciBrPWcoZik7ZWxzZSBpZigiYWR2Ij09Zi50eXBlKXt2YXIgbD1tLllhLl9tZXRyaWthLmNvdW50ZXIuX2RpcmVjdENhbXBhaWduO3ZhciBwPWYuU2VydmljZU5hbWVQYXR0ZXJuO3ZhciBxPWYuUmVmZXJlclBhdHRlcm47az1sP2YuZGlyZWN0X29yZGVyczpmLmRpcmVjdF9jYW1wO3ZhciBHYT10LnJlZmVycmVyLEhhPXdhLnBhcnNlKEwuc2VhcmNoKSx2PXcoTC5zZWFyY2gsTC5oYXNoKSx1O3ZhciB4PUhhO3ZhciB5PXt9O3ZhciBwYT1bInNvdXJjZSIsIm1lZGl1bSIsImNhbXBhaWduIiwidGVybSIsImNvbnRlbnQiXTtmb3IodT0wO3U8cGEubGVuZ3RoO3UrKyl4WyJ1dG1fIitwYVt1XV0mJih5W3BhW3VdXT14WyJ1dG1fIitwYVt1XV0pO3g9eTtwYT1sPyJkaXJlY3QueWFuZGV4LnJ1Ijp2JiZ2LnNlcnZpY2V8fHguc291cmNlO3U9ITE7aWYoIXUmJnAmJnAubGVuZ3RoKWZvcih5PTA7eTxwLmxlbmd0aDt5KyspaWYoKG5ldyBSZWdFeHAocFt5XSwiaSIpKS50ZXN0KHBhKSl7dT0KITA7YnJlYWt9aWYoIXUmJiFmLnlhbmRleF9kaXJlY3QmJnEmJnEubGVuZ3RoKWZvcihwPTA7cDxxLmxlbmd0aDtwKyspaWYoKG5ldyBSZWdFeHAocVtwXSwiaSIpKS50ZXN0KEdhKSl7dT0hMDticmVha30hdSYmZi5nb29nbGVfYWR3b3JkcyYmSGEuZ2NsaWQmJih1PSEwKTtpZih1JiZrJiZrLmxlbmd0aCYmKHU9ITEsbD1sfHx2JiZ2LmNhbXBhaWdufHx4JiZ4LmNhbXBhaWduKSlmb3IoZj0wO2Y8ay5sZW5ndGg7ZisrKWlmKGtbZl09PWwpe3U9ITA7YnJlYWt9az11fWVsc2Ugaz0hMTtpZihrKXtkW2VdLnRyYWNrX2lkJiZiLmNyZWF0ZSgibXAyX3RyYWNrIixkW2VdLnRyYWNrX2lkLDQzMjAwKTticmVhayBhfX19ZD1iLnJlYWQoIm1wMl90cmFjayIpO2E9YS5zdWJzdHMmJmEuc3Vic3RzW2RdO2QmJmE/KGIuY3JlYXRlKCJtcDJfc3Vic3RzIixoLnRvSlNPTihhKSksYT1uKGEpLGMucGFyYW1zKCJfX3ltIixhPyJtcF90cmFja2lkIjoibXBfdHJhY2tpZF9iYWQiLGQpKTpyKCl9ZWxzZSByKCl9CmZ1bmN0aW9uIGcoYSl7dmFyIGI9dC5yZWZlcnJlcnx8IiIsYyxkO2lmKChuZXcgUmVnRXhwKCJeaHR0cHM/Oi8vIitMLmhvc3QrIi8iKSkudGVzdChiKSlyZXR1cm4hMTt2YXIgZT1hLnBhdHRlcm5zO2ZvcihjPTA7YzxlLmxlbmd0aDtjKyspe3ZhciBmPW5ldyBSZWdFeHAoZVtjXSwiaSIpO2lmKGIubWF0Y2goZikpaWYoZj1hLnBhcmFtc3x8W10sZi5sZW5ndGgpe3ZhciBnPWguc2FmZURlY29kZVVSSUNvbXBvbmVudCgoUmVnRXhwLiQxfHwiIikucmVwbGFjZSgvXCsvZywiJTIwIikpO2ZvcihkPTA7ZDxmLmxlbmd0aDtkKyspaWYoZz09aC5zYWZlRGVjb2RlVVJJQ29tcG9uZW50KGZbZF0pKXJldHVybiEwfWVsc2UgcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPSExLGQ7aWYoYSYmInN0cmluZyIhPXR5cGVvZiBhJiZhLmxlbmd0aClmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hW2RdLnNlbGVjdG9yO3ZhciBmPWFbZF0udGV4dDt2YXIgZz1lLmNoYXJBdCgwKTsKZT1lLnNsaWNlKDEpO2lmKCIjIj09Zyl7aWYoZz10LmdldEVsZW1lbnRCeUlkKGUpKWM9ITAsYiYmY2EudW5zaGlmdChbZyxnLmlubmVySFRNTF0pLGcuaW5uZXJIVE1MPWZ9ZWxzZSBpZigiLiI9PWcpZm9yKGc9dS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpLGU9MDtlPGcubGVuZ3RoO2UrKyl7Yz0hMDt2YXIgaD1nW2VdLGs9ZjtiJiZjYS51bnNoaWZ0KFtoLGguaW5uZXJIVE1MXSk7aC5pbm5lckhUTUw9a319cmV0dXJuIGN9ZnVuY3Rpb24gcigpe3ZhciBhO2ZvcihhPTA7YTxjYS5sZW5ndGg7YSsrKWNhW2FdWzBdLmlubmVySFRNTD1jYVthXVsxXX1mdW5jdGlvbiB3KGEsYil7dmFyIGMsZD0iIjthPWEmJmEucmVwbGFjZSgvXlw/LywiIik7Yj1iJiZiLnJlcGxhY2UoL14jLywiIil8fCIiO2lmKGEpe3ZhciBlPWEuc3BsaXQoIlx4MjYiKTtmb3IoYz0wO2M8ZS5sZW5ndGg7YysrKXt2YXIgZj1lW2NdLnNwbGl0KCJceDNkIik7Il9vcGVuc3RhdCI9PT1mWzBdJiYoZD1mWzFdKX19dmFyIGc9CmIuc3BsaXQoIj8iKTtmb3IoYz0wO2M8Zy5sZW5ndGg7YysrKXt2YXIgaz1nW2NdLnNwbGl0KCJceDI2Iik7Zm9yKGU9MDtlPGsubGVuZ3RoO2UrKylmPWtbZV0uc3BsaXQoIlx4M2QiKSwiX29wZW5zdGF0Ij09PWZbMF0mJihkPWZbMV0pfWQmJihkPS0xPGQuaW5kZXhPZigiOyIpP2guc2FmZURlY29kZVVSSUNvbXBvbmVudChkKTpSYS5kZWNvZGUoa2EuZGVjb2RlKGQucmVwbGFjZSgvWy0qX10vZyxmdW5jdGlvbihhKXtyZXR1cm57IioiOiIrIiwiLSI6Ii8iLF86Ilx4M2QifVthXXx8YX0pKSkpO3JldHVybiBkJiYoYz1kLnNwbGl0KCI7IiksND09Yy5sZW5ndGgpP3tzZXJ2aWNlOmNbMF0sY2FtcGFpZ246Y1sxXSxhZDpjWzJdLHNvdXJjZTpjWzNdfTpudWxsfWZ1bmN0aW9uIHAoYSxiKXtyZXR1cm4gRChmdW5jdGlvbigpe2lmKCFmLmlzRGVzdHJ1Y3RpbmcoKSlyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGJ8fCIiKX1mdW5jdGlvbiBDKCl7dmFyIGc9ITEsbj0hMTtDYXx8CihuPVYuaW5pdENvb2tpZShBYSksRWEudXNlckluZm89Vi5fdXNlcklELEFiLmluaXQoRSkpO0VhLmluaXRQVShpYSxFKTt2LmlzQW5kcm9pZFdlYlZpZXcoKXx8RWEuaW5pdFBQKEUpO1YucmV0cmFuc21pdChFKTtvYSYmeGMuaW5pdChvYSxRLGEpO0UuZ2V0KCJwcmkiKSE9QXx8di5pc0FuZHJvaWRXZWJWaWV3KCl8fChFLnNldFNhZmUoInByaSIsbnVsbCksdi5pc1ByaXZhdGUoRChmdW5jdGlvbihhKXtFLnNldCgicHJpIixhKX0sInByaXZDYiIpKSk7aWYoRS5nZXQoImhpdFBhcmFtIilbVV0pe2lmKDEhPWN8fEUuZ2V0KCJjb3VudGVycyIpW1VdKXJldHVybiExO2c9ITB9RS5nZXQoImNvdW50ZXJzIilbVV09ZjtFLmdldCgiaGl0UGFyYW0iKVtVXT0xO0diLnN1YnNjcmliZShVKTtoLmFzeW5jKGZ1bmN0aW9uKCl7RWEuaW5pdEZpcChFKX0sdGhpcywiaW5pdEZpcCIpO2YuX3dlYnZpc29yPUcud2Vidmlzb3J8fCExO2YuX2RpcmVjdENhbXBhaWduPUcuZGlyZWN0Q2FtcGFpZ247Ry50cmFja0hhc2gmJgpJKCEwKTtpZighZyl7bmE9bmV3IEZiKHtwcm90b2NvbDoiaHR0cHM6IixnbG9iYWxDb25maWc6RSxjb3VudGVySWQ6YSxjb3VudGVyVHlwZTpjLGhpZDpRLHR6OmhiLHRzOmliLHVybDpMLmhyZWYsZW5hYmxlZDpmLl93ZWJ2aXNvcix0cnVzdGVkRG9tYWluczpHLnRydXN0ZWREb21haW5zLGNoaWxkSWZyYW1lOkcuY2hpbGRJZnJhbWV9KTtmLnJlcGxhY2VQaG9uZXMoKTtnPW5ldyBLYih7Z2xvYmFsQ29uZmlnOkV9KTt2YXIgcD1mdW5jdGlvbihlKXt2YXIgZz1uZXcgcWIoe3Byb3RvY29sOiJodHRwczoiLGNvdW50ZXJUeXBlOmMsY291bnRlcklkOmEsdHJhY2tIYXNoOk8saGl0SWQ6USx3ZWJ2aXNvcjpmLl93ZWJ2aXNvcixjb3VudGVyOmYsZ2xvYmFsQ29uZmlnOkUsY291bnRlck51bTpoYX0pLGs9e3V0OmphLHJlOm4saGU6fn5HLmh0dHBFcnJvcixhZDoxPT1jJiZtLllhJiZtLllhLkRpcmVjdCxwdjohMCxjcGY6di5pc0Nocm9tZVBkZigpLHNhdmVSZWY6ITB9O3NiPStuZXcgRGF0ZTsKZy5zZW5kSGl0KHt1cmw6UCxyZWZlcnJlcjpmYSx0aXRsZTp1LmdldERvY3VtZW50VGl0bGUoKSx2UGFyYW1zOmIsdXNlclBhcmFtczpCYSxub2hpdDpkLGV4cGVyaW1lbnRzOnNhLG1vZGVzOmssdmlzaXRDb2xvcjpuYS5nZXRWYygpLGhhc1ByZXJlbmRlcjpsYSx0czppYix0ejpoYixjYWxsYmFjazpmdW5jdGlvbihnLGspe2ZifHwoZmI9K25ldyBEYXRlKTtkfHwobGE9ITEpO2c9Z3x8e307dmFyIG49IjAiIT09Zy5wY3M7WChoLmJpbmQocmMsbnVsbCxnKSk7bnx8RWEuaW5pdFpaKCk7Zy5ldSE9PUEmJkUuc2V0U2FmZSgiaXNFVSIsZy5ldSk7VGEuaW5pdChrKTtBYy5tYXRjaCgpO3VjLnN5bmMoYSxjLG4sRSk7ZHx8VC5sb2coIlBhZ2VWaWV3LiBDb3VudGVyICIsYSwiLiBVUkw6ICIsTC5ocmVmLCIuIFJlZmVycmVyOiAiK3QucmVmZXJyZXIsIi4gUGFyYW1zOiAiLGIpO2cud2Vidmlzb3ImJihnLndlYnZpc29yLmlzRVU9RS5nZXQoImlzRVUiKSk7Zi5pc0Rlc3RydWN0aW5nKCl8fAoobmEuc3RhcnQoZy53ZWJ2aXNvcixnLnB1Ymxpc2hlciksbChnLm1wMixhLGYpLHgub24obSwibG9hZCIsZi5yZXBsYWNlUGhvbmVzLGYpKTsoZy5mb3JtX2dvYWxzfHwtMTxtLmxvY2F0aW9uLmhyZWYuaW5kZXhPZigieWFnb2Fsc2Zvcm1zXHgzZDEiKSkmJm5ldyBKYSh7Y291bnRlcklkOmEsY2I6ZnVuY3Rpb24oYSl7Ui5zZW5kRm9ybShhLHt1cmw6Ry51cmw/UDpNKCkuaHJlZn0pfX0pO2YuX2luaXRlZD0hMDtlJiZlKCl9fSl9O2cuc3luYyhwKX1rKCExKTt4Lm9uKHQsImNsaWNrIixlLG51bGwse25hbWU6ImV4dExpbmtDbGljayJ9KTswIT1oLmtleXMoRykubGVuZ3RoJiYobWEmJm1hLmluaXRVc2VyTGF5ZXIoKSxHLmVuYWJsZUFsbD8oayghMCksQighMCkseigpKTooRy5jbGlja21hcCYmQihHLmNsaWNrbWFwKSxHLnRyYWNrTGlua3MmJmsoRy50cmFja0xpbmtzKSxHLmFjY3VyYXRlVHJhY2tCb3VuY2UmJnooRy5hY2N1cmF0ZVRyYWNrQm91bmNlKSksRy50cmlnZ2VyRXZlbnQmJgpoLmFzeW5jKGZ1bmN0aW9uKCl7Uy5kaXNwYXRjaEN1c3RvbUV2ZW50KCJ5YWNvdW50ZXIiK2ErImluaXRlZCIpfSx0aGlzLCJ5YWNvdW50ZXJJbml0IikpfWZ1bmN0aW9uIHEoYSl7dmFyIGI9bmV3IHhhKHtmcmFtZUNvbm5lY3RvcjppYSxnbG9iYWxDb25maWc6RSxpbml0Q291bnRlcjpDLGRpc2FibGU6Ry55YURpc2FibGVHRFBSfSk7Zi5faXNEZXN0cnVjdGluZ3x8KGxhPWEsYi5oYW5kbGUuYXBwbHkoYixhcmd1bWVudHMpKX1mdW5jdGlvbiBrKGEpe3ZhciBiPXt9O3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSAic3RyaW5nIjpiLm9uPSEwO2JyZWFrO2Nhc2UgIm9iamVjdCI6Yi5vbj0hMDticmVhaztjYXNlICJib29sZWFuIjpiLm9uPWE7YnJlYWs7ZGVmYXVsdDpyZXR1cm59Zi5fdHJhY2tMaW5rcz1ifWZ1bmN0aW9uIGUoYSl7aWYoZi5fdHJhY2tMaW5rcyYmZi5fdHJhY2tMaW5rcy5vbil7YT12LmZpbmRUYXJnZXQoYSk7dmFyIGI9di5nZXRMaW5rQ29tcG9uZW50cyhhKSxjPWIuaHJlZiwKZD1FLmdldCgicGFpIixoLm5vb3ApKCk7aWYoYyYmIXUuY2xhc3NOYW1lRXhpc3RzKGEsInltLWRpc2FibGUtdHJhY2tsaW5rIikpe3ZhciBlPWIucHJvdG9jb2wrIi8vIitiLmhvc3RuYW1lK2IucGF0aG5hbWU7ZD17cGFpOmQmJmQrIi0iK1EsbG46ITB9O3ZhciBnPXZiKGEpO2c9Yz09PWc/IiI6ZztpZih1LmNsYXNzTmFtZUV4aXN0cyhhLCJ5bS1leHRlcm5hbC1saW5rIikpUi5zZW5kQ2xpY2tMaW5rKHt1cmw6Yyx0aXRsZTpnLG1vZGVzOmR9LFApO2Vsc2V7dmFyIGs9Ry51cmw/aC5wYXJzZVVybChQKS5ob3N0bmFtZTpNKCkuaG9zdG5hbWU7ZC5kbD1SYi50ZXN0KGUpfHxSYi50ZXN0KGMpfHx3YihjLFBhKXx8d2IoZSxQYSk7Yj1iLmhvc3RuYW1lOyhrP2sucmVwbGFjZSgvXnd3d1wuLywiIik6IiIpLnRvTG93ZXJDYXNlKCk9PShiP2IucmVwbGFjZSgvXnd3d1wuLywiIik6IiIpLnRvTG93ZXJDYXNlKCk/ZC5kbD8oZC5sbj0hMSxSLnNlbmRDbGlja0xpbmsoe3VybDpjLHRpdGxlOmcsCm1vZGVzOmR9LFApKTooZz12YihhKSx5YS5zZXQoInBhaSIsZC5wYWkpLGcmJmchPT1jJiZ5YS5zZXQoImlsIixoLnRyaW0oZyxJYikpKTpjJiYtMSE9PWMuc2VhcmNoKC9eICooZGF0YXxqYXZhc2NyaXB0KTovaSl8fChkLnV0PWxiLFIuc2VuZENsaWNrTGluayh7dXJsOmMsdGl0bGU6Zyxtb2RlczpkfSxQKSl9fX19ZnVuY3Rpb24gQihiKXsidW5kZWZpbmVkIj09PXR5cGVvZiBiJiYoYj0hMCk7ITA9PT1iJiYoYj17fSk7Zi5fY2xpY2ttYXAmJmYuX2NsaWNrbWFwLmRlc3Ryb3koKTtiJiYoZi5fY2xpY2ttYXA9bmV3IHpjKHtnbG9iYWxDb25maWc6RSxmaWx0ZXI6Yi5maWx0ZXIsaWdub3JlVGFnczpiLmlnbm9yZVRhZ3MscXVvdGE6Yi5xdW90YSxpc1RyYWNrSGFzaDpiLmlzVHJhY2tIYXNoLHByb3RvY29sOiJodHRwczoiLGNvdW50ZXJJZDphLGNvdW50ZXJUeXBlOmMsc3RhcnRUaW1lOkNjfSkpfWZ1bmN0aW9uIEgoYSxiKXtmdW5jdGlvbiBjKCl7aWYoIXEpe3AmJmguY2xlYXJUaW1lb3V0KHApOwp2YXIgYz1rP2w6bCsgK25ldyBEYXRlLW47Yz1iLWM7MD5jJiYoYz0wKTtwPWguc2V0VGltZW91dChmdW5jdGlvbigpe3E9ITA7ZSghMSk7YSgpfSxjLCJ0cmFja1VzZXJUaW1lIil9fWZ1bmN0aW9uIGQoKXtnfHwoZj0hMCxrPSExLGc9ITAsYygpKX1mdW5jdGlvbiBlKGEpe3ZhciBiO2ZvcihiPTA7YjxyLmxlbmd0aDtiKz0zKWlmKGEpeC5vbihyW2JdLHJbYisxXSxyW2IrMl0se25hbWU6InRhYlRyYWNrIn0pO2Vsc2UgeC51bihyW2JdLHJbYisxXSxyW2IrMl0pfXZhciBmPSExLGc9ITEsaz0hMCxsPTAsbj0rbmV3IERhdGUscD1udWxsLHE9ITE7aWYodi5pc0lFKCkpaC5zZXRUaW1lb3V0KGEsYiwidHJhY2tVc2VyVGltZSIpO2Vsc2V7dmFyIHI9W20sImJsdXIiLGZ1bmN0aW9uKCl7az1mPWc9ITA7bCs9K25ldyBEYXRlLW47bj0rbmV3IERhdGU7YygpfSxtLCJmb2N1cyIsZnVuY3Rpb24oKXtmfHxnfHwobD0wKTtuPStuZXcgRGF0ZTtmPWc9ITA7az0hMTtjKCl9LHQsImNsaWNrIiwKZCx0LCJtb3VzZW1vdmUiLGQsdCwia2V5ZG93biIsZCx0LCJzY3JvbGwiLGRdO2UoITApO2MoKX19ZnVuY3Rpb24geihiKXt2YXIgYz1HLnJlZmVycmVyP2ZhOnQucmVmZXJyZXIsZD1HLnVybD9QOk0oKS5ocmVmOyJudW1iZXIiIT09dHlwZW9mIGImJihiPTE1RTMpO2lmKCFmLl9pc0FjY3VyYXRlVHJhY2tCb3VuY2Upe2YuX2lzQWNjdXJhdGVUcmFja0JvdW5jZT0hMDt2YXIgZT1uZXcgWSh7Y291bnRlcklkOmF9KTt2YXIgZz1lLmdldCgibGFzdEhpdCIpO2Uuc2V0KCJsYXN0SGl0Iix5LmdldE1zKCkpOygoZT1lLmdldCgibGFzdEhpdCIpKSYmKCFnfHxnPGUtMThFNSl8fCFWYihjLGQpfHwuMT5NYXRoLnJhbmRvbSgpKSYmSChmdW5jdGlvbigpe2Yubm90Qm91bmNlKCk7RGEuaW5pdCguMDAyLHRhKX0sYil9fWZ1bmN0aW9uIEooYSl7dmFyIGI9ZnVuY3Rpb24oKXt2YXIgYT1NKCkuaGFzaC5zcGxpdCgiIyIpWzFdO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgYSlyZXR1cm4hMTt2YXIgYj0KYS5pbmRleE9mKCI/Iik7MDxiJiYoYT1hLnN1YnN0cmluZygwLGIpKTtyZXR1cm4gYX07dmFyIGM9YigpOyhmdW5jdGlvbiBxYSgpe3ZhciBkPWIoKTtkIT09YyYmKGEoKSxjPWQpO3phPWguc2V0VGltZW91dChxYSwyMDAsInRyYWNrSGFzaCIpfSkoKX1mdW5jdGlvbiBJKGEpe2lmKCExPT09YSlPJiYoIm9uaGFzaGNoYW5nZSJpbiBtP3gudW4obSwiaGFzaGNoYW5nZSIsSyk6aC5jbGVhclRpbWVvdXQoemEpLE89ITEpO2Vsc2UgaWYoYT1LLCFPKXtpZigib25oYXNoY2hhbmdlImluIG0peC5vbihtLCJoYXNoY2hhbmdlIixhKTtlbHNlIEooYSk7Tz0hMH1SLnNldFRyYWNrSGFzaChPKTtmLl90cmFja0hhc2g9T31mdW5jdGlvbiBLKCl7dmFyIGE9e3V0OmphLGFkOjE9PWMmJm0uWWEmJm0uWWEuRGlyZWN0LHdoOiEwLHNhdmVSZWY6ITAscHY6ITB9O2JhPWFiLmxhc3RSZWZlcnJlcj12YTtSLnNlbmRBamF4SGl0KHt1cmw6Ry51cmw/UDpNKCkuaHJlZix0aXRsZTp1LmdldERvY3VtZW50VGl0bGUoKSwKcmVmZXJyZXI6YmEsbW9kZXM6YX0pO3ZhPU0oKS5ocmVmfWZ1bmN0aW9uIGRhKGEsYixjKXthPUZhLnBhcnNlVmFsaWRhdGUoYSxiKTtiPVtdO2EmJihiLnB1c2goYSksYz1jfHx7fSxoLmlzRnVuY3Rpb24oYy5jYWxsYmFjaykmJihiLnB1c2goYy5jYWxsYmFjayksYy5jdHgmJmIucHVzaChjLmN0eCkpKTtiLmxlbmd0aCYmZi5wYXJhbXMuYXBwbHkoZixiKX12YXIgamE9IiIsRz17fSxiYT0iIix2YT1hYi5sYXN0UmVmZXJyZXI9TC5ocmVmLHRhPS4wMDIsbGE9ITEsbmE7RS5zZXRTYWZlKCJjb3VudGVyIixmKTtRYSYmRChmdW5jdGlvbigpe3Rocm93IFFhLmVycm9yO30sImluY2x1ZGUuIitRYS5zY29wZSkoKTtpZigib2JqZWN0Ij09PXR5cGVvZiBhKXtHPWE7ZD1hLmRlZmVyO2phPWEudXQ7dmFyIEFhPWEubGRjfHwidWlkIjtjPWEudHlwZTtiPWEucGFyYW1zO3ZhciBCYT1hLnVzZXJQYXJhbXM7dmFyIG9hPWEudG5zO3ZhciBzYT1HLmV4cGVyaW1lbnRzO3ZhciBDYT1HLm5jazt2YXIgUD0KYS51cmw7dmFyIGZhPWEucmVmZXJyZXI7YT1hLmlkfWlmKCFtWyJkaXNhYmxlWWFDb3VudGVyIithXSl7d2EucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz17fSxkO2E9YSYmYS5yZXBsYWNlKC9eXD8vLCIiKXx8IiI7aWYoYS5sZW5ndGgpe3ZhciBlPWEuc3BsaXQoIlx4MjYiKTtmb3IoZD0wO2Q8ZS5sZW5ndGg7ZCsrKWlmKGVbZF0pe3ZhciBmPWVbZF0uc3BsaXQoIlx4M2QiKTtpZihmWzBdKXt2YXIgZz1oLnNhZmVEZWNvZGVVUklDb21wb25lbnQoZlswXSk7Zj1oLnNhZmVEZWNvZGVVUklDb21wb25lbnQoKGZbMV18fCIiKS5yZXBsYWNlKC9cKy9nLCIlMjAiKSk7YiYmZyBpbiBjP2guaXNBcnJheShjW2ddKT9jW2ddLnB1c2goZik6Y1tnXT1bY1tnXSxmXTpjW2ddPWZ9fX1yZXR1cm4gY307dmFyIGNhPVtdO1A9UD9QOk0oKS5ocmVmO2ZhPWZhP2ZhOnQucmVmZXJyZXI7YT1hfHwwOy9eXGQrJC8udGVzdChhKXx8KGE9MCk7Yz1jfHwwO3ZhciBVPWErIjoiK2M7aWYoRS5nZXQoImNvdW50ZXJzIilbVV0pcmV0dXJuIFQubG9nKCJEdXBsaWNhdGUgY291bnRlciAiKwpVKyIgaW5pdGlhbGl6YXRpb24iKSxFLmdldCgiY291bnRlcnMiKVtVXTt2YXIgUT1FLmdldCgiaGl0SWQiKTt2YXIgaWE9bmV3IE9iKHtjb3VudGVySWQ6YSxoaWQ6UX0pO0Uuc2V0KCJjb3VudGVyTnVtIixFLmdldCgiY291bnRlck51bSIpKzEpO3ZhciBoYT1FLmdldCgiY291bnRlck51bSIpO3ZhciBYPXFjKFUsZik7WChzYyk7dmFyIFI9bmV3IFNhKHtwcm90b2NvbDoiaHR0cHM6Iixjb3VudGVyVHlwZTpjLGNvdW50ZXJJZDphLGhpdElkOlEsY291bnRlcjpmLGdsb2JhbENvbmZpZzpFLGNvdW50ZXJOdW06aGF9KTt2YXIgRGE9e2luaXQ6ZnVuY3Rpb24oYSxiKXtpZihtLnBlcmZvcm1hbmNlJiYiZnVuY3Rpb24iPT09dHlwZW9mIHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUpe2E9PT1BJiYoYT0xKTtiPT09QSYmKGI9MSk7dmFyIGM9TWF0aC5yYW5kb20oKT5hLGQ9TWF0aC5yYW5kb20oKT5iO2lmKCFjfHwhZCl7dmFyIGU9ezE4ODI2ODk2MjI6MSwyMzE4MjA1MDgwOjEsMzExNTg3MTEwOToxLAozNjA0ODc1MTAwOjEsMzM5MzY2OTk0OjEsMjg5MDQ1MjM2NToxLDg0OTM0MDEyMzoxLDE3Mzg3MjY0NjoxLDIzNDM5NDcxNTY6MSw2NTUwMTI5Mzc6MSwxOTk2NTM5NjU0OjEsMjA2NTQ5ODE4NToxLDgyMzY1MTI3NDoxLDEyMjgyNDYxOjEsMTU1NTcxOTMyODoxLDE0MTcyMjkwOTM6MSwxMzgzOTY5ODU6MX0sZj1wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKCJyZXNvdXJjZSIpLGc9e30saz17fSxsPXtjb3VudGVySWQ6NTE1MzM5NjZ9LG49e30scDtmb3IocD0wO3A8Zi5sZW5ndGg7cCsrKXt2YXIgcT1mW3BdO3ZhciByPXEubmFtZS5yZXBsYWNlKC9eaHR0cHM/OlwvXC8vLCIiKS5zcGxpdCgiPyIpWzBdO3ZhciB0PWguZm52MzJhKHIpOyJzY3JpcHQiIT09cS5pbml0aWF0b3JUeXBlfHxjfHwoa1tyXT17ZG5zOk1hdGgucm91bmQocS5kb21haW5Mb29rdXBFbmQtcS5kb21haW5Mb29rdXBTdGFydCksdGNwOk1hdGgucm91bmQocS5jb25uZWN0RW5kLXEuY29ubmVjdFN0YXJ0KSwKZHVyYXRpb246TWF0aC5yb3VuZChxLmR1cmF0aW9uKSxyZXNwb25zZTpNYXRoLnJvdW5kKHEucmVzcG9uc2VFbmQtcS5yZXF1ZXN0U3RhcnQpLG5hbWU6cS5uYW1lLGRlY29kZWRCb2R5U2l6ZTpxLmRlY29kZWRCb2R5U2l6ZX0pOyFlW3RdfHxnW3JdfHxkfHwoZ1tyXT17ZG5zOk1hdGgucm91bmQocS5kb21haW5Mb29rdXBFbmQtcS5kb21haW5Mb29rdXBTdGFydCksdGNwOk1hdGgucm91bmQocS5jb25uZWN0RW5kLXEuY29ubmVjdFN0YXJ0KSxkdXJhdGlvbjpNYXRoLnJvdW5kKHEuZHVyYXRpb24pLHJlc3BvbnNlOk1hdGgucm91bmQocS5yZXNwb25zZUVuZC1xLnJlcXVlc3RTdGFydCkscGFnZXM6TC5ocmVmfSl9aC5rZXlzKGcpLmxlbmd0aCYmKG4udGltaW5nczg9Zyk7aC5rZXlzKGspLmxlbmd0aCYmKG4uc2NyaXB0cz1rKTtoLmtleXMobikubGVuZ3RoJiYobmV3IEthKGwpKS5sb2dQYXJhbXMobil9fX19OzI0MjI2NDQ3PT1hJiYodGE9MSk7Zi5yZXBsYWNlUGhvbmVzPXAoZnVuY3Rpb24oKXt2YXIgYiwKYzt0cnl7KGI9KG5ldyBOKHtjb3VudGVySWQ6YX0pKS5yZWFkKCJtcDJfc3Vic3RzIikpJiYoYz1hYS5wYXJzZShiKSkmJm4oYywhMCl9Y2F0Y2gocGEpe31yZXR1cm4gZn0sImNvdW50ZXIucmVwbGFjZVBob25lcyIpO2YucmVhY2hHb2FsPXAoZnVuY3Rpb24oYixjLGQsZSl7Mjw9YXJndW1lbnRzLmxlbmd0aCYmImZ1bmN0aW9uIj09PXR5cGVvZiBjJiYoZT1kLGQ9YyxjPUEpO1QubG9nKCJSZWFjaCBnb2FsLiBDb3VudGVyOiAiK2ErIi4gR29hbCBpZDogIitiKyIuIFBhcmFtczogIixjKTtSLnNlbmRHb2FsKGIse3VybDpHLnVybD9QOk0oKS5ocmVmLHZQYXJhbXM6YyxjYWxsYmFjazpkLGN0eDplfSk7cmV0dXJuIGZ9LCJjb3VudGVyLnJlYWNoR29hbCIpO2YudHJhY2tMaW5rcz1wKGZ1bmN0aW9uKGEpe2soYSk7cmV0dXJuIGZ9LCJjb3VudGVyLnRyYWNrTGlua3MiKTt2YXIgeWE9bmV3IFkoe2NvdW50ZXJJZDphfSk7Zi5oaXQ9cChmdW5jdGlvbihiLGMsZCxlLGcsayl7KGI9YiYmCmguaXNGdW5jdGlvbihiLnRvU3RyaW5nKT9iLnRvU3RyaW5nKCk6ITEpPyhoLmlzT2JqZWN0KGMpJiYoZD1jLnJlZmVyZXIsZT1jLnBhcmFtcyxnPWMuY2FsbGJhY2ssaz1jLmN0eCxjPWMudGl0bGUpLFA9YixULmxvZygiUGFnZVZpZXcuIENvdW50ZXIgIithLCIuIFVSTDogIitiLCIuIFJlZmVycmVyOiAiK2QsIi4gUGFyYW1zOiAiLGUpLFIuc2VuZEhpdCh7dXJsOmIsdGl0bGU6YyxoYXNQcmVyZW5kZXI6bGEscmVmZXJyZXI6ZCx2UGFyYW1zOmUsY2FsbGJhY2s6ZyxjdHg6a30pLGxhPSExKTpoLndhcm5pbmcoIkVtcHR5IGhpdCB1cmwiKTtyZXR1cm4gZn0sImNvdW50ZXIuaGl0Iik7Zi5wYXJhbXM9cChmdW5jdGlvbihiKXt2YXIgYz1hcmd1bWVudHMubGVuZ3RoLGQ9YyxlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO2lmKGIpe2lmKDE8YXJndW1lbnRzLmxlbmd0aCl7aWYoaC5pc0Z1bmN0aW9uKGFyZ3VtZW50c1tjLTFdKSl7dmFyIGc9YXJndW1lbnRzW2MtMV07ZD1jLTF9ZWxzZSBpZihoLmlzRnVuY3Rpb24oYXJndW1lbnRzW2MtCjJdKSl7Zz1hcmd1bWVudHNbYy0yXTt2YXIgaz1hcmd1bWVudHNbYy0xXTtkPWMtMn1lPVtdLnNsaWNlLmNhbGwoZSwwLGQpOzE8ZS5sZW5ndGgmJihlPVtoLmFycmF5MlByb3BzKGUpXSl9Yz0tMSE9PWguYXJyYXlJbmRleE9mKGgua2V5cyhlWzBdKSwiX195bXUiKTsoZD0tMSE9PWguYXJyYXlJbmRleE9mKGgua2V5cyhlWzBdKSwiX195bSIpJiZlWzBdLl9feW0udXNlcl9pZCk/VC5sb2coJ1NldCB1c2VyIGlkICInK2VbMF0uX195bS51c2VyX2lkKyciJyk6VC5sb2coKGM/IlVzZXIgcCI6IlAiKSsiYXJhbXMuIENvdW50ZXIgIithKyIuIFBhcmFtczogIixlWzBdKTtSLnNlbmRQYXJhbXMoZVswXSxnLGssRy51cmw/UDpNKCkuaHJlZil9ZWxzZSBoLndhcm5pbmcoIldyb25nIHBhcmFtcyIpO3JldHVybiBmfSwiY291bnRlci5wYXJhbXMiKTtpYS5hZGRIYW5kbGVyKCJwbHVnaW5JbmZvIixmdW5jdGlvbigpe3JldHVybiBHfSx0aGlzKTtpYS5hZGRIYW5kbGVyKCJwYXJlbnRDb25uZWN0IiwKZnVuY3Rpb24oYSxiKXtSLnBhcmFtc1F1ZXVlLnB1c2goe19feW06e3BhcmVudElmcmFtZTp7Y291bnRlcklkOmIuY291bnRlcklkLGhpZDpiLmhpZH19fSl9LHRoaXMpO2YuZmlsZT1wKGZ1bmN0aW9uKGEsYil7YT8oYj1ifHx7fSxSLnNlbmRGaWxlVXBsb2FkKHt1cmw6YSx0aXRsZTpiLnRpdGxlLHZQYXJhbXM6Yi5wYXJhbXMsY2FsbGJhY2s6Yi5jYWxsYmFjayxjdHg6Yi5jdHgscmVmZXJyZXI6Ry51cmw/UDpNKCkuaHJlZn0pKTpoLndhcm5pbmcoIkVtcHR5IGZpbGUgdXJsIik7cmV0dXJuIGZ9LCJjb3VudGVyLmZpbGUiKTtmLmV4dExpbms9cChmdW5jdGlvbihhLGIpe2E/KGI9Ynx8e30sUi5zZW5kRXh0TGluayh7dXJsOmEsdGl0bGU6Yi50aXRsZSx2UGFyYW1zOmIucGFyYW1zLGNhbGxiYWNrOmIuY2FsbGJhY2ssY3R4OmIuY3R4LHJlZmVycmVyOkcudXJsP1A6TSgpLmhyZWZ9LFApKTpoLndhcm5pbmcoIkVtcHR5IGxpbmsiKTtyZXR1cm4gZn0sImNvdW50ZXIuZXh0TGluayIpOwpmLm5vdEJvdW5jZT1wKGZ1bmN0aW9uKGEpe3ZhciBiPTA7YT1hfHx7fTtzYiYmZmImJihiPWZiLXNiKTtSLnNlbmROb3RCb3VuY2UoYix7dXJsOkcudXJsP1A6TSgpLmhyZWYsY2FsbGJhY2s6YS5jYWxsYmFjayxjdHg6YS5jdHh9KTtyZXR1cm4gZn0sImNvdW50ZXIubm90Qm91bmNlIik7dmFyIFBhPVtdO2YuYWRkRmlsZUV4dGVuc2lvbj1wKGZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiBoLndhcm5pbmcoIkVtcHR5IGV4dGVuc2lvbiIpLGY7InN0cmluZyI9PT10eXBlb2YgYT9QYS5wdXNoKGEpOlBhPVBhLmNvbmNhdChhKTtyZXR1cm4gZn0pO2YuY2xpY2ttYXA9cChmdW5jdGlvbihhKXtCKGEpO3JldHVybiBmfSwidGhhdC5jbGlja21hcCIpO2YuYWNjdXJhdGVUcmFja0JvdW5jZT1wKGZ1bmN0aW9uKGEpe3ooYSk7cmV0dXJuIGZ9KTt2YXIgemE9bnVsbDt2YXIgTz0hMTtmLnRyYWNrSGFzaD1wKGZ1bmN0aW9uKGEpe0koYSk7cmV0dXJuIGZ9KTt2YXIgRmE9e3JlcXVpcmVkRWNvbW1lcmNlRmllbGRzOlsiY3VycmVuY3kiLAoiZ29vZHMiXSxwYXJzZVZhbGlkYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy52YWxpZGF0ZShhLGIpLGQ7aWYoIWMuaXNWYWxpZClyZXR1cm4gY29uc29sZSYmY29uc29sZS5sb2coYy5tZXNzYWdlKSwhMTtjPXt9O2NbYV09e307Yi5jdXJyZW5jeSYmKGMuY3VycmVuY3lDb2RlPWIuY3VycmVuY3kpO2IuZ29vZHMmJihjW2FdLnByb2R1Y3RzPWIuZ29vZHMpO2ZvcihkIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShkKSYmLTE9PT1oLmFycmF5SW5kZXhPZih0aGlzLnJlcXVpcmVkRWNvbW1lcmNlRmllbGRzLGQpJiYoY1thXS5hY3Rpb25GaWVsZHx8KGNbYV0uYWN0aW9uRmllbGQ9e30pLGNbYV0uYWN0aW9uRmllbGRbZF09YltkXSk7cmV0dXJue19feW06e2Vjb21tZXJjZTpbY119fX0sdmFsaWRhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMSxkPSIiO2lmKGguaXNPYmplY3QoYikpc3dpdGNoKGEpe2Nhc2UgImRldGFpbCI6Y2FzZSAiYWRkIjpjYXNlICJyZW1vdmUiOmguaXNBcnJheShiLmdvb2RzKSYmCmIuZ29vZHMubGVuZ3RoPyhjPWguYXJyYXlFdmVyeShiLmdvb2RzLGZ1bmN0aW9uKGEpe3JldHVybiBoLmlzT2JqZWN0KGEpJiYoaC5pc1N0cmluZyhhLmlkKXx8aC5pc051bWJlcihhLmlkKXx8aC5pc1N0cmluZyhhLm5hbWUpfHxoLmlzU3RyaW5nKGEubmFtZSkpfSkpfHwoZD0iQWxsIGl0ZW1zIGluICdnb29kcycgc2hvdWxkIGJlIG9iamVjdHMgYW5kIGNvbnRhaW4gJ2lkJyBvciAnbmFtZScgZmllbGQiKTpkPSJFY29tbWVyY2UgZGF0YSBzaG91bGQgY29udGFpbiAnZ29vZHMnIG5vbi1lbXB0eSBhcnJheSI7YnJlYWs7Y2FzZSAicHVyY2hhc2UiOmguaXNOdW1iZXIoYi5pZCl8fGguaXNTdHJpbmcoYi5pZCk/Yz0hMDpkPSJQdXJjaGFzZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4gc3RyaW5nIG9yIG51bWJlciAnaWQnIGZpZWxkIn1lbHNlIGQ9IkVjb21tZXJjZSBkYXRhIHNob3VsZCBiZSBhbiBvYmplY3QiO3JldHVybntpc1ZhbGlkOmMsbWVzc2FnZTpkfX19O2YuZWNvbW1lcmNlRGV0YWlsPQpwKGZ1bmN0aW9uKGEsYil7ZGEoImRldGFpbCIsYSxiKTtyZXR1cm4gZn0sImVjb21tZXJjZS5kZXRhaWwiKTtmLmVjb21tZXJjZUFkZD1wKGZ1bmN0aW9uKGEsYil7ZGEoImFkZCIsYSxiKTtyZXR1cm4gZn0sImVjb21tZXJjZS5hZGQiKTtmLmVjb21tZXJjZVJlbW92ZT1wKGZ1bmN0aW9uKGEsYil7ZGEoInJlbW92ZSIsYSxiKTtyZXR1cm4gZn0sImVjb21tZXJjZS5yZW1vdmUiKTtmLmVjb21tZXJjZVB1cmNoYXNlPXAoZnVuY3Rpb24oYSxiKXtkYSgicHVyY2hhc2UiLGEsYik7cmV0dXJuIGZ9LCJlY29tbWVyY2UucHVyY2hhc2UiKTtmLnVzZXJQYXJhbXM9cChmdW5jdGlvbihhLGIsYyl7aC5pc09iamVjdChhKT9mLnBhcmFtcyh7X195bXU6YX0sYnx8ZnVuY3Rpb24oKXt9LGMpOmgud2FybmluZygiV3JvbmcgdXNlciBwYXJhbXMiKTtyZXR1cm4gZn0sInVwYXJhbXMiKTtmLmV4cGVyaW1lbnRzPXAoZnVuY3Rpb24oYSxiLGMpe1Iuc2VuZEV4cGVyaW1lbnRzKHtjYWxsYmFjazpiLGN0eDpjLApleHBlcmltZW50czphfSk7cmV0dXJuIGZ9LCJleHBzIik7Zi5pZD1mLnNldFVzZXJJRD1wKGZ1bmN0aW9uKGEsYixjKXtoLmlzU3RyaW5nKGEpfHxoLmlzTnVtYmVyKGEpP2YucGFyYW1zKHtfX3ltOnt1c2VyX2lkOmF9fSxifHxmdW5jdGlvbigpe30sYyk6aC53YXJuaW5nKCJJbmNvcnJlY3QgdXNlciBJRCIpO3JldHVybiBmfSwiaWQiKTt2YXIgcmE9bmV3IE47Zi5nZXRDbGllbnRJRD1wKGZ1bmN0aW9uKGEpe3ZhciBiPXJhLnJlYWQoQWEpO2EmJmguaXNGdW5jdGlvbihhKSYmYShiKTtyZXR1cm4gYn0sImd1aWQiKTtmLmVuYWJsZUFsbD1wKGZ1bmN0aW9uKCl7ayghMCk7QighMCk7eigpO3JldHVybiBmfSwiZW5hYmxlQWxsIik7Zi51cGxvYWRQYWdlPXAoZnVuY3Rpb24oKXt9LCJ1cGxvYWRQYWdlIiwhMCk7Zi5kZXN0cnVjdD1wKGZ1bmN0aW9uKCl7Zi5faXNEZXN0cnVjdGluZz0hMDt4LnVuKHQsImNsaWNrIixlLG51bGwse25hbWU6ImV4dExpbmtDbGljayJ9KTt4LnVuKG0sImxvYWQiLApmLnJlcGxhY2VQaG9uZXMsZik7SSghMSk7bmEmJm5hLnN0b3AoKTtFLnNldCgic3RvcFJlY29kZXIiLEEpO0Uuc2V0KCJjb3VudGVyIixBKTttYSYmbWEuZGVzdHJ1Y3QmJm1hLmRlc3RydWN0KCk7QighMSk7dHJ5e2RlbGV0ZSBtWyJ5YUNvdW50ZXIiK2FdLGRlbGV0ZSBFLmdldCgiY291bnRlcnMiKVtVXSxkZWxldGUgRS5nZXQoImhpdFBhcmFtIilbVV19Y2F0Y2goR2Epe319KTtmLmlzRGVzdHJ1Y3Rpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hIWYuX2lzRGVzdHJ1Y3Rpbmd9O0JjLmluaXQoUik7Zi5fcGVyZm9ybWFuY2VUaW1pbmc9eGI7aWYoYSl7dmFyIGVhPXBhcnNlSW50KChuZXcgTih7c2tpcFByZWZpeDohMH0pKS5yZWFkKCJpc19nZHByIiksMTApO2VhPWguaW5BcnJheShbMCwxXSxlYSk/ZWE6QTtFLnNldFNhZmUoImlzRVUiLGVhKTt2YXIgbWE9bmV3IElhKHtjb3VudGVyOmYsY291bnRlcklkOmEsZ2xvYmFsQ29uZmlnOkUsZnJhbWVDb25uZWN0b3I6aWEscHJlZnNFY29tbWVyY2U6Ry5lY29tbWVyY2UsCnByZWZzVXNlRGF0YUxheWVyOkcudXNlRGF0YUxheWVyfSk7aWYoInByZXJlbmRlciI9PT10LndlYmtpdFZpc2liaWxpdHlTdGF0ZXx8InByZXJlbmRlciI9PT10LnZpc2liaWxpdHlTdGF0ZSl7Ui5zZW5kUHJlcmVuZGVySGl0KHt1cmw6UCx2UGFyYW1zOmIsdGl0bGU6dS5nZXREb2N1bWVudFRpdGxlKCkscmVmZXJyZXI6dC5yZWZlcnJlcn0pO3ZhciB1YT1mdW5jdGlvbigpeyJwcmVyZW5kZXIiIT09dC53ZWJraXRWaXNpYmlsaXR5U3RhdGUmJiJwcmVyZW5kZXIiIT09dC52aXNpYmlsaXR5U3RhdGUmJih4LnVuKHQsIndlYmtpdHZpc2liaWxpdHljaGFuZ2UsdmlzaWJpbGl0eWNoYW5nZSIsdWEpLHEoITApKX07eC5vbih0LCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlLHZpc2liaWxpdHljaGFuZ2UiLHVhKX1lbHNlIHEoITEpfX19LCJpbml0IikoKX07R2IuaW5pdChqYSxFKTtuZXcgTmIoe2dsb2JhbENvbmZpZzpFfSk7bS5ZYVtqYV0uY291bnRlcnM9ZnVuY3Rpb24oKXt2YXIgYT1bXTsKaC5mb3JFYWNoS2V5KEUuZ2V0KCJjb3VudGVycyIpLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5zcGxpdCgiOiIpO2EucHVzaCh7aWQ6K2RbMF0sdHlwZTorZFsxXSxhY2N1cmF0ZVRyYWNrQm91bmNlOmMuX2lzQWNjdXJhdGVUcmFja0JvdW5jZSxjbGlja21hcDpjLl9jbGlja21hcCYmYy5fY2xpY2ttYXAuX3N0YXJ0LG9sZENvZGU6ISFtLnlhX2NpZCx0cmFja0hhc2g6ISFjLl90cmFja0hhc2gsdHJhY2tMaW5rczpjLl90cmFja0xpbmtzJiZjLl90cmFja0xpbmtzLm9uLHdlYnZpc29yOiEhYy5fd2Vidmlzb3J9KX0pO3JldHVybiBhfTtFLnNldFNhZmUoImdldENvdW50ZXJzIixmdW5jdGlvbigpe3ZhciBhPVtdO2guZm9yRWFjaEtleShFLmdldCgiY291bnRlcnMiKSxmdW5jdGlvbihiLGMpe3ZhciBkPWIuc3BsaXQoIjoiKTthLnB1c2goe2lkOitkWzBdLHR5cGU6K2RbMV0sYWNjdXJhdGVUcmFja0JvdW5jZTpjLl9pc0FjY3VyYXRlVHJhY2tCb3VuY2UsY2xpY2ttYXA6Yy5fY2xpY2ttYXAmJgpjLl9jbGlja21hcC5fc3RhcnQsb2xkQ29kZTohIW0ueWFfY2lkLHRyYWNrSGFzaDohIWMuX3RyYWNrSGFzaCx0cmFja0xpbmtzOmMuX3RyYWNrTGlua3MmJmMuX3RyYWNrTGlua3Mub24sd2Vidmlzb3I6ISFjLl93ZWJ2aXNvcn0pfSk7cmV0dXJuIGF9KTttLnlhX2NpZCYmbS5ZYS5NZXRyaWthJiZuZXcgbS5ZYS5NZXRyaWthKG0ueWFfY2lkLG0ueWFfcGFyYW1zLG0ueWFfY2xhc3MpO20ueWFfY2lkJiYhbS55YV9oaXQmJihtLnlhX2hpdD1mdW5jdGlvbihhLGIpe20uWWEuX21ldHJpa2EuY291bnRlciYmbS5ZYS5fbWV0cmlrYS5jb3VudGVyLnJlYWNoR29hbChhLGIpfSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt0cnl7ZGVsZXRlIG1bYV19Y2F0Y2gocil7bVthXT1BfX12YXIgYj0ieWFuZGV4X21ldHJpa2FfY2FsbGJhY2siLGM9InlhbmRleF9tZXRyaWthX2NhbGxiYWNrcyI7Yj0ieWFuZGV4X21ldHJpa2FfY2FsbGJhY2syIjtjPSJ5YW5kZXhfbWV0cmlrYV9jYWxsYmFja3MyIjsKdmFyIGQ9bVtiXSxmPW1bY10saDsiZnVuY3Rpb24iPT10eXBlb2YgZCYmZCgpO2lmKCJvYmplY3QiPT10eXBlb2YgZil7dmFyIGc9Zi5sZW5ndGg7Zm9yKGQ9MDtkPGc7ZCsrKWlmKGg9ZltkXSlmW2RdPW51bGwsaCgpfWEoYik7YShjKX0pKCk7bS5ZYVtqYV0uaW5mb3JtZXI9ZnVuY3Rpb24oYSl7dmFyIGI9ISFtLllhW2phXS5faW5mb3JtZXI7WWFbamFdLl9pbmZvcm1lcj1hO1lhW2phXS5faW5mb3JtZXIuZG9tYWluPSJpbmZvcm1lci55YW5kZXgucnUiO2J8fHUubG9hZFNjcmlwdCh7c3JjOiJodHRwczovL2luZm9ybWVyLnlhbmRleC5ydS9tZXRyaWthL2luZm9ybWVyLmpzIn0pfTt4Lm9uKHQsImNsaWNrIixEKGZ1bmN0aW9uKGEpe3ZhciBiPVMuZ2V0VGFyZ2V0KGEpO2lmKGImJigieW0tYWR2YW5jZWQtaW5mb3JtZXIiPT09Yi5jbGFzc05hbWV8fGIuY2xhc3NMaXN0JiZiLmNsYXNzTGlzdC5jb250YWlucygieW0tYWR2YW5jZWQtaW5mb3JtZXIiKSkpe3ZhciBjPWIuZ2V0QXR0cmlidXRlKCJkYXRhLWxhbmciKTsKdmFyIGQ9Yi5nZXRBdHRyaWJ1dGUoImRhdGEtY2lkIik7bS5ZYVtqYV0uaW5mb3JtZXIoe2k6YixpZDorZCxsYW5nOmN9KTtTLnByZXZlbnQoYSl9fSwiYWR2LWluZiIpLG51bGwse3Bhc3NpdmU6ITF9KX0pKHRoaXMsdGhpcy5kb2N1bWVudCk7</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="247927390" offset="0" length="16384" />
        <PacketInfo time="247927437" offset="16384" length="16384" />
        <PacketInfo time="247927453" offset="32768" length="16384" />
        <PacketInfo time="247927468" offset="49152" length="16384" />
        <PacketInfo time="247927484" offset="65536" length="16384" />
        <PacketInfo time="247927500" offset="81920" length="16384" />
        <PacketInfo time="247927515" offset="98304" length="10941" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>